/*! For license information please see main.498f9cc1.js.LICENSE.txt */
(()=>{var e={53:e=>{e.exports=function(){return"undefined"!==typeof window&&"object"===typeof window.process&&"renderer"===window.process.type||(!("undefined"===typeof process||"object"!==typeof process.versions||!process.versions.electron)||"object"===typeof navigator&&"string"===typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),_=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case C:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Ee=null;function Ce(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),ke(e.stateNode,e.type,t))}}function Te(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function _e(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ae(e,t){return e(t)}function Ne(){}var Ie=!1;function Pe(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Ae(e,t,n)}finally{Ie=!1,(null!==Se||null!==Ee)&&(Ne(),_e())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var je=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){je=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){je=!1}function Oe(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function Be(e,t,n,r,i,s,o,a,l){Le=!1,Me=null,Oe.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,kt,St,Et,Ct,Tt=!1,_t=[],At=null,Nt=null,It=null,Pt=new Map,Rt=new Map,jt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Tt=!1,null!==At&&Ft(At)&&(At=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==It&&Ft(It)&&(It=null),Pt.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<_t.length){Bt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==Nt&&Bt(Nt,e),null!==It&&Bt(It,e),Pt.forEach(t),Rt.forEach(t),n=0;n<jt.length;n++)(r=jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Mt(n),null===n.blockedOn&&jt.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Kt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Gt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,Yt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Lt(At,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return It=Lt(It,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Lt(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&xt(s),null===(s=Qt(e,t,n,r))&&Hr(e,t,r,Yt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=vi(e=xe(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=M({},cn,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},hn,{relatedTarget:0})),yn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(vn),wn=sn(M({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return En}var Tn=M({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=sn(Tn),An=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),In=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Pn),jn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Mn=u&&(!Dn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Yn(e){Fr(e,0)}function Qn(e){if(G(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Wn(t,Gn,e,xe(e)),Pe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function sr(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},Er={};function Cr(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Tr=Cr("animationend"),_r=Cr("animationiteration"),Ar=Cr("animationstart"),Nr=Cr("transitionend"),Ir=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ir.set(e,t),l(t,[e])}for(var jr=0;jr<Pr.length;jr++){var Dr=Pr[jr];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Tr,"onAnimationEnd"),Rr(_r,"onAnimationIteration"),Rr(Ar,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=s,i=xe(n),o=[];e:{var a=Ir.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Tr:case _r:case Ar:l=yn;break;case Nr:l=In;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&u.push(Wr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,vi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Yr(o,a,l,u,!1),null!==c&&null!==h&&Yr(o,h,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Hn(a))if($n)g=or;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?wi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(y=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=Bn(n))&&(b.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=Re(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Re(n,s))&&o.unshift(Wr(n,l,a)):i||null!=(l=Re(n,s))&&o.push(Wr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[fi]||null}var ki=[],Si=-1;function Ei(e){return{current:e}}function Ci(e){0>Si||(e.current=ki[Si],ki[Si]=null,Si--)}function Ti(e,t){Si++,ki[Si]=e.current,e.current=t}var _i={},Ai=Ei(_i),Ni=Ei(!1),Ii=_i;function Pi(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ji(){Ci(Ni),Ci(Ai)}function Di(e,t,n){if(Ai.current!==_i)throw Error(s(168));Ti(Ai,t),Ti(Ni,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ii=Ai.current,Ti(Ai,e),Ti(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ni),Ci(Ai),Ti(Ai,e)):Ci(Ni),Ti(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,zi),i}finally{bt=t,Vi=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Yi=0,Qi=null,Xi=1,$i="";function Ji(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Yi++]=Xi,Gi[Yi++]=$i,Gi[Yi++]=Qi,Qi=e;var r=Xi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,$i=s+e}else Xi=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Qi;)Qi=Gi[--Yi],Gi[Yi]=null,$i=Gi[--Yi],Gi[Yi]=null,Xi=Gi[--Yi],Gi[Yi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=jc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&vs(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case k:return(t=Fc(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:h(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(i,h),is&&Ji(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Ji(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,m),c}function g(i,a,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===h?u=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return is&&Ji(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&vs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===S?((s=Oc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Dc(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case k:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(o,r.mode,l)).return=r,r=s}return a(r);case R:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(O(o))return g(r,s,o,l);ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Mc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var ws=bs(!0),xs=bs(!1),ks=Ei(null),Ss=null,Es=null,Cs=null;function Ts(){Cs=Es=Ss=null}function _s(e){var t=ks.current;Ci(ks),e._currentValue=t}function As(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){Ss=e,Cs=Es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Is(e){var t=e._currentValue;if(Cs!==e)if(e={context:e,memoizedValue:t,next:null},null===Es){if(null===Ss)throw Error(s(308));Es=e,Ss.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Ps=null;function Rs(e){null===Ps?Ps=[e]:Ps.push(e)}function js(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Rs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Os=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,Rs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Bs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,r){var i=e.updateQueue;Os=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:Os=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=h}}function qs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},Ws=Ei(Hs),Ks=Ei(Hs),Gs=Ei(Hs);function Ys(e){if(e===Hs)throw Error(s(174));return e}function Qs(e,t){switch(Ti(Gs,t),Ti(Ks,e),Ti(Ws,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Ws),Ti(Ws,t)}function Xs(){Ci(Ws),Ci(Ks),Ci(Gs)}function $s(e){Ys(Gs.current);var t=Ys(Ws.current),n=le(t,e.type);t!==n&&(Ti(Ks,e),Ti(Ws,n))}function Js(e){Ks.current===e&&(Ci(Ws),Ci(Ks))}var Zs=Ei(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,io=w.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(uo)}if(ro.current=Jo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,t)throw Error(s(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((so&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,oo.lanes|=h,Ll|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ll|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ko(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function Eo(e,t){var n=oo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Lo(_o.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Po(9,To.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(s(349));0!==(30&so)||Co(n,t,i)}return i}function Co(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&No(e)}function _o(e,t,n){return n((function(){Ao(t)&&No(e)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function No(e){var t=Ds(e,1);null!==t&&nc(t,e,1,-1)}function Io(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ro(){return bo().memoizedState}function jo(e,t,n,r){var i=vo();oo.flags|=e,i.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=bo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Po(t,n,s,r))}oo.flags|=e,i.memoizedState=Po(1|t,n,s,r)}function Oo(e,t){return jo(8390656,8,e,t)}function Lo(e,t){return Do(2048,8,e,t)}function Mo(e,t){return Do(4,2,e,t)}function Fo(e,t){return Do(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Uo.bind(null,t,e),n)}function Bo(){}function zo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,Ll|=n,e.baseState=!0),t)}function Wo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{bt=n,io.transition=r}}function Ko(){return bo().memoizedState}function Go(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e))Xo(t,n);else if(null!==(n=js(e,t,n,r))){nc(n,e,r,ec()),$o(n,t,r)}}function Yo(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Xo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Rs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=js(e,t,i,r))&&(nc(n,e,r,i=ec()),$o(n,t,r))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $o(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Jo={readContext:Is,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Is,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Is,useEffect:Oo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Io,useDebugValue:Bo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Io(!1),t=e[0];return e=Wo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=vo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nl)throw Error(s(349));0!==(30&so)||Co(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Oo(_o.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,To.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Nl.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Is,useCallback:zo,useContext:Is,useEffect:Lo,useImperativeHandle:Vo,useInsertionEffect:Mo,useLayoutEffect:Fo,useMemo:qo,useReducer:xo,useRef:Ro,useState:function(){return xo(wo)},useDebugValue:Bo,useDeferredValue:function(e){return Ho(bo(),ao.memoizedState,e)},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1},ta={readContext:Is,useCallback:zo,useContext:Is,useEffect:Lo,useImperativeHandle:Vo,useInsertionEffect:Mo,useLayoutEffect:Fo,useMemo:qo,useReducer:ko,useRef:Ro,useState:function(){return ko(wo)},useDebugValue:Bo,useDeferredValue:function(e){var t=bo();return null===ao?t.memoizedState=e:Ho(t,ao.memoizedState,e)},useTransition:function(){return[ko(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,r))&&(nc(t,e,r,n),Vs(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=_i,s=t.contextType;return"object"===typeof s&&null!==s?s=Is(s):(i=Ri(t)?Ii:Ai.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):_i),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Is(s):(s=Ri(t)?Ii:Ai.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),zs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=r),ha(0,t)},n}function pa(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var va=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?xs(t,null,n,r):ws(t,e.child,n,r)}function xa(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=go(e,t,n,r,s,i),n=yo(),null===e||ba?(is&&n&&es(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function ka(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Rc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=jc(s,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ta(e,t,n,r,i)}function Ea(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(jl,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(jl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ti(jl,Rl),Rl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ti(jl,Rl),Rl|=r;return wa(e,t,i,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var s=Ri(n)?Ii:Ai.current;return s=Pi(t,s),Ns(t,i),n=go(e,t,n,r,s,i),r=yo(),null===e||ba?(is&&r&&es(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function _a(e,t,n,r,i){if(Ri(n)){var s=!0;Li(t)}else s=!1;if(Ns(t,i),null===t.stateNode)qa(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Is(c):c=Pi(t,c=Ri(n)?Ii:Ai.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,o,r,c),Os=!1;var d=t.memoizedState;o.state=d,zs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ni.current||Os?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Os||sa(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ms(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Is(l):l=Pi(t,l=Ri(n)?Ii:Ai.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,o,r,l),Os=!1,d=t.memoizedState,o.state=d,zs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ni.current||Os?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Os||sa(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Aa(e,t,n,r,s,i)}function Aa(e,t,n,r,i,s){Ca(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ha(e,t,s);r=t.stateNode,va.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,a,s)):wa(e,t,a,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Qs(e,t.containerInfo)}function Ia(e,t,n,r,i){return fs(),ps(i),t.flags|=256,wa(e,t,n,r),t.child}var Pa,Ra,ja,Da,Oa={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ma(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Lc(l,i,0,null),e=Oc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=Oa,e):Fa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ua(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Oc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=Oa,o);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=ua(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Nl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ds(e,i),nc(r,e,i,-1))}return mc(),Ua(e,t,a,r=ua(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Yi++]=Xi,Gi[Yi++]=$i,Gi[Yi++]=Qi,Xi=e.id,$i=e.overflow,Qi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=jc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=jc(r,a):(a=Oc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?La(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Oa,i}return e=(a=e.child).sibling,i=jc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),As(e.return,t,n)}function Ba(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function za(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,s);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=jc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Ri(t.type)&&ji(),Ka(t),null;case 3:return r=t.stateNode,Xs(),Ci(Ni),Ci(Ai),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Ra(e,t),Ka(t),null;case 5:Js(t);var i=Ys(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)ja(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ka(t),null}if(e=Ys(Ws.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ys(Gs.current),Ys(Ws.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ka(t),null;case 13:if(Ci(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Xs(),Ra(e,t),null===e&&zr(t.stateNode.containerInfo),Ka(t),null;case 10:return _s(t.type._context),Ka(t),null;case 19:if(Ci(Zs),null===(o=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Wa(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Wa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>zl&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ka(t),null}else 2*$e()-o.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=Zs.current,Ti(Zs,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Ri(t.type)&&ji(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Ci(Ni),Ci(Ai),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Ci(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(Zs),null;case 4:return Xs(),null;case 10:return _s(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},ja=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ys(Ws.current);var s,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qa=!1,Xa=!1,$a="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||Za(n,t);case 6:var r=ul,i=hl;ul=null,dl(e,t,n),hl=i,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Xa&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ec(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,dl(e,t,n),Xa=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(o,a,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Ec(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),be(l,a);var u=be(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Ec(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Ec(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=$e())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||h,ml(t,e),Xa=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Ja=e,h=e.child;null!==h;){for(d=Ja=h;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){xl(d);continue}}null!==p?(p.return=f,Ja=p):xl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Ec(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){Ec(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Ja=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Qa;var c=Xa;if(Qa=o,(Xa=l)&&!c)for(Ja=i;null!==Ja;)l=(o=Ja).child,22===o.tag&&null!==o.memoizedState?kl(i):null!==l?(l.return=o,Ja=l):kl(i);for(;null!==s;)Ja=s,bl(s,t,n),s=s.sibling;Ja=i,Qa=a,Xa=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ja=s):wl(e)}}function wl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&qs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}Xa||512&t.flags&&il(t)}catch(f){Ec(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function xl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function kl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var s=t.return;try{il(t)}catch(l){Ec(t,s,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Ec(t,o,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var Sl,El=Math.ceil,Cl=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,_l=w.ReactCurrentBatchConfig,Al=0,Nl=null,Il=null,Pl=0,Rl=0,jl=Ei(0),Dl=0,Ol=null,Ll=0,Ml=0,Fl=0,Ul=null,Vl=null,Bl=0,zl=1/0,ql=null,Hl=!1,Wl=null,Kl=null,Gl=!1,Yl=null,Ql=0,Xl=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Al)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,$l=null,Error(s(185));yt(e,n,r),0!==(2&Al)&&e===Nl||(e===Nl&&(0===(2&Al)&&(Ml|=n),4===Dl&&ac(e,Pl)),rc(e,r),1===n&&0===Al&&0===(1&t.mode)&&(zl=$e()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Nl?Pl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(lc.bind(null,e)):Bi(lc.bind(null,e)),oi((function(){0===(6&Al)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Al))throw Error(s(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=dt(e,e===Nl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Al;Al|=2;var o=pc();for(Nl===e&&Pl===t||(ql=null,zl=$e()+500,dc(e,t));;)try{vc();break}catch(l){fc(e,l)}Ts(),Cl.current=o,Al=i,null!==Il?t=0:(Nl=null,Pl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ol,dc(e,0),ac(e,r),rc(e,$e()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=sc(e,o))),1===t))throw n=Ol,dc(e,0),ac(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,Vl,ql);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Bl+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Vl,ql),t);break}xc(e,Vl,ql);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Vl,ql),r);break}xc(e,Vl,ql);break;default:throw Error(s(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=n,null!==t&&oc(t)),e}function oc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function ac(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Al))throw Error(s(327));kc();var t=dt(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ol,dc(e,0),ac(e,t),rc(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Vl,ql),rc(e,$e()),null}function cc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(zl=$e()+500,Ui&&zi())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Al)&&kc();var t=Al;Al|=1;var n=_l.transition,r=bt;try{if(_l.transition=null,bt=1,e)return e()}finally{bt=r,_l.transition=n,0===(6&(Al=t))&&zi()}}function hc(){Rl=jl.current,Ci(jl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ji();break;case 3:Xs(),Ci(Ni),Ci(Ai),no();break;case 5:Js(r);break;case 4:Xs();break;case 13:case 19:Ci(Zs);break;case 10:_s(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nl=e,Il=e=jc(e.current,null),Pl=Rl=t,Dl=0,Ol=null,Fl=Ml=Ll=0,Vl=Ul=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(r=(n=Ps[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ps=null}return e}function fc(e,t){for(;;){var n=Il;try{if(Ts(),ro.current=Jo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(so=0,lo=ao=oo=null,uo=!1,ho=0,Tl.current=null,null===n||null===n.return){Dl=1,Ol=t,Il=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ma(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(o,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=ga(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),ps(ca(c,l));break e}}o=c=ca(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[o]:Ul.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,fa(0,c,t));break e;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(w){t=w,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function pc(){var e=Cl.current;return Cl.current=Jo,null===e?Jo:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Nl||0===(268435455&Ll)&&0===(268435455&Ml)||ac(Nl,Pl)}function gc(e,t){var n=Al;Al|=2;var r=pc();for(Nl===e&&Pl===t||(ql=null,dc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(Ts(),Al=n,Cl.current=r,null!==Il)throw Error(s(261));return Nl=null,Pl=0,Dl}function yc(){for(;null!==Il;)bc(Il)}function vc(){for(;null!==Il&&!Qe();)bc(Il)}function bc(e){var t=Sl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?wc(e):Il=t,Tl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Rl)))return void(Il=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Dl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Dl&&(Dl=5)}function xc(e,t,n){var r=bt,i=_l.transition;try{_l.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Yl);if(0!==(6&Al))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Nl&&(Il=Nl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Nc(tt,(function(){return kc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_l.transition,_l.transition=null;var a=bt;bt=1;var l=Al;Al|=4,Tl.current=null,function(e,t){if(ei=Ht,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){Ec(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Xe(),Al=l,bt=a,_l.transition=o}else e.current=n;if(Gl&&(Gl=!1,Yl=e,Ql=i),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Ql)&&0!==e.tag&&kc(),o=e.pendingLanes,0!==(1&o)?e===$l?Xl++:(Xl=0,$l=e):Xl=0,zi()}(e,t,n,r)}finally{_l.transition=i,bt=r}return null}function kc(){if(null!==Yl){var e=wt(Ql),t=_l.transition,n=bt;try{if(_l.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Ql=0,0!==(6&Al))throw Error(s(331));var i=Al;for(Al|=4,Ja=e.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Ja=d;else for(;null!==Ja;){var f=(h=Ja).sibling,p=h.return;if(sl(h),h===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Ja=v;break e}Ja=o.return}}var b=e.current;for(Ja=b;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){Ec(l,l.return,k)}if(l===a){Ja=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Ja=x;break e}Ja=l.return}}if(Al=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{bt=n,_l.transition=t}}return!1}function Sc(e,t,n){e=Us(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Us(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Pl&n)===n&&(4===Dl||3===Dl&&(130023424&Pl)===Pl&&500>$e()-Bl?dc(e,0):Fl|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ds(e,t))&&(yt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ge(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ic(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Rc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Oc(n.children,i,o,t);case E:a=8,i|=8;break;case C:return(e=Pc(12,n,t,2|i)).elementType=C,e.lanes=o,e;case N:return(e=Pc(13,n,t,i)).elementType=N,e.lanes=o,e;case I:return(e=Pc(19,n,t,i)).elementType=I,e.lanes=o,e;case j:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case _:a=9;break e;case A:a=11;break e;case P:a=14;break e;case R:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,s,o,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Bc(e){if(!e)return _i;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Oi(e,n,t)}return t}function zc(e,t,n,r,i,s,o,a,l){return(e=Vc(n,r,!0,e,0,s,0,a,l)).context=Bc(null),n=e.current,(s=Fs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,s=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,o))&&(nc(e,i,o,s),Vs(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Na(t),fs();break;case 5:$s(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ks,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ma(e,t,n):(Ti(Zs,1&Zs.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ti(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return za(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Ea(e,t,n)}return Ha(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=Pi(t,Ai.current);Ns(t,n),i=go(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Aa(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=_a(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=ka(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ms(e,t),zs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ia(e,t,r,n,i=ca(Error(s(423)),t));break e}if(r!==i){t=Ia(e,t,r,n,i=ca(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ha(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return $s(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ca(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Ma(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ti(ks,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=Ha(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Fs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),As(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),As(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=Is(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),ka(e,t,r,i=na(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),qa(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,Ns(t,n),oa(t,r,i),la(t,r,i,n),Aa(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return Ea(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Hc(o);a.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(o);s.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),uc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),uc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(o)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){qc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,$e()),0===(6&Al)&&(zl=$e()+500,zi()))}break;case 13:uc((function(){var t=Ds(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},kt=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Ds(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Et=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,Ne=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Te,_e,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+A(l,0):s,x(o)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+A(a=e[c],c);l+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=s+A(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},j={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:j,ReactCurrentOwner:S};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,j(k);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var s=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(x,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,C=null,T=-1,_=5,A=-1;function N(){return!(t.unstable_now()-A<_)}function I(){if(null!==C){var e=t.unstable_now();A=e;var n=!0;try{n=C(!0,e)}finally{n?S():(E=!1,C=null)}}else E=!1}if("function"===typeof b)S=function(){b(I)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=I,S=function(){R.postMessage(null)}}else S=function(){y(I,0)};function j(e){C=e,E||(E=!0,S())}function D(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,j(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(T),T=-1):g=!0,D(x,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,j(k))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},884:(e,t,n)=>{const r=n(346);e.exports={recognize:async(e,t,n)=>{const i=await r(t,1,n);return i.recognize(e).finally((async()=>{await i.terminate()}))},detect:async(e,t)=>{const n=await r("osd",0,t);return n.detect(e).finally((async()=>{await n.terminate()}))}}},511:e=>{e.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},588:e=>{e.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}},147:e=>{e.exports={workerBlobURL:!0,logger:()=>{}}},571:e=>{e.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},701:(e,t,n)=>{const r=n(593);let i=0;e.exports=e=>{let{id:t,action:n,payload:s={}}=e,o=t;return"undefined"===typeof o&&(o=r("Job",i),i+=1),{id:o,action:n,payload:s}}},447:function(e,t,n){const r=n(701),{log:i}=n(926),s=n(593);let o=0;e.exports=()=>{const e=s("Scheduler",o),t={},n={};let a=[];o+=1;const l=()=>Object.keys(t).length,c=()=>{if(0!==a.length){const e=Object.keys(t);for(let r=0;r<e.length;r+=1)if("undefined"===typeof n[e[r]]){a[0](t[e[r]]);break}}},u=(t,s)=>new Promise(((o,l)=>{const u=r({action:t,payload:s});a.push((async e=>{a.shift(),n[e.id]=u;try{o(await e[t].apply(this,[...s,u.id]))}catch(r){l(r)}finally{delete n[e.id],c()}})),i("[".concat(e,"]: Add ").concat(u.id," to JobQueue")),i("[".concat(e,"]: JobQueue length=").concat(a.length)),c()}));return{addWorker:n=>(t[n.id]=n,i("[".concat(e,"]: Add ").concat(n.id)),i("[".concat(e,"]: Number of workers=").concat(l())),c(),n.id),addJob:async function(t){if(0===l())throw Error("[".concat(e,"]: You need to have at least one worker before adding jobs"));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return u(t,r)},terminate:async()=>{Object.keys(t).forEach((async e=>{await t[e].terminate()})),a=[]},getQueueLen:()=>a.length,getNumWorkers:l}}},346:(e,t,n)=>{var r=n(897).default,i=n(847).default;const s=["logger","errorHandler"],o=n(402),a=n(57),l=n(701),{log:c}=n(926),u=n(593),h=n(511),{defaultOptions:d,spawnWorker:f,terminateWorker:p,onMessage:m,loadImage:g,send:y}=n(34);let v=0;e.exports=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.LSTM_ONLY,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const w=u("Worker",v),x=o(r(r({},d),n)),{logger:k,errorHandler:S}=x,E=i(x,s),C={},T={},_="string"===typeof e?e.split("+"):e;let A=t,N=b;const I=[h.DEFAULT,h.LSTM_ONLY].includes(t)&&!E.legacyCore;let P,R;const j=new Promise(((e,t)=>{R=e,P=t}));let D=f(E);D.onerror=e=>{P(e.message)},v+=1;const O=(e,t)=>{C[e]=t},L=(e,t)=>{T[e]=t},M=e=>{let{id:t,action:n,payload:r}=e;return new Promise(((e,i)=>{c("[".concat(w,"]: Start ").concat(t,", action=").concat(n));const s="".concat(n,"-").concat(t);O(s,e),L(s,i),y(D,{workerId:w,jobId:t,action:n,payload:r})}))},F=(e,t)=>M(l({id:t,action:"loadLanguage",payload:{langs:e,options:{langPath:E.langPath,dataPath:E.dataPath,cachePath:E.cachePath,cacheMethod:E.cacheMethod,gzip:E.gzip,lstmOnly:[h.DEFAULT,h.LSTM_ONLY].includes(A)&&!E.legacyLang}}})),U=(e,t,n,r)=>M(l({id:r,action:"initialize",payload:{langs:e,oem:t,config:n}}));m(D,(e=>{let{workerId:t,jobId:n,status:i,action:s,data:o}=e;const l="".concat(s,"-").concat(n);if("resolve"===i){c("[".concat(t,"]: Complete ").concat(n));let e=o;"recognize"===s?e=a(o):"getPDF"===s&&(e=Array.from(r(r({},o),{},{length:Object.keys(o).length}))),C[l]({jobId:n,data:e})}else if("reject"===i){if(T[l](o),"load"===s&&P(o),!S)throw Error(o);S(o)}else"progress"===i&&k(r(r({},o),{},{userJobId:n}))}));const V={id:w,worker:D,setResolve:O,setReject:L,load:()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),writeText:(e,t,n)=>M(l({id:n,action:"FS",payload:{method:"writeFile",args:[e,t]}})),readText:(e,t)=>M(l({id:t,action:"FS",payload:{method:"readFile",args:[e,{encoding:"utf8"}]}})),removeFile:(e,t)=>M(l({id:t,action:"FS",payload:{method:"unlink",args:[e]}})),FS:(e,t,n)=>M(l({id:n,action:"FS",payload:{method:e,args:t}})),loadLanguage:()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),initialize:()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),reinitialize:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(I&&[h.TESSERACT_ONLY,h.TESSERACT_LSTM_COMBINED].includes(t))throw Error("Legacy model requested but code missing.");const i=t||A;A=i;const s=n||N;N=s;const o=("string"===typeof e?e.split("+"):e).filter((e=>!_.includes(e)));return _.push(...o),o.length>0?F(o,r).then((()=>U(e,i,s,r))):U(e,i,s,r)},setParameters:function(){return M(l({id:arguments.length>1?arguments[1]:void 0,action:"setParameters",payload:{params:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}))},recognize:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{blocks:!0,text:!0,hocr:!0,tsv:!0};return M(l({id:arguments.length>3?arguments[3]:void 0,action:"recognize",payload:{image:await g(e),options:t,output:n}}))},getPDF:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Tesseract OCR Result",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),M(l({id:n,action:"getPDF",payload:{title:e,textonly:t}}))},detect:async(e,t)=>{if(I)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return M(l({id:t,action:"detect",payload:{image:await g(e)}}))},terminate:async()=>(null!==D&&(p(D),D=null),Promise.resolve())};var B;return M(l({id:B,action:"load",payload:{options:{lstmOnly:I,corePath:E.corePath,logging:E.logging}}})).then((()=>F(e))).then((()=>U(e,t,b))).then((()=>R(V))).catch((()=>{})),j}},938:(e,t,n)=>{var r=n(897).default;const i=n(447),s=n(346),o=n(884),a=n(571),l=n(511),c=n(588),{setLogging:u}=n(926);e.exports=r({languages:a,OEM:l,PSM:c,createScheduler:i,createWorker:s,setLogging:u},o)},57:(e,t,n)=>{var r=n(897).default;e.exports=e=>{const t=[],n=[],i=[],s=[],o=[];return e.blocks&&e.blocks.forEach((a=>{a.paragraphs.forEach((t=>{t.lines.forEach((n=>{n.words.forEach((i=>{i.symbols.forEach((s=>{o.push(r(r({},s),{},{page:e,block:a,paragraph:t,line:n,word:i}))})),s.push(r(r({},i),{},{page:e,block:a,paragraph:t,line:n}))})),i.push(r(r({},n),{},{page:e,block:a,paragraph:t}))})),n.push(r(r({},t),{},{page:e,block:a}))})),t.push(r(r({},a),{},{page:e}))})),r(r({},e),{},{blocks:t,paragraphs:n,lines:i,words:s,symbols:o})}},3:(e,t,n)=>{const r=n(53);e.exports=e=>{const t={};return"undefined"!==typeof WorkerGlobalScope?t.type="webworker":r()?t.type="electron":"object"===typeof document?t.type="browser":"object"===typeof process&&(t.type="node"),"undefined"===typeof e?t:t[e]}},593:e=>{e.exports=(e,t)=>"".concat(e,"-").concat(t,"-").concat(Math.random().toString(16).slice(3,8))},926:function(e,t){var n=this;let r=!1;t.logging=r,t.setLogging=e=>{r=e},t.log=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r?console.log.apply(n,t):null}},402:(e,t,n)=>{var r=n(897).default;const i="browser"===n(3)("type")?e=>new URL(e,window.location.href).href:e=>e;e.exports=e=>{const t=r({},e);return["corePath","workerPath","langPath"].forEach((n=>{e[n]&&(t[n]=i(t[n]))})),t}},597:(e,t,n)=>{var r=n(897).default;const i=n(125).rE,s=n(147);e.exports=r(r({},s),{},{workerPath:"https://cdn.jsdelivr.net/npm/tesseract.js@v".concat(i,"/dist/worker.min.js")})},34:(e,t,n)=>{const r=n(597),i=n(95),s=n(871),o=n(942),a=n(870),l=n(383);e.exports={defaultOptions:r,spawnWorker:i,terminateWorker:s,onMessage:o,send:a,loadImage:l}},383:e=>{const t=e=>new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=e=>{let{target:{error:{code:t}}}=e;n(Error("File could not be read! Code=".concat(t)))},r.readAsArrayBuffer(e)})),n=async e=>{let r=e;if("undefined"===typeof e)return"undefined";if("string"===typeof e)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e))r=atob(e.split(",")[1]).split("").map((e=>e.charCodeAt(0)));else{const t=await fetch(e);r=await t.arrayBuffer()}else if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)"IMG"===e.tagName&&(r=await n(e.src)),"VIDEO"===e.tagName&&(r=await n(e.poster)),"CANVAS"===e.tagName&&await new Promise((n=>{e.toBlob((async e=>{r=await t(e),n()}))}));else if("undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas){const n=await e.convertToBlob();r=await t(n)}else(e instanceof File||e instanceof Blob)&&(r=await t(e));return new Uint8Array(r)};e.exports=n},942:e=>{e.exports=(e,t)=>{e.onmessage=e=>{let{data:n}=e;t(n)}}},870:e=>{e.exports=async(e,t)=>{e.postMessage(t)}},95:e=>{e.exports=e=>{let t,{workerPath:n,workerBlobURL:r}=e;if(Blob&&URL&&r){const e=new Blob(['importScripts("'.concat(n,'");')],{type:"application/javascript"});t=new Worker(URL.createObjectURL(e))}else t=new Worker(n);return t}},871:e=>{e.exports=e=>{e.terminate()}},693:(e,t,n)=>{var r=n(736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},897:(e,t,n)=>{var r=n(693);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},847:(e,t,n)=>{var r=n(893);e.exports=function(e,t){if(null==e)return{};var n,i,s=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s},e.exports.__esModule=!0,e.exports.default=e.exports},893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},45:(e,t,n)=>{var r=n(738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,n)=>{var r=n(738).default,i=n(45);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},125:e=>{"use strict";e.exports={rE:"5.1.1"}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".bcaae24c.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="tutelio-client:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunktutelio_client=self.webpackChunktutelio_client||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{Decoder:()=>Pw,Encoder:()=>Nw,PacketType:()=>Aw,protocol:()=>_w});var t=n(43),r=n.t(t,2),i=n(391);function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function l(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(358);const h=["page"],d=["page","matches"],f=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],m=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var g="popstate";function y(){return E((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return x("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:k(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function v(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Kw){}}}function w(e,t){return{usr:e.state,key:e.key,idx:t}}function x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?S(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function k(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function S(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function E(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=h();function h(){return(o.state||{idx:null}).idx}function d(){a="POP";let e=h(),t=null==e?null:e-c;c=e,l&&l({action:a,location:p.location,delta:t})}function f(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:k(e);return n=n.replace(/ $/,"%20"),v(t,"No window.location.(origin|href) available to create URL for href: ".concat(n)),new URL(n,t)}null==c&&(c=0,o.replaceState(u(u({},o.state),{},{idx:c}),""));let p={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(g,d),l=e,()=>{i.removeEventListener(g,d),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let r=x(p.location,e,t);n&&n(r,e),c=h()+1;let u=w(r,c),d=p.createHref(r);try{o.pushState(u,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(d)}s&&l&&l({action:a,location:p.location,delta:1})},replace:function(e,t){a="REPLACE";let r=x(p.location,e,t);n&&n(r,e),c=h();let i=w(r,c),u=p.createHref(r);o.replaceState(i,"",u),s&&l&&l({action:a,location:p.location,delta:0})},go:e=>o.go(e)};return p}function C(e,t){return T(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function T(e,t,n,r){let i=V(("string"===typeof t?S(t):t).pathname||"/",n);if(null==i)return null;let s=_(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=U(i);o=M(s[a],e,r)}return o}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(v(o.relativePath.startsWith(r),'Absolute route path "'.concat(o.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),o.relativePath=o.relativePath.slice(r.length));let a=W([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(v(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(a,'".')),_(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:L(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of A(e.path))i(e,t,r);else i(e,t)})),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=A(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}var N=/^:[\w-]+$/,I=3,P=2,R=1,j=10,D=-2,O=e=>"*"===e;function L(e,t){let n=e.split("/"),r=n.length;return n.some(O)&&(r+=D),t&&(r+=P),n.filter((e=>!O(e))).reduce(((e,t)=>e+(N.test(t)?I:""===t?R:j)),r)}function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:W([s,u.pathname]),pathnameBase:K(W([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=W([s,u.pathnameBase]))}return o}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function U(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function B(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function z(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function q(e){let t=z(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function H(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=S(e):(r=u({},e),v(!r.pathname||!r.pathname.includes("?"),B("?","pathname","search",r)),v(!r.pathname||!r.pathname.includes("#"),B("#","pathname","hash",r)),v(!r.search||!r.search.includes("#"),B("#","search","hash",r)));let s,o=""===e||""===r.pathname,a=o?"/":r.pathname;if(null==a)s=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?S(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:G(r),hash:Y(i)}}(r,s),c=a&&"/"!==a&&a.endsWith("/"),h=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!h||(l.pathname+="/"),l}var W=e=>e.join("/").replace(/\/\/+/g,"/"),K=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Y=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var X=["POST","PUT","PATCH","DELETE"],$=(new Set(X),["GET",...X]);new Set($),Symbol("ResetLoaderData");var J=t.createContext(null);J.displayName="DataRouter";var Z=t.createContext(null);Z.displayName="DataRouterState";var ee=t.createContext({isTransitioning:!1});ee.displayName="ViewTransition";var te=t.createContext(new Map);te.displayName="Fetchers";var ne=t.createContext(null);ne.displayName="Await";var re=t.createContext(null);re.displayName="Navigation";var ie=t.createContext(null);ie.displayName="Location";var se=t.createContext({outlet:null,matches:[],isDataRoute:!1});se.displayName="Route";var oe=t.createContext(null);oe.displayName="RouteError";function ae(){return null!=t.useContext(ie)}function le(){return v(ae(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(ie).location}var ce="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ue(e){t.useContext(re).static||t.useLayoutEffect(e)}function he(){let{isDataRoute:e}=t.useContext(se);return e?function(){let{router:e}=xe("useNavigate"),n=Se("useNavigate"),r=t.useRef(!1);ue((()=>{r.current=!0}));let i=t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(r.current,ce),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,u({fromRouteId:n},i)))}),[e,n]);return i}():function(){v(ae(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(J),{basename:n,navigator:r}=t.useContext(re),{matches:i}=t.useContext(se),{pathname:s}=le(),o=JSON.stringify(q(i)),a=t.useRef(!1);ue((()=>{a.current=!0}));let l=t.useCallback((function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(a.current,ce),!a.current)return;if("number"===typeof t)return void r.go(t);let l=H(t,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:W([n,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[n,r,o,s,e]);return l}()}t.createContext(null);function de(){let{matches:e}=t.useContext(se),n=e[e.length-1];return n?n.params:{}}function fe(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(se),{pathname:i}=le(),s=JSON.stringify(q(r));return t.useMemo((()=>H(e,JSON.parse(s),i,"path"===n)),[e,s,i,n])}function pe(e,n,r,i){v(ae(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=t.useContext(re),{matches:o}=t.useContext(se),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",h=a?a.pathnameBase:"/",d=a&&a.route;{let e=d&&d.path||"";Te(c,!d||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(c,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,p=le();if(n){var m;let e="string"===typeof n?S(n):n;v("/"===h||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=p;let g=f.pathname||"/",y=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=C(e,{pathname:y});b(d||null!=w,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),b(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let x=be(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:W([h,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:W([h,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,r,i);return n&&x?t.createElement(ie.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},x):x}function me(){let e=Ee(),n=Q(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:o},"ErrorBoundary")," or"," ",t.createElement("code",{style:o},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,a)}var ge=t.createElement(me,null),ye=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(se.Provider,{value:this.props.routeContext},t.createElement(oe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ve(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(J);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(se.Provider,{value:n},i)}function be(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let i=e,s=null===r||void 0===r?void 0:r.errors;if(null!=s){let e=i.findIndex((e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id])));v(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,a=-1;if(r)for(let t=0;t<i.length;t++){let e=i[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(a=t),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){o=!0,i=a>=0?i.slice(0,a+1):[i[0]];break}}}return i.reduceRight(((e,l,c)=>{let u,h=!1,d=null,f=null;r&&(u=s&&l.route.id?s[l.route.id]:void 0,d=l.route.errorElement||ge,o&&(a<0&&0===c?(Te("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):a===c&&(h=!0,f=l.route.hydrateFallbackElement||null)));let p=n.concat(i.slice(0,c+1)),m=()=>{let n;return n=u?d:h?f:l.route.Component?t.createElement(l.route.Component,null):l.route.element?l.route.element:e,t.createElement(ve,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:n})};return r&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?t.createElement(ye,{location:r.location,revalidation:r.revalidation,component:d,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function we(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function xe(e){let n=t.useContext(J);return v(n,we(e)),n}function ke(e){let n=t.useContext(Z);return v(n,we(e)),n}function Se(e){let n=function(e){let n=t.useContext(se);return v(n,we(e)),n}(e),r=n.matches[n.matches.length-1];return v(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function Ee(){var e;let n=t.useContext(oe),r=ke("useRouteError"),i=Se("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[i]}var Ce={};function Te(e,t,n){t||Ce[e]||(Ce[e]=!0,b(!1,n))}t.memo((function(e){let{routes:t,future:n,state:r}=e;return pe(t,void 0,r,n)}));function _e(e){let{to:n,replace:r,state:i,relative:s}=e;v(ae(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=t.useContext(re);b(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=t.useContext(se),{pathname:l}=le(),c=he(),u=H(n,q(a),l,"path"===s),h=JSON.stringify(u);return t.useEffect((()=>{c(JSON.parse(h),{replace:r,state:i,relative:s})}),[c,h,s,r,i]),null}function Ae(e){v(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ne(e){let{basename:n="/",children:r=null,location:i,navigationType:s="POP",navigator:o,static:a=!1}=e;v(!ae(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=t.useMemo((()=>({basename:l,navigator:o,static:a,future:{}})),[l,o,a]);"string"===typeof i&&(i=S(i));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=i,m=t.useMemo((()=>{let e=V(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:s}}),[l,u,h,d,f,p,s]);return b(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:t.createElement(re.Provider,{value:c},t.createElement(ie.Provider,{children:r,value:m}))}function Ie(e){let{children:t,location:n}=e;return pe(Pe(t),n)}t.Component;function Pe(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,Pe(e.props.children,s));v(e.type===Ae,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),v(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Pe(e.props.children,s)),r.push(o)})),r}var Re="get",je="application/x-www-form-urlencoded";function De(e){return null!=e&&"string"===typeof e.tagName}var Oe=null;var Le=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Me(e){return null==e||Le.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(je,'"')),null)}function Fe(e,t){let n,r,i,s,o;if(De(a=e)&&"form"===a.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?V(o,t):null,n=e.getAttribute("method")||Re,i=Me(e.getAttribute("enctype"))||je,s=new FormData(e)}else if(function(e){return De(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return De(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||o.getAttribute("action");if(r=a?V(a,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Re,i=Me(e.getAttribute("formenctype"))||Me(o.getAttribute("enctype"))||je,s=new FormData(o,e),!function(){if(null===Oe)try{new FormData(document.createElement("form"),0),Oe=!1}catch(Kw){Oe=!0}return Oe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(De(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Re,r=null,i=je,o=e}var a;return s&&"text/plain"===i&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function Ue(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ve(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Be(e){return null!=e&&"string"===typeof e.page}function ze(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function qe(e,t,n,r,i,s){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter(((e,t)=>o(e,t)||a(e,t))):"data"===s?t.filter(((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,s)||a(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function He(e){return[...new Set(e)]}function We(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Be(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e}),[])}function Ke(e){return{__html:e}}Symbol("SingleFetchRedirect");function Ge(e){let t="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===t.pathname?t.pathname="_root.data":t.pathname="".concat(t.pathname.replace(/\/$/,""),".data"),t}t.Component;function Ye(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let i,s=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(Q(n))return t.createElement(Qe,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(Qe,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function Qe(e){var n;let{title:r,renderScripts:i,isOutsideRemixApp:s,children:o}=e,{routeModules:a}=et();return null!==a.root&&void 0!==n&&n.Layout&&!s?o:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,i?t.createElement(at,null):null)))}function Xe(e){return!e}function $e(){let e=t.useContext(J);return Ue(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Je(){let e=t.useContext(Z);return Ue(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ze=t.createContext(void 0);function et(){let e=t.useContext(Ze);return Ue(e,"You must render this element inside a <HydratedRouter> element"),e}function tt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nt(e,t,n){if(n&&!ot)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function rt(e){let{page:n}=e,r=s(e,h),{router:i}=$e(),o=t.useMemo((()=>C(i.routes,n,i.basename)),[i.routes,n,i.basename]);return o?t.createElement(st,u({page:n,matches:o},r)):(console.warn("Tried to prefetch ".concat(n," but no routes matched.")),null)}function it(e){let{manifest:n,routeModules:r}=et(),[i,s]=t.useState([]);return t.useEffect((()=>{let t=!1;return async function(e,t,n){return We((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Ve(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(ze).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"}))))}(e,n,r).then((e=>{t||s(e)})),()=>{t=!0}}),[e,n,r]),i}function st(e){let{page:n,matches:r}=e,i=s(e,d),o=le(),{manifest:a,routeModules:l}=et(),{loaderData:c,matches:h}=Je(),f=t.useMemo((()=>qe(n,r,h,a,o,"data")),[n,r,h,a,o]),p=t.useMemo((()=>qe(n,r,h,a,o,"assets")),[n,r,h,a,o]),m=t.useMemo((()=>{if(n===o.pathname+o.search+o.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{var r;let i=a.routes[n.route.id];i&&i.hasLoader&&(!f.some((e=>e.route.id===n.route.id))&&n.route.id in c&&null!==(r=l[n.route.id])&&void 0!==r&&r.shouldRevalidate||i.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let i=Ge(n);return t&&e.size>0&&i.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[c,o,a,f,r,n,l]),g=t.useMemo((()=>function(e,t){return He(e.map((e=>{let n=t.routes[e.route.id];if(!n)return[];let r=[n.module];return n.imports&&(r=r.concat(n.imports)),r})).flat(1))}(p,a)),[p,a]),y=it(p);return t.createElement(t.Fragment,null,m.map((e=>t.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},i)))),g.map((e=>t.createElement("link",u({key:e,rel:"modulepreload",href:e},i)))),y.map((e=>{let{key:n,link:r}=e;return t.createElement("link",u({key:n},r))})))}Ze.displayName="FrameworkContext";var ot=!1;function at(e){let{manifest:n,serverHandoffString:r,isSpaMode:i,renderMeta:s}=et(),{router:o,static:a,staticContext:l}=$e(),{matches:c}=Je(),h=Xe(i);s&&(s.didRenderScripts=!0);let d=nt(c,null,i);t.useEffect((()=>{0}),[]);let f=t.useMemo((()=>{var i;let s=l?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=a?"".concat(null!==n.hmr&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(h?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(d.map(((e,t)=>"import * as route".concat(t," from ").concat(JSON.stringify(n.routes[e.route.id].module),";"))).join("\n"),"\n  ").concat(h?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push("/".concat(r.join("/"))),r.pop();i.forEach((e=>{let r=C(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let s=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return u(u({},e),{},{routes:s})}(n,o),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(d.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ke(s),type:void 0})),t.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ke(c),type:"module",async:!0})))}),[]),p=d.map((e=>{let t=n.routes[e.route.id];return t?(t.imports||[]).concat([t.module]):[]})).flat(1),m=ot?[]:n.entry.imports.concat(p);return ot?null:t.createElement(t.Fragment,null,h?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin}),[...new Set(g)].map((n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin}))),f);var g}function lt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var ct="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ct&&(window.__reactRouterVersion="7.0.2")}catch(Kw){}function ut(e){let{basename:n,children:r,window:i}=e,s=t.useRef();null==s.current&&(s.current=y({window:i,v5Compat:!0}));let o=s.current,[a,l]=t.useState({action:o.action,location:o.location}),c=t.useCallback((e=>{t.startTransition((()=>l(e)))}),[l]);return t.useLayoutEffect((()=>o.listen(c)),[o,c]),t.createElement(Ne,{basename:n,children:r,location:a.location,navigationType:a.action,navigator:o})}var ht=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=t.forwardRef((function(e,n){let r,{onClick:i,discover:o="render",prefetch:a="none",relative:l,reloadDocument:c,replace:h,state:d,target:p,to:m,preventScrollReset:g,viewTransition:y}=e,w=s(e,f),{basename:x}=t.useContext(re),S="string"===typeof m&&ht.test(m),E=!1;if("string"===typeof m&&S&&(r=m,ct))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=V(t.pathname,x);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:E=!0}catch(Kw){b(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let C=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(ae(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=t.useContext(re),{hash:s,pathname:o,search:a}=fe(e,{relative:n}),l=o;return"/"!==r&&(l="/"===o?r:W([r,o])),i.createHref({pathname:l,search:a,hash:s})}(m,{relative:l}),[T,_,A]=function(e,n){let r=t.useContext(Ze),[i,s]=t.useState(!1),[o,a]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=n,f=t.useRef(null);t.useEffect((()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{a(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),t.useEffect((()=>{if(i){let e=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let p=()=>{s(!0)},m=()=>{s(!1),a(!1)};return r?"intent"!==e?[o,f,{}]:[o,f,{onFocus:tt(l,p),onBlur:tt(c,m),onMouseEnter:tt(u,p),onMouseLeave:tt(h,m),onTouchStart:tt(d,p)}]:[!1,f,{}]}(a,w),N=function(e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=he(),c=le(),u=fe(e,{relative:o});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:k(c)===k(u);l(e,{replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a})}}),[c,l,u,r,i,n,e,s,o,a])}(m,{replace:h,state:d,target:p,preventScrollReset:g,relative:l,viewTransition:y});let I=t.createElement("a",u(u(u({},w),A),{},{href:r||C,onClick:E||c?i:function(e){i&&i(e),e.defaultPrevented||N(e)},ref:lt(n,_),target:p,"data-discover":S||"render"!==o?void 0:"true"}));return T&&!S?t.createElement(t.Fragment,null,I,t.createElement(rt,{page:C})):I}));dt.displayName="Link";var ft=t.forwardRef((function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:a=!1,style:l,to:c,viewTransition:h,children:d}=e,f=s(e,p),m=fe(c,{relative:f.relative}),g=le(),y=t.useContext(Z),{navigator:b,basename:w}=t.useContext(re),x=null!=y&&function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(ee);v(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=gt("useViewTransitionState"),s=fe(e,{relative:n.relative});if(!r.isTransitioning)return!1;let o=V(r.currentLocation.pathname,i)||r.currentLocation.pathname,a=V(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=F(s.pathname,a)||null!=F(s.pathname,o)}(m)&&!0===h,k=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,S=g.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(S=S.toLowerCase(),E=E?E.toLowerCase():null,k=k.toLowerCase()),E&&w&&(E=V(E,w)||E);const C="/"!==k&&k.endsWith("/")?k.length-1:k.length;let T,_=S===k||!a&&S.startsWith(k)&&"/"===S.charAt(C),A=null!=E&&(E===k||!a&&E.startsWith(k)&&"/"===E.charAt(k.length)),N={isActive:_,isPending:A,isTransitioning:x},I=_?r:void 0;T="function"===typeof o?o(N):[o,_?"active":null,A?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(N):l;return t.createElement(dt,u(u({},f),{},{"aria-current":I,className:T,ref:n,style:P,to:c,viewTransition:h}),"function"===typeof d?d(N):d)}));ft.displayName="NavLink";var pt=t.forwardRef(((e,n)=>{let{discover:r="render",fetcherKey:i,navigate:o,reloadDocument:a,replace:l,state:c,method:h=Re,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:y}=e,b=s(e,m),w=bt(),x=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(re),i=t.useContext(se);v(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o=u({},fe(e||".",{relative:n})),a=le();if(null==e){o.search=a.search;let e=new URLSearchParams(o.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(o.pathname="/"===o.pathname?r:W([r,o.pathname]));return k(o)}(d,{relative:p}),S="get"===h.toLowerCase()?"get":"post",E="string"===typeof d&&ht.test(d);return t.createElement("form",u(u({ref:n,method:S,action:x,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||h;w(t||e.currentTarget,{fetcherKey:i,method:n,navigate:o,replace:l,state:c,relative:p,preventScrollReset:g,viewTransition:y})}},b),{},{"data-discover":E||"render"!==r?void 0:"true"}))}));function mt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function gt(e){let n=t.useContext(J);return v(n,mt(e)),n}pt.displayName="Form";var yt=0,vt=()=>"__".concat(String(++yt),"__");function bt(){let{router:e}=gt("useSubmit"),{basename:n}=t.useContext(re),r=Se("useRouteId");return t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:o,encType:a,formData:l,body:c}=Fe(t,n);if(!1===i.navigate){let t=i.fetcherKey||vt();await e.fetch(t,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,n,r])}new TextEncoder;const wt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},xt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(wt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new kt;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class kt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const St=function(e){return function(e){const t=wt(e);return xt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Et=function(e){try{return xt.decodeString(e,!0)}catch(Kw){console.error("base64Decode failed: ",Kw)}return null};const Ct=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Tt=()=>{try{return Ct()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyC0PBRqnojDUkFC_t-2qMJG1R6DJUoTwEA",REACT_APP_APP_ID:"1:329773835499:web:f55cb179c5ebd6de564aae",REACT_APP_AUTH_DOMAIN:"tutelio-in.firebaseapp.com",REACT_APP_CLOUDINARY_API_KEY:"372516621742566",REACT_APP_CLOUDINARY_API_SECRET:"jLqjiHznx4ib-cBlB8XEajWzV1I",REACT_APP_CLOUDINARY_CLOUD_NAME:"dfqyzvyuh",REACT_APP_HUGGINGFACE_API_KEY:"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",REACT_APP_MESSAGING_SENDER_ID:"329773835499",REACT_APP_PROJECT_ID:"tutelio-in",REACT_APP_SERVER_URL:"http://localhost:5000",REACT_APP_STORAGE_BUCKET:"tutelio-in.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Kw){return}const t=e&&Et(e[1]);return t&&JSON.parse(t)})()}catch(Kw){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Kw))}},_t=e=>{var t,n;return null===(n=null===(t=Tt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},At=()=>{var e;return null===(e=Tt())||void 0===e?void 0:e.config},Nt=e=>{var t;return null===(t=Tt())||void 0===t?void 0:t["_".concat(e)]};class It{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Pt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Rt(){try{return"object"===typeof indexedDB}catch(Kw){return!1}}class jt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,jt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dt.prototype.create)}}class Dt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ot,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new jt(n,s,t)}}const Ot=/\{\$([^}]+)}/g;function Lt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Mt(n)&&Mt(s)){if(!Lt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Mt(e){return null!==e&&"object"===typeof e}function Ft(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ut(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Vt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Bt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=zt),void 0===r.error&&(r.error=zt),void 0===r.complete&&(r.complete=zt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Kw){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Kw){"undefined"!==typeof console&&console.error&&console.error(Kw)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function zt(){}function qt(e){return e&&e._delegate?e._delegate:e}class Ht{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wt="[DEFAULT]";class Kt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new It;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Kw){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Kw){if(r)return null;throw Kw}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Wt})}catch(Kw){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Kw){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Gt(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt;return this.component?this.component.multipleInstances?e:Wt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Gt(e){return e===Wt?void 0:e}class Yt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Kt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Qt=[];var Xt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Xt||(Xt={}));const $t={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},Jt=Xt.INFO,Zt={[Xt.DEBUG]:"log",[Xt.VERBOSE]:"log",[Xt.INFO]:"info",[Xt.WARN]:"warn",[Xt.ERROR]:"error"},en=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Zt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class tn{constructor(e){this.name=e,this._logLevel=Jt,this._logHandler=en,this._userLogHandler=null,Qt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?$t[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xt.DEBUG,...t),this._logHandler(this,Xt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xt.VERBOSE,...t),this._logHandler(this,Xt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xt.INFO,...t),this._logHandler(this,Xt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xt.WARN,...t),this._logHandler(this,Xt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xt.ERROR,...t),this._logHandler(this,Xt.ERROR,...t)}}let nn,rn;const sn=new WeakMap,on=new WeakMap,an=new WeakMap,ln=new WeakMap,cn=new WeakMap;let un={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return on.get(e);if("objectStoreNames"===t)return e.objectStoreNames||an.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function hn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(rn||(rn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(pn(this),n),fn(sn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return fn(e.apply(pn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(pn(this),t,...r);return an.set(s,t.sort?t.sort():[t]),fn(s)}}function dn(e){return"function"===typeof e?hn(e):(e instanceof IDBTransaction&&function(e){if(on.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));on.set(e,t)}(e),t=e,(nn||(nn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,un):e);var t}function fn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(fn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&sn.set(t,e)})).catch((()=>{})),cn.set(t,e),t}(e);if(ln.has(e))return ln.get(e);const t=dn(e);return t!==e&&(ln.set(e,t),cn.set(t,e)),t}const pn=e=>cn.get(e);const mn=["get","getKey","getAll","getAllKeys","count"],gn=["put","add","delete","clear"],yn=new Map;function vn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(yn.get(t))return yn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=gn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!mn.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return yn.set(t,s),s}un=(e=>u(u({},e),{},{get:(t,n,r)=>vn(t,n)||e.get(t,n,r),has:(t,n)=>!!vn(t,n)||e.has(t,n)}))(un);class bn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const wn="@firebase/app",xn="0.9.13",kn=new tn("@firebase/app"),Sn="@firebase/app-compat",En="@firebase/analytics-compat",Cn="@firebase/analytics",Tn="@firebase/app-check-compat",_n="@firebase/app-check",An="@firebase/auth",Nn="@firebase/auth-compat",In="@firebase/database",Pn="@firebase/database-compat",Rn="@firebase/functions",jn="@firebase/functions-compat",Dn="@firebase/installations",On="@firebase/installations-compat",Ln="@firebase/messaging",Mn="@firebase/messaging-compat",Fn="@firebase/performance",Un="@firebase/performance-compat",Vn="@firebase/remote-config",Bn="@firebase/remote-config-compat",zn="@firebase/storage",qn="@firebase/storage-compat",Hn="@firebase/firestore",Wn="@firebase/firestore-compat",Kn="firebase",Gn="[DEFAULT]",Yn={[wn]:"fire-core",[Sn]:"fire-core-compat",[Cn]:"fire-analytics",[En]:"fire-analytics-compat",[_n]:"fire-app-check",[Tn]:"fire-app-check-compat",[An]:"fire-auth",[Nn]:"fire-auth-compat",[In]:"fire-rtdb",[Pn]:"fire-rtdb-compat",[Rn]:"fire-fn",[jn]:"fire-fn-compat",[Dn]:"fire-iid",[On]:"fire-iid-compat",[Ln]:"fire-fcm",[Mn]:"fire-fcm-compat",[Fn]:"fire-perf",[Un]:"fire-perf-compat",[Vn]:"fire-rc",[Bn]:"fire-rc-compat",[zn]:"fire-gcs",[qn]:"fire-gcs-compat",[Hn]:"fire-fst",[Wn]:"fire-fst-compat","fire-js":"fire-js",[Kn]:"fire-js-all"},Qn=new Map,Xn=new Map;function $n(e,t){try{e.container.addComponent(t)}catch(Kw){kn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Kw)}}function Jn(e){const t=e.name;if(Xn.has(t))return kn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Xn.set(t,e);for(const n of Qn.values())$n(n,e);return!0}function Zn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const er=new Dt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class tr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ht("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}const nr="9.23.0";function rr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Gn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw er.create("bad-app-name",{appName:String(i)});if(n||(n=At()),!n)throw er.create("no-options");const s=Qn.get(i);if(s){if(Lt(n,s.options)&&Lt(r,s.config))return s;throw er.create("duplicate-app",{appName:i})}const o=new Yt(i);for(const l of Xn.values())o.addComponent(l);const a=new tr(n,r,o);return Qn.set(i,a),a}function ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn;const t=Qn.get(e);if(!t&&e===Gn&&At())return rr();if(!t)throw er.create("no-app",{appName:e});return t}function sr(e,t,n){var r;let i=null!==(r=Yn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void kn.warn(e.join(" "))}Jn(new Ht("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const or="firebase-heartbeat-store";let ar=null;function lr(){return ar||(ar=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=fn(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(fn(o.result),e.oldVersion,e.newVersion,fn(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(or)}}).catch((e=>{throw er.create("idb-open",{originalErrorMessage:e.message})}))),ar}async function cr(e,t){try{const n=(await lr()).transaction(or,"readwrite"),r=n.objectStore(or);await r.put(t,ur(e)),await n.done}catch(Kw){if(Kw instanceof jt)kn.warn(Kw.message);else{const t=er.create("idb-set",{originalErrorMessage:null===Kw||void 0===Kw?void 0:Kw.message});kn.warn(t.message)}}}function ur(e){return"".concat(e.name,"!").concat(e.options.appId)}class hr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=dr();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=dr(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),pr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=St(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function dr(){return(new Date).toISOString().substring(0,10)}class fr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Rt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await lr();return await t.transaction(or).objectStore(or).get(ur(e))}catch(Kw){if(Kw instanceof jt)kn.warn(Kw.message);else{const t=er.create("idb-get",{originalErrorMessage:null===Kw||void 0===Kw?void 0:Kw.message});kn.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return cr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return cr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function pr(e){return St(JSON.stringify({version:2,heartbeats:e})).length}var mr;mr="",Jn(new Ht("platform-logger",(e=>new bn(e)),"PRIVATE")),Jn(new Ht("heartbeat",(e=>new hr(e)),"PRIVATE")),sr(wn,xn,mr),sr(wn,xn,"esm2017"),sr("fire-js","");sr("firebase","9.23.0","app");function gr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function yr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vr=yr,br=new Dt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wr=new tn("@firebase/auth");function xr(e){if(wr.logLevel<=Xt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wr.error("Auth (".concat(nr,"): ").concat(e),...n)}}function kr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Cr(e,...n)}function Sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Cr(e,...n)}function Er(e,t,n){const r=Object.assign(Object.assign({},vr()),{[t]:n});return new Dt("auth","Firebase",r).create(t,{appName:e.name})}function Cr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return br.create(e,...n)}function Tr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Cr(t,...r)}}function _r(e){const t="INTERNAL ASSERTION FAILED: "+e;throw xr(t),new Error(t)}function Ar(e,t){e||_r(t)}function Nr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ir(){return"http:"===Pr()||"https:"===Pr()}function Pr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Rr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ir()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class jr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ar(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Rr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dr(e,t){Ar(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Or{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void _r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void _r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void _r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Mr=new jr(3e4,6e4);function Fr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ur(e,t,n,r){return Vr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Ft(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Or.fetch()(zr(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Vr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Lr),t);try{const t=new qr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Hr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Hr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Hr(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Hr(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Er(e,a,o);kr(e,a)}}catch(Kw){if(Kw instanceof jt)throw Kw;kr(e,"network-request-failed",{message:String(Kw)})}}async function Br(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Ur(e,t,n,r,i);return"mfaPendingCredential"in s&&kr(e,"multi-factor-auth-required",{_serverResponse:s}),s}function zr(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Dr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class qr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Sr(this.auth,"network-request-failed"))),Mr.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sr(e,t,r);return i.customData._tokenResponse=n,i}function Wr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Kw){}}function Kr(e){return 1e3*Number(e)}function Gr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return xr("JWT malformed, contained fewer than 3 sections"),null;try{const e=Et(n);return e?JSON.parse(e):(xr("Failed to decode base64 JWT payload"),null)}catch(Kw){return xr("Caught error parsing JWT payload as JSON",null===Kw||void 0===Kw?void 0:Kw.toString()),null}}async function Yr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Kw){throw Kw instanceof jt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Kw)&&e.auth.currentUser===e&&await e.auth.signOut(),Kw}}class Qr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Kw){return void((null===Kw||void 0===Kw?void 0:Kw.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Xr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wr(this.lastLoginAt),this.creationTime=Wr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $r(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Yr(e,async function(e,t){return Ur(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Tr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=gr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Xr(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,h)}class Jr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tr(e.idToken,"internal-error"),Tr("undefined"!==typeof e.idToken,"internal-error"),Tr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Gr(e);return Tr(t,"internal-error"),Tr("undefined"!==typeof t.exp,"internal-error"),Tr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Tr(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Vr(e,{},(async()=>{const n=Ft({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=zr(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Or.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Jr;return n&&(Tr("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Tr("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Tr("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jr,this.toJSON())}_performRefresh(){return _r("not implemented")}}function Zr(e,t){Tr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ei{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=gr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Xr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Yr(this,this.stsTokenManager.getToken(this.auth,e));return Tr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=qt(e),r=await n.getIdToken(t),i=Gr(r);Tr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Wr(Kr(i.auth_time)),issuedAtTime:Wr(Kr(i.iat)),expirationTime:Wr(Kr(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=qt(e);await $r(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Tr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Tr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await $r(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Yr(this,async function(e,t){return Ur(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:k}=t;Tr(v&&k,e,"internal-error");const S=Jr.fromJSON(this.name,k);Tr("string"===typeof v,e,"internal-error"),Zr(u,e.name),Zr(h,e.name),Tr("boolean"===typeof b,e,"internal-error"),Tr("boolean"===typeof w,e,"internal-error"),Zr(d,e.name),Zr(f,e.name),Zr(p,e.name),Zr(m,e.name),Zr(g,e.name),Zr(y,e.name);const E=new ei({uid:v,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(E.providerData=x.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Jr;r.updateFromServerResponse(t);const i=new ei({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await $r(i),i}}const ti=new Map;function ni(e){Ar(e instanceof Function,"Expected a class definition");let t=ti.get(e);return t?(Ar(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ti.set(e,t),t)}class ri{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ri.type="NONE";const ii=ri;function si(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class oi{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=si(this.userKey,r.apiKey,i),this.fullPersistenceKey=si("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ei._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new oi(ni(ii),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ni(ii);const s=si(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=ei._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new oi(i,e,n)):new oi(i,e,n)}}function ai(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(hi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(li(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fi(t))return"Blackberry";if(pi(t))return"Webos";if(ci(t))return"Safari";if((t.includes("chrome/")||ui(t))&&!t.includes("edge/"))return"Chrome";if(di(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function li(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/firefox\//i.test(e)}function ci(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ui(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/crios\//i.test(e)}function hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/iemobile/i.test(e)}function di(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/android/i.test(e)}function fi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/blackberry/i.test(e)}function pi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/webos/i.test(e)}function mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function gi(){return function(){const e=Pt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function yi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return mi(e)||di(e)||pi(e)||fi(e)||/windows phone/i.test(e)||hi(e)}function vi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ai(Pt());break;case"Worker":t="".concat(ai(Pt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(nr,"/").concat(r)}async function bi(e,t){return Ur(e,"GET","/v2/recaptchaConfig",Fr(e,t))}function wi(e){return void 0!==e&&void 0!==e.enterprise}class xi{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function ki(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Sr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Si(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ei{constructor(e){this.type="recaptcha-enterprise",this.auth=Ai(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;wi(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{bi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new xi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&wi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));ki("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Ci(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Ei(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class Ti{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Kw){r(Kw)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Kw){t.reverse();for(const n of t)try{n()}catch(Ux){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Kw||void 0===Kw?void 0:Kw.message})}}}class _i{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ni(this),this.idTokenSubscription=new Ni(this),this.beforeStateQueue=new Ti(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=br,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ni(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await oi.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Kw){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Kw){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Kw)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Kw){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $r(e)}catch(Kw){if((null===Kw||void 0===Kw?void 0:Kw.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?qt(e):null;return t&&Tr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Tr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(ni(e))}))}async initializeRecaptchaConfig(){const e=await bi(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new xi(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Ei(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ni(e)||this._popupRedirectResolver;Tr(t,this,"argument-error"),this.redirectPersistenceManager=await oi.create(this,[ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Tr(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(wr.logLevel<=Xt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wr.warn("Auth (".concat(nr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Ai(e){return qt(e)}class Ni{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Bt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Tr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ii(e,t,n){const r=Ai(e);Tr(r._canInitEmulator,r,"emulator-config-failed"),Tr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Pi(t),{host:o,port:a}=function(e){const t=Pi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ri(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ri(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Pi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ri(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ji{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _r("not implemented")}_getIdTokenResponse(e){return _r("not implemented")}_linkToIdToken(e,t){return _r("not implemented")}_getReauthenticationResolver(e){return _r("not implemented")}}async function Di(e,t){return Ur(e,"POST","/v1/accounts:update",t)}async function Oi(e,t){return Br(e,"POST","/v1/accounts:signInWithPassword",Fr(e,t))}async function Li(e,t){return Ur(e,"POST","/v1/accounts:sendOobCode",Fr(e,t))}async function Mi(e,t){return Li(e,t)}class Fi extends ji{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Fi(e,t,"password")}static _fromEmailAndCode(e,t){return new Fi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Ci(e,n,"signInWithPassword");return Oi(e,t)}return Oi(e,n).catch((async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Ci(e,n,"signInWithPassword");return Oi(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return Br(e,"POST","/v1/accounts:signInWithEmailLink",Fr(e,t))}(e,{email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Di(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Br(e,"POST","/v1/accounts:signInWithEmailLink",Fr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ui(e,t){return Br(e,"POST","/v1/accounts:signInWithIdp",Fr(e,t))}class Vi extends ji{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=gr(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Vi(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ui(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ui(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ui(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ft(t)}return e}}const Bi={USER_NOT_FOUND:"user-not-found"};class zi extends ji{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new zi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new zi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Br(e,"POST","/v1/accounts:signInWithPhoneNumber",Fr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Br(e,"POST","/v1/accounts:signInWithPhoneNumber",Fr(e,t));if(n.temporaryProof)throw Hr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Br(e,"POST","/v1/accounts:signInWithPhoneNumber",Fr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Bi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new zi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class qi{constructor(e){var t,n,r,i,s,o;const a=Ut(Vt(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Tr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Ut(Vt(e)).link,n=t?Ut(Vt(t)).deep_link_id:null,r=Ut(Vt(e)).deep_link_id;return(r?Ut(Vt(r)).link:null)||r||n||t||e}(e);try{return new qi(t)}catch(n){return null}}}class Hi{constructor(){this.providerId=Hi.PROVIDER_ID}static credential(e,t){return Fi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=qi.parseLink(t);return Tr(n,"argument-error"),Fi._fromEmailAndCode(e,n.code,n.tenantId)}}Hi.PROVIDER_ID="password",Hi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Hi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Wi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ki extends Wi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gi extends Ki{constructor(){super("facebook.com")}static credential(e){return Vi._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Gi.credential(t.oauthAccessToken)}catch(n){return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com",Gi.PROVIDER_ID="facebook.com";class Yi extends Ki{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vi._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Yi.credential(n,r)}catch(i){return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com",Yi.PROVIDER_ID="google.com";class Qi extends Ki{constructor(){super("github.com")}static credential(e){return Vi._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Qi.credential(t.oauthAccessToken)}catch(n){return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com",Qi.PROVIDER_ID="github.com";class Xi extends Ki{constructor(){super("twitter.com")}static credential(e,t){return Vi._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Xi.credential(n,r)}catch(i){return null}}}async function $i(e,t){return Br(e,"POST","/v1/accounts:signUp",Fr(e,t))}Xi.TWITTER_SIGN_IN_METHOD="twitter.com",Xi.PROVIDER_ID="twitter.com";class Ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ei._fromIdTokenResponse(e,n,r),s=Zi(n);return new Ji({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Zi(n);return new Ji({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Zi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class es extends jt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,es.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new es(e,t,n,r)}}function ts(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw es._fromErrorAndOperation(e,n,t,r);throw n}))}async function ns(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Yr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ji._forOperation(e,"link",r)}async function rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await Yr(e,ts(r,i,t,e),n);Tr(s.idToken,r,"internal-error");const o=Gr(s.idToken);Tr(o,r,"internal-error");const{sub:a}=o;return Tr(e.uid===a,r,"user-mismatch"),Ji._forOperation(e,i,s)}catch(Kw){throw(null===Kw||void 0===Kw?void 0:Kw.code)==="auth/".concat("user-not-found")&&kr(r,"user-mismatch"),Kw}}async function is(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await ts(e,r,t),s=await Ji._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function ss(e,t){return is(Ai(e),t)}function os(e,t,n){var r;Tr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Tr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Tr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Tr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function as(e,t,n){return ss(qt(e),Hi.credential(t,n))}async function ls(e,t){const n=qt(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&os(n.auth,r,t);const{email:i}=await async function(e,t){return Li(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function cs(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await Yr(e,Di(r,i));await e._updateTokensIfNecessary(s,!0)}new WeakMap;const us="__sak";class hs{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(us,"1"),this.storage.removeItem(us),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ds extends hs{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Pt();return ci(e)||mi(e)}()&&function(){try{return!(!window||window===window.top)}catch(Kw){return!1}}(),this.fallbackToPolling=yi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);gi()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ds.type="LOCAL";const fs=ds;class ps extends hs{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ps.type="SESSION";const ms=ps;class gs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new gs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}gs.receivers=[];class vs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=ys("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function bs(){return window}function ws(){return"undefined"!==typeof bs().WorkerGlobalScope&&"function"===typeof bs().importScripts}const xs="firebaseLocalStorageDb",ks="firebaseLocalStorage",Ss="fbase_key";class Es{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Cs(e,t){return e.transaction([ks],t?"readwrite":"readonly").objectStore(ks)}function Ts(){const e=indexedDB.open(xs,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ks,{keyPath:Ss})}catch(Kw){n(Kw)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ks)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(xs);return new Es(e).toPromise()}(),t(await Ts()))}))}))}async function _s(e,t,n){const r=Cs(e,!0).put({[Ss]:t,value:n});return new Es(r).toPromise()}function As(e,t){const n=Cs(e,!0).delete(t);return new Es(n).toPromise()}class Ns{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ts()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Kw){if(t++>3)throw Kw;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ws()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gs._getInstance(ws()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new vs(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ts();return await _s(e,us,"1"),await As(e,us),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>_s(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Cs(e,!1).get(t),r=await new Es(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>As(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Cs(e,!1).getAll();return new Es(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ns.type="LOCAL";const Is=Ns;Si("rcb"),new jr(3e4,6e4);const Ps="recaptcha";async function Rs(e,t,n){var r;const i=await n.verify();try{let s;if(Tr("string"===typeof i,e,"argument-error"),Tr(n.type===Ps,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Tr("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ur(e,"POST","/v2/accounts/mfaEnrollment:start",Fr(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Tr("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Tr(n,e,"missing-multi-factor-info");const o=await function(e,t){return Ur(e,"POST","/v2/accounts/mfaSignIn:start",Fr(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ur(e,"POST","/v1/accounts:sendVerificationCode",Fr(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class js{constructor(e){this.providerId=js.PROVIDER_ID,this.auth=Ai(e)}verifyPhoneNumber(e,t){return Rs(this.auth,e,qt(t))}static credential(e,t){return zi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return js.credentialFromTaggedObject(t)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?zi._fromTokenResponse(n,r):null}}function Ds(e,t){return t?ni(t):(Tr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}js.PROVIDER_ID="phone",js.PHONE_SIGN_IN_METHOD="phone";class Os extends ji{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ui(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ui(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ui(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ls(e){return is(e.auth,new Os(e),e.bypassAuthState)}function Ms(e){const{auth:t,user:n}=e;return Tr(n,t,"internal-error"),rs(n,new Os(e),e.bypassAuthState)}async function Fs(e){const{auth:t,user:n}=e;return Tr(n,t,"internal-error"),ns(n,new Os(e),e.bypassAuthState)}class Us{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Kw){this.reject(Kw)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(Kw){this.reject(Kw)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ls;case"linkViaPopup":case"linkViaRedirect":return Fs;case"reauthViaPopup":case"reauthViaRedirect":return Ms;default:kr(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vs=new jr(2e3,1e4);class Bs extends Us{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tr(e,this.auth,"internal-error"),e}async onExecution(){Ar(1===this.filter.length,"Popup operations only handle one event");const e=ys();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Sr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Vs.get())};e()}}Bs.currentPopupAction=null;const zs=new Map;class qs extends Us{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=zs.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ks(t),r=Ws(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Kw){e=()=>Promise.reject(Kw)}zs.set(this.auth._key(),e)}return this.bypassAuthState||zs.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Hs(e,t){zs.set(e._key(),t)}function Ws(e){return ni(e._redirectPersistence)}function Ks(e){return si("pendingRedirect",e.config.apiKey,e.name)}async function Gs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Ai(e),i=Ds(r,t),s=new qs(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Ys{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Xs(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Sr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qs(e))}saveEventToCache(e){this.cachedEventUids.add(Qs(e)),this.lastProcessedEventTime=Date.now()}}function Qs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Xs(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const $s=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Js=/^https?/;async function Zs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Ur(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(eo(r))return}catch(n){}kr(e,"unauthorized-domain")}function eo(e){const t=Nr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Js.test(n))return!1;if($s.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const to=new jr(3e4,6e4);function no(){const e=bs().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let ro=null;function io(e){return ro=ro||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){no(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{no(),n(Sr(e,"network-request-failed"))},timeout:to.get()})}if(null===(i=null===(r=bs().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=bs().gapi)||void 0===s?void 0:s.load)){const t=Si("iframefcb");return bs()[t]=()=>{gapi.load?o():n(Sr(e,"network-request-failed"))},ki("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw ro=null,e}))}(e),ro}const so=new jr(5e3,15e3),oo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ao=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lo(e){const t=e.config;Tr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Dr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:nr},i=ao.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Ft(r).slice(1))}const co={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uo{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Kw){}}}function ho(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},co),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Pt().toLowerCase();n&&(a=ui(c)?"_blank":n),li(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return mi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new uo(null);const h=window.open(t||"",a,u);Tr(h,e,"popup-blocked");try{h.focus()}catch(Kw){}return new uo(h)}const fo="__/auth/handler",po="emulator/auth/handler",mo=encodeURIComponent("fac");async function go(e,t,n,r,i,s){Tr(e.config.authDomain,e,"auth-domain-config-required"),Tr(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:nr,eventId:i};if(t instanceof Wi){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Ki){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(mo,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(fo);return Dr(t,po)}(e),"?").concat(Ft(a).slice(1)).concat(c)}const yo="webStorageSupport";const vo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ms,this._completeRedirectFn=Gs,this._overrideRedirectResult=Hs}async _openPopup(e,t,n,r){var i;Ar(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ho(e,await go(e,t,n,Nr(),r),ys())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){bs().location.href=e}(await go(e,t,n,Nr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Ar(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await io(e),n=bs().gapi;return Tr(n,e,"internal-error"),t.open({where:document.body,url:lo(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oo,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Sr(e,"network-request-failed"),s=bs().setTimeout((()=>{r(i)}),so.get());function o(){bs().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new Ys(e);return t.register("authEvent",(t=>{Tr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yo,{type:yo},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[yo];void 0!==i&&t(!!i),kr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Zs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yi()||ci()||mi()}};var bo="@firebase/auth",wo="0.23.2";class xo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Tr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ko=Nt("authIdTokenMaxAge")||300;let So=null;var Eo;Eo="Browser",Jn(new Ht("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Tr(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Eo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vi(Eo)},c=new _i(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ni);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Jn(new Ht("auth-internal",(e=>(e=>new xo(e))(Ai(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),sr(bo,wo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Eo)),sr(bo,wo,"esm2017");var Co,To="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},_o={},Ao=Ao||{},No=To||self;function Io(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Po(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ro="closure_uid_"+(1e9*Math.random()>>>0),jo=0;function Do(e,t,n){return e.call.apply(e.bind,arguments)}function Oo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Lo(e,t,n){return(Lo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Do:Oo).apply(null,arguments)}function Mo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Fo(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Uo(){this.s=this.s,this.o=this.o}Uo.prototype.s=!1,Uo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Ro)&&e[Ro]||(e[Ro]=++jo)}(this)},Uo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Vo=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Bo(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function zo(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Io(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function qo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}qo.prototype.h=function(){this.defaultPrevented=!0};var Ho=function(){if(!No.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{No.addEventListener("test",(()=>{}),t),No.removeEventListener("test",(()=>{}),t)}catch(Jw){}return e}();function Wo(e){return/^[\s\xa0]*$/.test(e)}function Ko(){var e=No.navigator;return e&&(e=e.userAgent)?e:""}function Go(e){return-1!=Ko().indexOf(e)}function Yo(e){return Yo[" "](e),e}Yo[" "]=function(){};var Qo,Xo,$o=Go("Opera"),Jo=Go("Trident")||Go("MSIE"),Zo=Go("Edge"),ea=Zo||Jo,ta=Go("Gecko")&&!(-1!=Ko().toLowerCase().indexOf("webkit")&&!Go("Edge"))&&!(Go("Trident")||Go("MSIE"))&&!Go("Edge"),na=-1!=Ko().toLowerCase().indexOf("webkit")&&!Go("Edge");function ra(){var e=No.document;return e?e.documentMode:void 0}e:{var ia="",sa=function(){var e=Ko();return ta?/rv:([^\);]+)(\)|;)/.exec(e):Zo?/Edge\/([\d\.]+)/.exec(e):Jo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):na?/WebKit\/(\S+)/.exec(e):$o?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(sa&&(ia=sa?sa[1]:""),Jo){var oa=ra();if(null!=oa&&oa>parseFloat(ia)){Qo=String(oa);break e}}Qo=ia}if(No.document&&Jo){var aa=ra();Xo=aa||(parseInt(Qo,10)||void 0)}else Xo=void 0;var la=Xo;function ca(e,t){if(qo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ta){e:{try{Yo(t.nodeName);var i=!0;break e}catch(nx){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ua[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ca.$.h.call(this)}}Fo(ca,qo);var ua={2:"touch",3:"pen",4:"mouse"};ca.prototype.h=function(){ca.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ha="closure_listenable_"+(1e6*Math.random()|0),da=0;function fa(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++da,this.fa=this.ia=!1}function pa(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ma(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function ga(e){const t={};for(const n in e)t[n]=e[n];return t}const ya="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function va(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<ya.length;t++)n=ya[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ba(e){this.src=e,this.g={},this.h=0}function wa(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Vo(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(pa(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function xa(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}ba.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=xa(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new fa(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var ka="closure_lm_"+(1e6*Math.random()|0),Sa={};function Ea(e,t,n,r,i){if(r&&r.once)return Ta(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ea(e,t[s],n,r,i);return null}return n=ja(n),e&&e[ha]?e.O(t,n,Po(r)?!!r.capture:!!r,i):Ca(e,t,n,!1,r,i)}function Ca(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Po(i)?!!i.capture:!!i,a=Pa(e);if(a||(e[ka]=a=new ba(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Ia;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ho||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Na(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ta(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ta(e,t[s],n,r,i);return null}return n=ja(n),e&&e[ha]?e.P(t,n,Po(r)?!!r.capture:!!r,i):Ca(e,t,n,!0,r,i)}function _a(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)_a(e,t[s],n,r,i);else r=Po(r)?!!r.capture:!!r,n=ja(n),e&&e[ha]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=xa(s=e.g[t],n,r,i))&&(pa(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Pa(e))&&(t=e.g[t.toString()],e=-1,t&&(e=xa(t,n,r,i)),(n=-1<e?t[e]:null)&&Aa(n))}function Aa(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ha])wa(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Na(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Pa(t))?(wa(n,e),0==n.h&&(n.src=null,t[ka]=null)):pa(e)}}}function Na(e){return e in Sa?Sa[e]:Sa[e]="on"+e}function Ia(e,t){if(e.fa)e=!0;else{t=new ca(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Aa(e),e=n.call(r,t)}return e}function Pa(e){return(e=e[ka])instanceof ba?e:null}var Ra="__closure_events_fn_"+(1e9*Math.random()>>>0);function ja(e){return"function"===typeof e?e:(e[Ra]||(e[Ra]=function(t){return e.handleEvent(t)}),e[Ra])}function Da(){Uo.call(this),this.i=new ba(this),this.S=this,this.J=null}function Oa(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new qo(t,e);else if(t instanceof qo)t.target=t.target||e;else{var i=t;va(t=new qo(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=La(o,r,!0,t)&&i}if(i=La(o=t.g=e,r,!0,t)&&i,i=La(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=La(o=t.g=n[s],r,!1,t)&&i}function La(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&wa(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Fo(Da,Uo),Da.prototype[ha]=!0,Da.prototype.removeEventListener=function(e,t,n,r){_a(this,e,t,n,r)},Da.prototype.N=function(){if(Da.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)pa(n[r]);delete t.g[e],t.h--}}this.J=null},Da.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Da.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ma=No.JSON.stringify;function Fa(){var e=Wa;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ua=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Va),(e=>e.reset()));class Va{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ba(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function za(e){No.setTimeout((()=>{throw e}),0)}let qa,Ha=!1,Wa=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ua.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Ka=()=>{const e=No.Promise.resolve(void 0);qa=()=>{e.then(Ga)}};var Ga=()=>{for(var e;e=Fa();){try{e.h.call(e.g)}catch(Jw){za(Jw)}var t=Ua;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ha=!1};function Ya(e,t){Da.call(this),this.h=e||1,this.g=t||No,this.j=Lo(this.qb,this),this.l=Date.now()}function Qa(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Xa(e,t,n){if("function"===typeof e)n&&(e=Lo(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Lo(e.handleEvent,e)}return 2147483647<Number(t)?-1:No.setTimeout(e,t||0)}function $a(e){e.g=Xa((()=>{e.g=null,e.i&&(e.i=!1,$a(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Fo(Ya,Da),(Co=Ya.prototype).ga=!1,Co.T=null,Co.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Oa(this,"tick"),this.ga&&(Qa(this),this.start()))}},Co.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Co.N=function(){Ya.$.N.call(this),Qa(this),delete this.g};class Ja extends Uo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$a(this)}N(){super.N(),this.g&&(No.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Za(e){Uo.call(this),this.h=e,this.g={}}Fo(Za,Uo);var el=[];function tl(e,t,n,r){Array.isArray(n)||(n&&(el[0]=n.toString()),n=el);for(var i=0;i<n.length;i++){var s=Ea(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function nl(e){ma(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Aa(e)}),e),e.g={}}function rl(){this.g=!0}function il(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ma(n)}catch(Xw){return t}}(e,n)+(r?" "+r:"")}))}Za.prototype.N=function(){Za.$.N.call(this),nl(this)},Za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rl.prototype.Ea=function(){this.g=!1},rl.prototype.info=function(){};var sl={},ol=null;function al(){return ol=ol||new Da}function ll(e){qo.call(this,sl.Ta,e)}function cl(e){const t=al();Oa(t,new ll(t))}function ul(e,t){qo.call(this,sl.STAT_EVENT,e),this.stat=t}function hl(e){const t=al();Oa(t,new ul(t,e))}function dl(e,t){qo.call(this,sl.Ua,e),this.size=t}function fl(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return No.setTimeout((function(){e()}),t)}sl.Ta="serverreachability",Fo(ll,qo),sl.STAT_EVENT="statevent",Fo(ul,qo),sl.Ua="timingevent",Fo(dl,qo);var pl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ml={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gl(){}function yl(e){return e.h||(e.h=e.i())}function vl(){}gl.prototype.h=null;var bl,wl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function xl(){qo.call(this,"d")}function kl(){qo.call(this,"c")}function Sl(){}function El(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Za(this),this.P=Tl,e=ea?125:void 0,this.V=new Ya(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Cl}function Cl(){this.i=null,this.g="",this.h=!1}Fo(xl,qo),Fo(kl,qo),Fo(Sl,gl),Sl.prototype.g=function(){return new XMLHttpRequest},Sl.prototype.i=function(){return{}},bl=new Sl;var Tl=45e3,_l={},Al={};function Nl(e,t,n){e.L=1,e.v=Yl(ql(t)),e.s=n,e.S=!0,Il(e,null)}function Il(e,t){e.G=Date.now(),Dl(e),e.A=ql(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),ac(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Cl,e.g=au(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Ja(Lo(e.Pa,e,e.g),e.O)),tl(e.U,e.g,"readystatechange",e.nb),t=e.I?ga(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),cl(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Pl(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Rl(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=jl(e,n),r==Al){4==t&&(e.o=4,hl(14),i=!1),il(e.j,e.m,null,"[Incomplete Response]");break}if(r==_l){e.o=4,hl(15),il(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}il(e.j,e.m,r,null),Ul(e,r)}Pl(e)&&r!=Al&&r!=_l&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,hl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zc(t),t.M=!0,hl(11))):(il(e.j,e.m,n,"[Invalid Chunked Response]"),Fl(e),Ml(e))}function jl(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Al:(n=Number(t.substring(n,r)),isNaN(n)?_l:(r+=1)+n>t.length?Al:(t=t.slice(r,r+n),e.C=r+n,t))}function Dl(e){e.Y=Date.now()+e.P,Ol(e,e.P)}function Ol(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=fl(Lo(e.lb,e),t)}function Ll(e){e.B&&(No.clearTimeout(e.B),e.B=null)}function Ml(e){0==e.l.H||e.J||nu(e.l,e)}function Fl(e){Ll(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Qa(e.V),nl(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Ul(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||pc(n.i,e)))if(!e.K&&pc(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;tu(n),Wc(n)}Jc(n),hl(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=fl(Lo(n.ib,n),6e3));if(1>=fc(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else iu(n,11)}else if((e.K||n.g==e)&&tu(n),!Wo(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(mc(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Gl(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=ou(r,r.J?r.pa:null,r.Y),o.K){gc(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Ll(a),Dl(a)),r.g=o}else $c(r);0<n.j.length&&Gc(n)}else"stop"!=c[0]&&"close"!=c[0]||iu(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?iu(n,7):Hc(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}cl()}catch(c){}}function Vl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Io(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Io(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Io(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Co=El.prototype).setTimeout=function(e){this.P=e},Co.nb=function(e){e=e.target;const t=this.M;t&&3==Fc(e)?t.l():this.Pa(e)},Co.Pa=function(e){try{if(e==this.g)e:{const u=Fc(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||ea||this.g&&(this.h.h||this.g.ja()||Uc(this.g)))){this.J||4!=u||7==t||cl(),Ll(this);var n=this.g.da();this.ca=n;t:if(Pl(this)){var r=Uc(this.g);e="";var i=r.length,s=4==Fc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Fl(this),Ml(this);var o="";break t}this.h.i=new No.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wo(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,hl(12),Fl(this),Ml(this);break e}il(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ul(this,n)}this.S?(Rl(this,u,o),ea&&this.i&&3==u&&(tl(this.U,this.V,"tick",this.mb),this.V.start())):(il(this.j,this.m,o,null),Ul(this,o)),4==u&&Fl(this),this.i&&!this.J&&(4==u?nu(this.l,this):(this.i=!1,Dl(this)))}else(function(e){const t={};e=(e.g&&2<=Fc(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Wo(e[r]))continue;var n=Ba(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,hl(12)):(this.o=0,hl(13)),Fl(this),Ml(this)}}}catch(ex){}},Co.mb=function(){if(this.g){var e=Fc(this.g),t=this.g.ja();this.C<t.length&&(Ll(this),Rl(this,e,t),this.i&&4!=e&&Dl(this))}},Co.cancel=function(){this.J=!0,Fl(this)},Co.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(cl(),hl(17)),Fl(this),this.o=2,Ml(this)):Ol(this,this.Y-e)};var Bl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zl(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof zl){this.h=e.h,Hl(this,e.j),this.s=e.s,this.g=e.g,Wl(this,e.m),this.l=e.l;var t=e.i,n=new rc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Kl(this,n),this.o=e.o}else e&&(t=String(e).match(Bl))?(this.h=!1,Hl(this,t[1]||"",!0),this.s=Ql(t[2]||""),this.g=Ql(t[3]||"",!0),Wl(this,t[4]),this.l=Ql(t[5]||"",!0),Kl(this,t[6]||"",!0),this.o=Ql(t[7]||"")):(this.h=!1,this.i=new rc(null,this.h))}function ql(e){return new zl(e)}function Hl(e,t,n){e.j=n?Ql(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Wl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Kl(e,t,n){t instanceof rc?(e.i=t,function(e,t){t&&!e.j&&(ic(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(sc(this,t),ac(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Xl(t,tc)),e.i=new rc(t,e.h))}function Gl(e,t,n){e.i.set(t,n)}function Yl(e){return Gl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ql(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Xl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,$l),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $l(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}zl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Xl(t,Jl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Xl(t,Jl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Xl(n,"/"==n.charAt(0)?ec:Zl,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Xl(n,nc)),e.join("")};var Jl=/[#\/\?@]/g,Zl=/[#\?:]/g,ec=/[#\?]/g,tc=/[#\?@]/g,nc=/#/g;function rc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ic(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function sc(e,t){ic(e),t=lc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function oc(e,t){return ic(e),t=lc(e,t),e.g.has(t)}function ac(e,t,n){sc(e,t),0<n.length&&(e.i=null,e.g.set(lc(e,t),Bo(n)),e.h+=n.length)}function lc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Co=rc.prototype).add=function(e,t){ic(this),this.i=null,e=lc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Co.forEach=function(e,t){ic(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Co.ta=function(){ic(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Co.Z=function(e){ic(this);let t=[];if("string"===typeof e)oc(this,e)&&(t=t.concat(this.g.get(lc(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Co.set=function(e,t){return ic(this),this.i=null,oc(this,e=lc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Co.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Co.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var cc=class{constructor(e,t){this.g=e,this.map=t}};function uc(e){this.l=e||hc,No.PerformanceNavigationTiming?e=0<(e=No.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(No.g&&No.g.Ka&&No.g.Ka()&&No.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hc=10;function dc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function fc(e){return e.h?1:e.g?e.g.size:0}function pc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function mc(e,t){e.g?e.g.add(t):e.h=t}function gc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function yc(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Bo(e.i)}uc.prototype.cancel=function(){if(this.i=yc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var vc=class{stringify(e){return No.JSON.stringify(e,void 0)}parse(e){return No.JSON.parse(e,void 0)}};function bc(){this.g=new vc}function wc(e,t,n){const r=n||"";try{Vl(e,(function(e,n){let i=e;Po(e)&&(i=Ma(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Kw){throw t.push(r+"type="+encodeURIComponent("_badmap")),Kw}}function xc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(nx){}}function kc(e){this.l=e.fc||null,this.j=e.ob||!1}function Sc(e,t){Da.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ec,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fo(kc,gl),kc.prototype.g=function(){return new Sc(this.l,this.j)},kc.prototype.i=function(e){return function(){return e}}({}),Fo(Sc,Da);var Ec=0;function Cc(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Tc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_c(e)}function _c(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Co=Sc.prototype).open=function(e,t){if(this.readyState!=Ec)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_c(this)},Co.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||No).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Co.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tc(this)),this.readyState=Ec},Co.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_c(this)),this.g&&(this.readyState=3,_c(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof No.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cc(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Co.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tc(this):_c(this),3==this.readyState&&Cc(this)}},Co.Za=function(e){this.g&&(this.response=this.responseText=e,Tc(this))},Co.Ya=function(e){this.g&&(this.response=e,Tc(this))},Co.ka=function(){this.g&&Tc(this)},Co.setRequestHeader=function(e,t){this.v.append(e,t)},Co.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Co.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Sc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ac=No.JSON.parse;function Nc(e){Da.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ic,this.L=this.M=!1}Fo(Nc,Da);var Ic="",Pc=/^https?$/i,Rc=["POST","PUT"];function jc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Dc(e),Lc(e)}function Dc(e){e.F||(e.F=!0,Oa(e,"complete"),Oa(e,"error"))}function Oc(e){if(e.h&&"undefined"!=typeof Ao&&(!e.C[1]||4!=Fc(e)||2!=e.da()))if(e.v&&4==Fc(e))Xa(e.La,0,e);else if(Oa(e,"readystatechange"),4==Fc(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(Bl)[1]||null;!i&&No.self&&No.self.location&&(i=No.self.location.protocol.slice(0,-1)),r=!Pc.test(i?i.toLowerCase():"")}n=r}if(n)Oa(e,"complete"),Oa(e,"success");else{e.m=6;try{var s=2<Fc(e)?e.g.statusText:""}catch(Xw){s=""}e.j=s+" ["+e.da()+"]",Dc(e)}}finally{Lc(e)}}}function Lc(e,t){if(e.g){Mc(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Oa(e,"ready");try{n.onreadystatechange=r}catch(Kw){}}}function Mc(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(No.clearTimeout(e.A),e.A=null)}function Fc(e){return e.g?e.g.readyState:0}function Uc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Ic:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Hu){return null}}function Vc(e){let t="";return ma(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Bc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vc(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Gl(e,t,n))}function zc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qc(e){this.Ga=0,this.j=[],this.l=new rl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zc("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zc("baseRetryDelayMs",5e3,e),this.hb=zc("retryDelaySeedMs",1e4,e),this.eb=zc("forwardChannelMaxRetries",2,e),this.xa=zc("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new uc(e&&e.concurrentRequestLimit),this.Ja=new bc,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Hc(e){if(Kc(e),3==e.H){var t=e.W++,n=ql(e.I);if(Gl(n,"SID",e.K),Gl(n,"RID",t),Gl(n,"TYPE","terminate"),Qc(e,n),(t=new El(e,e.l,t)).L=2,t.v=Yl(ql(n)),n=!1,No.navigator&&No.navigator.sendBeacon)try{n=No.navigator.sendBeacon(t.v.toString(),"")}catch(tx){}!n&&No.Image&&((new Image).src=t.v,n=!0),n||(t.g=au(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Dl(t)}su(e)}function Wc(e){e.g&&(Zc(e),e.g.cancel(),e.g=null)}function Kc(e){Wc(e),e.u&&(No.clearTimeout(e.u),e.u=null),tu(e),e.i.cancel(),e.m&&("number"===typeof e.m&&No.clearTimeout(e.m),e.m=null)}function Gc(e){if(!dc(e.i)&&!e.m){e.m=!0;var t=e.Na;qa||Ka(),Ha||(qa(),Ha=!0),Wa.add(t,e),e.C=0}}function Yc(e,t){var n;n=t?t.m:e.W++;const r=ql(e.I);Gl(r,"SID",e.K),Gl(r,"RID",n),Gl(r,"AID",e.V),Qc(e,r),e.o&&e.s&&Bc(r,e.o,e.s),n=new El(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Xc(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),mc(e.i,n),Nl(n,r,t)}function Qc(e,t){e.na&&ma(e.na,(function(e,n){Gl(t,n,e)})),e.h&&Vl({},(function(e,n){Gl(t,n,e)}))}function Xc(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Lo(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{wc(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function $c(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;qa||Ka(),Ha||(qa(),Ha=!0),Wa.add(t,e),e.A=0}}function Jc(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=fl(Lo(e.Ma,e),ru(e,e.A)),e.A++,!0)}function Zc(e){null!=e.B&&(No.clearTimeout(e.B),e.B=null)}function eu(e){e.g=new El(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=ql(e.wa);Gl(t,"RID","rpc"),Gl(t,"SID",e.K),Gl(t,"AID",e.V),Gl(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Gl(t,"TO",e.qa),Gl(t,"TYPE","xmlhttp"),Qc(e,t),e.o&&e.s&&Bc(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Yl(ql(t)),n.s=null,n.S=!0,Il(n,e)}function tu(e){null!=e.v&&(No.clearTimeout(e.v),e.v=null)}function nu(e,t){var n=null;if(e.g==t){tu(e),Zc(e),e.g=null;var r=2}else{if(!pc(e.i,t))return;n=t.F,gc(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Oa(r=al(),new dl(r,n)),Gc(e)}else $c(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(fc(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=fl(Lo(e.Na,e,t),ru(e,e.C)),e.C++,!0))}(e,t)||2==r&&Jc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:iu(e,5);break;case 4:iu(e,10);break;case 3:iu(e,6);break;default:iu(e,2)}}function ru(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function iu(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Lo(e.pb,e);n||(n=new zl("//www.google.com/images/cleardot.gif"),No.location&&"http"==No.location.protocol||Hl(n,"https"),Yl(n)),function(e,t){const n=new rl;if(No.Image){const r=new Image;r.onload=Mo(xc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Mo(xc,n,r,"TestLoadImage: error",!1,t),r.onabort=Mo(xc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Mo(xc,n,r,"TestLoadImage: timeout",!1,t),No.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else hl(2);e.H=0,e.h&&e.h.za(t),su(e),Kc(e)}function su(e){if(e.H=0,e.ma=[],e.h){const t=yc(e.i);0==t.length&&0==e.j.length||(zo(e.ma,t),zo(e.ma,e.j),e.i.i.length=0,Bo(e.j),e.j.length=0),e.h.ya()}}function ou(e,t,n){var r=n instanceof zl?ql(n):new zl(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Wl(r,r.m);else{var i=No.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new zl(null);r&&Hl(s,r),t&&(s.g=t),i&&Wl(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Gl(r,n,t),Gl(r,"VER",e.ra),Qc(e,r),r}function au(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Nc(new kc({ob:!0})):new Nc(e.va)).Oa(e.J),t}function lu(){}function cu(){if(Jo&&!(10<=Number(la)))throw Error("Environmental error: no available transport.")}function uu(e,t){Da.call(this),this.g=new qc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Wo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Wo(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new fu(this)}function hu(e){xl.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function du(){kl.call(this),this.status=1}function fu(e){this.g=e}function pu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function mu(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function gu(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Co=Nc.prototype).Oa=function(e){this.M=e},Co.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bl.g(),this.C=this.u?yl(this.u):yl(bl),this.g.onreadystatechange=Lo(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(nx){return void jc(this,nx)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=No.FormData&&e instanceof No.FormData,!(0<=Vo(Rc,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Mc(this),0<this.B&&((this.L=function(e){return Jo&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Lo(this.ua,this)):this.A=Xa(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(nx){jc(this,nx)}},Co.ua=function(){"undefined"!=typeof Ao&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oa(this,"timeout"),this.abort(8))},Co.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Oa(this,"complete"),Oa(this,"abort"),Lc(this))},Co.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lc(this,!0)),Nc.$.N.call(this)},Co.La=function(){this.s||(this.G||this.v||this.l?Oc(this):this.kb())},Co.kb=function(){Oc(this)},Co.isActive=function(){return!!this.g},Co.da=function(){try{return 2<Fc(this)?this.g.status:-1}catch(Qw){return-1}},Co.ja=function(){try{return this.g?this.g.responseText:""}catch(Qw){return""}},Co.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ac(t)}},Co.Ia=function(){return this.m},Co.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Co=qc.prototype).ra=8,Co.H=1,Co.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new El(this,this.l,e);let s=this.s;if(this.U&&(s?(s=ga(s),va(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Xc(this,i,t),Gl(n=ql(this.I),"RID",e),Gl(n,"CVER",22),this.F&&Gl(n,"X-HTTP-Session-Id",this.F),Qc(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Vc(s)))+"&"+t:this.o&&Bc(n,this.o,s)),mc(this.i,i),this.bb&&Gl(n,"TYPE","init"),this.P?(Gl(n,"$req",t),Gl(n,"SID","null"),i.aa=!0,Nl(i,n,null)):Nl(i,n,t),this.H=2}}else 3==this.H&&(e?Yc(this,e):0==this.j.length||dc(this.i)||Yc(this))},Co.Ma=function(){if(this.u=null,eu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=fl(Lo(this.jb,this),e)}},Co.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,hl(10),Wc(this),eu(this))},Co.ib=function(){null!=this.v&&(this.v=null,Wc(this),Jc(this),hl(19))},Co.pb=function(e){e?(this.l.info("Successfully pinged google.com"),hl(2)):(this.l.info("Failed to ping google.com"),hl(1))},Co.isActive=function(){return!!this.h&&this.h.isActive(this)},(Co=lu.prototype).Ba=function(){},Co.Aa=function(){},Co.za=function(){},Co.ya=function(){},Co.isActive=function(){return!0},Co.Va=function(){},cu.prototype.g=function(e,t){return new uu(e,t)},Fo(uu,Da),uu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;hl(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=ou(e,null,e.Y),Gc(e)},uu.prototype.close=function(){Hc(this.g)},uu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ma(e),e=n);t.j.push(new cc(t.fb++,e)),3==t.H&&Gc(t)},uu.prototype.N=function(){this.g.h=null,delete this.j,Hc(this.g),delete this.g,uu.$.N.call(this)},Fo(hu,xl),Fo(du,kl),Fo(fu,lu),fu.prototype.Ba=function(){Oa(this.g,"a")},fu.prototype.Aa=function(e){Oa(this.g,new hu(e))},fu.prototype.za=function(e){Oa(this.g,new du)},fu.prototype.ya=function(){Oa(this.g,"b")},Fo(pu,(function(){this.blockSize=-1})),pu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},pu.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)mu(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){mu(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){mu(this,r),i=0;break}}this.h=i,this.i+=t},pu.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var yu={};function vu(e){return-128<=e&&128>e?function(e,t){var n=yu;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new gu([0|e],0>e?-1:0)})):new gu([0|e],0>e?-1:0)}function bu(e){if(isNaN(e)||!isFinite(e))return xu;if(0>e)return Tu(bu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=wu;return new gu(t,0)}var wu=4294967296,xu=vu(0),ku=vu(1),Su=vu(16777216);function Eu(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Cu(e){return-1==e.h}function Tu(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new gu(n,~e.h).add(ku)}function _u(e,t){return e.add(Tu(t))}function Au(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Nu(e,t){this.g=e,this.h=t}function Iu(e,t){if(Eu(t))throw Error("division by zero");if(Eu(e))return new Nu(xu,xu);if(Cu(e))return t=Iu(Tu(e),t),new Nu(Tu(t.g),Tu(t.h));if(Cu(t))return t=Iu(e,Tu(t)),new Nu(Tu(t.g),t.h);if(30<e.g.length){if(Cu(e)||Cu(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ku,r=t;0>=r.X(e);)n=Pu(n),r=Pu(r);var i=Ru(n,1),s=Ru(r,1);for(r=Ru(r,2),n=Ru(n,2);!Eu(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Ru(r,1),n=Ru(n,1)}return t=_u(e,i.R(t)),new Nu(i,t)}for(i=xu;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=bu(n)).R(t);Cu(o)||0<o.X(e);)o=(s=bu(n-=r)).R(t);Eu(s)&&(s=ku),i=i.add(s),e=_u(e,o)}return new Nu(i,e)}function Pu(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new gu(n,e.h)}function Ru(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new gu(i,e.h)}(Co=gu.prototype).ea=function(){if(Cu(this))return-Tu(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:wu+r)*t,t*=wu}return e},Co.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Eu(this))return"0";if(Cu(this))return"-"+Tu(this).toString(e);for(var t=bu(Math.pow(e,6)),n=this,r="";;){var i=Iu(n,t).g,s=((0<(n=_u(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Eu(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Co.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Co.X=function(e){return Cu(e=_u(this,e))?-1:Eu(e)?0:1},Co.abs=function(){return Cu(this)?Tu(this):this},Co.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new gu(n,-2147483648&n[n.length-1]?-1:0)},Co.R=function(e){if(Eu(this)||Eu(e))return xu;if(Cu(this))return Cu(e)?Tu(this).R(Tu(e)):Tu(Tu(this).R(e));if(Cu(e))return Tu(this.R(Tu(e)));if(0>this.X(Su)&&0>e.X(Su))return bu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,Au(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Au(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Au(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Au(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new gu(n,0)},Co.gb=function(e){return Iu(this,e).h},Co.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new gu(n,this.h&e.h)},Co.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new gu(n,this.h|e.h)},Co.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new gu(n,this.h^e.h)},cu.prototype.createWebChannel=cu.prototype.g,uu.prototype.send=uu.prototype.u,uu.prototype.open=uu.prototype.m,uu.prototype.close=uu.prototype.close,pl.NO_ERROR=0,pl.TIMEOUT=8,pl.HTTP_ERROR=6,ml.COMPLETE="complete",vl.EventType=wl,wl.OPEN="a",wl.CLOSE="b",wl.ERROR="c",wl.MESSAGE="d",Da.prototype.listen=Da.prototype.O,Nc.prototype.listenOnce=Nc.prototype.P,Nc.prototype.getLastError=Nc.prototype.Sa,Nc.prototype.getLastErrorCode=Nc.prototype.Ia,Nc.prototype.getStatus=Nc.prototype.da,Nc.prototype.getResponseJson=Nc.prototype.Wa,Nc.prototype.getResponseText=Nc.prototype.ja,Nc.prototype.send=Nc.prototype.ha,Nc.prototype.setWithCredentials=Nc.prototype.Oa,pu.prototype.digest=pu.prototype.l,pu.prototype.reset=pu.prototype.reset,pu.prototype.update=pu.prototype.j,gu.prototype.add=gu.prototype.add,gu.prototype.multiply=gu.prototype.R,gu.prototype.modulo=gu.prototype.gb,gu.prototype.compare=gu.prototype.X,gu.prototype.toNumber=gu.prototype.ea,gu.prototype.toString=gu.prototype.toString,gu.prototype.getBits=gu.prototype.D,gu.fromNumber=bu,gu.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Tu(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=bu(Math.pow(n,8)),i=xu,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=bu(Math.pow(n,o)),i=i.R(o).add(bu(a))):i=(i=i.R(r)).add(bu(a))}return i};var ju=_o.createWebChannelTransport=function(){return new cu},Du=_o.getStatEventTarget=function(){return al()},Ou=_o.ErrorCode=pl,Lu=_o.EventType=ml,Mu=_o.Event=sl,Fu=_o.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Uu=_o.FetchXmlHttpFactory=kc,Vu=_o.WebChannel=vl,Bu=_o.XhrIo=Nc,zu=_o.Md5=pu,qu=_o.Integer=gu;const Hu="@firebase/firestore";class Wu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wu.UNAUTHENTICATED=new Wu(null),Wu.GOOGLE_CREDENTIALS=new Wu("google-credentials-uid"),Wu.FIRST_PARTY=new Wu("first-party-uid"),Wu.MOCK_USER=new Wu("mock-user");let Ku="9.23.0";const Gu=new tn("@firebase/firestore");function Yu(){return Gu.logLevel}function Qu(e){if(Gu.logLevel<=Xt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ju);Gu.debug("Firestore (".concat(Ku,"): ").concat(e),...i)}}function Xu(e){if(Gu.logLevel<=Xt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ju);Gu.error("Firestore (".concat(Ku,"): ").concat(e),...i)}}function $u(e){if(Gu.logLevel<=Xt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ju);Gu.warn("Firestore (".concat(Ku,"): ").concat(e),...i)}}function Ju(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Zu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Ku,") INTERNAL ASSERTION FAILED: ")+e;throw Xu(t),new Error(t)}function eh(e,t){e||Zu()}function th(e,t){return e}const nh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rh extends jt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ih{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class sh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class oh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Wu.UNAUTHENTICATED)))}shutdown(){}}class ah{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class lh{constructor(e){this.t=e,this.currentUser=Wu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ih;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ih,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Qu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Qu("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ih)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Qu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(eh("string"==typeof t.accessToken),new sh(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return eh(null===e||"string"==typeof e),new Wu(e)}}class ch{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Wu.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class uh{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new ch(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Wu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dh{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Qu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Qu("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Qu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Qu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(eh("string"==typeof e.token),this.T=e.token,new hh(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fh(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ph{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=fh(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function mh(e,t){return e<t?-1:e>t?1:0}function gh(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class yh{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new rh(nh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new rh(nh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new rh(nh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rh(nh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yh.fromMillis(Date.now())}static fromDate(e){return yh.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new yh(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?mh(this.nanoseconds,e.nanoseconds):mh(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class vh{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vh(e)}static min(){return new vh(new yh(0,0))}static max(){return new vh(new yh(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bh{constructor(e,t,n){void 0===t?t=0:t>e.length&&Zu(),void 0===n?n=e.length-t:n>e.length-t&&Zu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===bh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bh?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class wh extends bh{construct(e,t,n){return new wh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new rh(nh.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new wh(e)}static emptyPath(){return new wh([])}}const xh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kh extends bh{construct(e,t,n){return new kh(e,t,n)}static isValidIdentifier(e){return xh.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kh.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new kh(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new rh(nh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new rh(nh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new rh(nh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new rh(nh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kh(t)}static emptyPath(){return new kh([])}}class Sh{constructor(e){this.path=e}static fromPath(e){return new Sh(wh.fromString(e))}static fromName(e){return new Sh(wh.fromString(e).popFirst(5))}static empty(){return new Sh(wh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return wh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Sh(new wh(e.slice()))}}class Eh{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Eh.UNKNOWN_ID=-1;function Ch(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=vh.fromTimestamp(1e9===r?new yh(n+1,0):new yh(n,r));return new _h(i,Sh.empty(),t)}function Th(e){return new _h(e.readTime,e.key,-1)}class _h{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new _h(vh.min(),Sh.empty(),-1)}static max(){return new _h(vh.max(),Sh.empty(),-1)}}function Ah(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Sh.comparator(e.documentKey,t.documentKey),0!==n?n:mh(e.largestBatchId,t.largestBatchId))}const Nh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ih{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ph(e){if(e.code!==nh.FAILED_PRECONDITION||e.message!==Nh)throw e;Qu("LocalStore","Unexpectedly lost primary lease")}class Rh{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Zu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Rh(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Rh?t:Rh.resolve(t)}catch(e){return Rh.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Rh.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Rh.reject(t)}static resolve(e){return new Rh(((t,n)=>{t(e)}))}static reject(e){return new Rh(((t,n)=>{n(e)}))}static waitFor(e){return new Rh(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Rh.resolve(!1);for(const n of e)t=t.next((e=>e?Rh.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Rh(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Rh(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function jh(e){return"IndexedDbTransactionError"===e.name}class Dh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Oh(e){return null==e}function Lh(e){return 0===e&&1/e==-1/0}function Mh(e){return"number"==typeof e&&Number.isInteger(e)&&!Lh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Dh.ct=-1;const Fh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Uh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vh=Uh;function Bh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zh(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Hh{constructor(e,t){this.comparator=e,this.root=t||Kh.EMPTY}insert(e,t){return new Hh(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kh.BLACK,null,null))}remove(e){return new Hh(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kh.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wh(this.root,e,this.comparator,!0)}}class Wh{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kh{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Kh.RED,this.left=null!=r?r:Kh.EMPTY,this.right=null!=i?i:Kh.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Kh(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kh.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Kh.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Zu();if(this.right.isRed())throw Zu();const e=this.left.check();if(e!==this.right.check())throw Zu();return e+(this.isRed()?0:1)}}Kh.EMPTY=null,Kh.RED=!0,Kh.BLACK=!1,Kh.EMPTY=new class{constructor(){this.size=0}get key(){throw Zu()}get value(){throw Zu()}get color(){throw Zu()}get left(){throw Zu()}get right(){throw Zu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Kh(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gh{constructor(e){this.comparator=e,this.data=new Hh(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yh(this.data.getIterator())}getIteratorFrom(e){return new Yh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Gh))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Gh(this.comparator);return t.data=e,t}}class Yh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qh{constructor(e){this.fields=e,e.sort(kh.comparator)}static empty(){return new Qh([])}unionWith(e){let t=new Gh(kh.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Qh(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gh(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Xh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $h{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Xh("Invalid base64 string: "+e):e}}(e);return new $h(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new $h(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mh(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$h.EMPTY_BYTE_STRING=new $h("");const Jh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zh(e){if(eh(!!e),"string"==typeof e){let t=0;const n=Jh.exec(e);if(eh(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ed(e.seconds),nanos:ed(e.nanos)}}function ed(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function td(e){return"string"==typeof e?$h.fromBase64String(e):$h.fromUint8Array(e)}function nd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rd(e){const t=e.mapValue.fields.__previous_value__;return nd(t)?rd(t):t}function id(e){const t=Zh(e.mapValue.fields.__local_write_time__.timestampValue);return new yh(t.seconds,t.nanos)}class sd{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class od{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new od("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof od&&e.projectId===this.projectId&&e.database===this.database}}const ad={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ld(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nd(e)?4:kd(e)?9007199254740991:10:Zu()}function cd(e,t){if(e===t)return!0;const n=ld(e);if(n!==ld(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return id(e).isEqual(id(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Zh(e.timestampValue),r=Zh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return td(e.bytesValue).isEqual(td(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ed(e.geoPointValue.latitude)===ed(t.geoPointValue.latitude)&&ed(e.geoPointValue.longitude)===ed(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ed(e.integerValue)===ed(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ed(e.doubleValue),r=ed(t.doubleValue);return n===r?Lh(n)===Lh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return gh(e.arrayValue.values||[],t.arrayValue.values||[],cd);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Bh(n)!==Bh(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cd(n[i],r[i])))return!1;return!0}(e,t);default:return Zu()}}function ud(e,t){return void 0!==(e.values||[]).find((e=>cd(e,t)))}function hd(e,t){if(e===t)return 0;const n=ld(e),r=ld(t);if(n!==r)return mh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mh(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ed(e.integerValue||e.doubleValue),r=ed(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return dd(e.timestampValue,t.timestampValue);case 4:return dd(id(e),id(t));case 5:return mh(e.stringValue,t.stringValue);case 6:return function(e,t){const n=td(e),r=td(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=mh(n[i],r[i]);if(0!==e)return e}return mh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=mh(ed(e.latitude),ed(t.latitude));return 0!==n?n:mh(ed(e.longitude),ed(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=hd(n[i],r[i]);if(e)return e}return mh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ad.mapValue&&t===ad.mapValue)return 0;if(e===ad.mapValue)return 1;if(t===ad.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=mh(r[o],s[o]);if(0!==e)return e;const t=hd(n[r[o]],i[s[o]]);if(0!==t)return t}return mh(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Zu()}}function dd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return mh(e,t);const n=Zh(e),r=Zh(t),i=mh(n.seconds,r.seconds);return 0!==i?i:mh(n.nanos,r.nanos)}function fd(e){return pd(e)}function pd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Zh(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?td(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Sh.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=pd(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(pd(e.fields[i]));return n+"}"}(e.mapValue):Zu();var t,n}function md(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function gd(e){return!!e&&"integerValue"in e}function yd(e){return!!e&&"arrayValue"in e}function vd(e){return!!e&&"nullValue"in e}function bd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wd(e){return!!e&&"mapValue"in e}function xd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return zh(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=xd(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=xd(e.arrayValue.values[n]);return t}return Object.assign({},e)}function kd(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Sd{constructor(e){this.value=e}static empty(){return new Sd({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!wd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xd(t)}setAll(e){let t=kh.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=xd(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());wd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];wd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){zh(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Sd(xd(this.value))}}function Ed(e){const t=[];return zh(e.fields,((e,n)=>{const r=new kh([e]);if(wd(n)){const e=Ed(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Qh(t)}class Cd{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Cd(e,0,vh.min(),vh.min(),vh.min(),Sd.empty(),0)}static newFoundDocument(e,t,n,r){return new Cd(e,1,t,vh.min(),n,r,0)}static newNoDocument(e,t){return new Cd(e,2,t,vh.min(),vh.min(),Sd.empty(),0)}static newUnknownDocument(e,t){return new Cd(e,3,t,vh.min(),vh.min(),Sd.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(vh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sd.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sd.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vh.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cd(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Td{constructor(e,t){this.position=e,this.inclusive=t}}function _d(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Sh.comparator(Sh.fromName(o.referenceValue),n.key):hd(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Ad(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!cd(e.position[n],t.position[n]))return!1;return!0}class Nd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Id(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Pd{}class Rd extends Pd{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Vd(e,t,n):"array-contains"===t?new Hd(e,n):"in"===t?new Wd(e,n):"not-in"===t?new Kd(e,n):"array-contains-any"===t?new Gd(e,n):new Rd(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Bd(e,n):new zd(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(hd(t,this.value)):null!==t&&ld(this.value)===ld(t)&&this.matchesComparison(hd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zu()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class jd extends Pd{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new jd(e,t)}matches(e){return Dd(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Dd(e){return"and"===e.op}function Od(e){return Ld(e)&&Dd(e)}function Ld(e){for(const t of e.filters)if(t instanceof jd)return!1;return!0}function Md(e){if(e instanceof Rd)return e.field.canonicalString()+e.op.toString()+fd(e.value);if(Od(e))return e.filters.map((e=>Md(e))).join(",");{const t=e.filters.map((e=>Md(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Fd(e,t){return e instanceof Rd?function(e,t){return t instanceof Rd&&e.op===t.op&&e.field.isEqual(t.field)&&cd(e.value,t.value)}(e,t):e instanceof jd?function(e,t){return t instanceof jd&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Fd(n,t.filters[r])),!0)}(e,t):void Zu()}function Ud(e){return e instanceof Rd?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(fd(e.value))}(e):e instanceof jd?function(e){return e.op.toString()+" {"+e.getFilters().map(Ud).join(" ,")+"}"}(e):"Filter"}class Vd extends Rd{constructor(e,t,n){super(e,t,n),this.key=Sh.fromName(n.referenceValue)}matches(e){const t=Sh.comparator(e.key,this.key);return this.matchesComparison(t)}}class Bd extends Rd{constructor(e,t){super(e,"in",t),this.keys=qd("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class zd extends Rd{constructor(e,t){super(e,"not-in",t),this.keys=qd("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function qd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Sh.fromName(e.referenceValue)))}class Hd extends Rd{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yd(t)&&ud(t.arrayValue,this.value)}}class Wd extends Rd{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ud(this.value.arrayValue,t)}}class Kd extends Rd{constructor(e,t){super(e,"not-in",t)}matches(e){if(ud(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ud(this.value.arrayValue,t)}}class Gd extends Rd{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>ud(this.value.arrayValue,e)))}}class Yd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.dt=null}}function Qd(e){return new Yd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Xd(e){const t=th(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Md(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Oh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>fd(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>fd(e))).join(",")),t.dt=e}return t.dt}function $d(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Id(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Fd(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ad(e.startAt,t.startAt)&&Ad(e.endAt,t.endAt)}function Jd(e){return Sh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Zd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function ef(e,t,n,r,i,s,o,a){return new Zd(e,t,n,r,i,s,o,a)}function tf(e){return new Zd(e)}function nf(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function rf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function sf(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function of(e){return null!==e.collectionGroup}function af(e){const t=th(e);if(null===t.wt){t.wt=[];const e=sf(t),n=rf(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Nd(e)),t.wt.push(new Nd(kh.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Nd(kh.keyField(),e))}}}return t.wt}function lf(e){const t=th(e);if(!t._t)if("F"===t.limitType)t._t=Qd(t.path,t.collectionGroup,af(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of af(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Nd(i.field,t))}const n=t.endAt?new Td(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Td(t.startAt.position,t.startAt.inclusive):null;t._t=Qd(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function cf(e,t){t.getFirstInequalityField(),sf(e);const n=e.filters.concat([t]);return new Zd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function uf(e,t,n){return new Zd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function hf(e,t){return $d(lf(e),lf(t))&&e.limitType===t.limitType}function df(e){return"".concat(Xd(lf(e)),"|lt:").concat(e.limitType)}function ff(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Ud(e))).join(", "),"]")),Oh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>fd(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>fd(e))).join(",")),"Target(".concat(t,")")}(lf(e)),"; limitType=").concat(e.limitType,")")}function pf(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Sh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of af(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=_d(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,af(e),t))&&!(e.endAt&&!function(e,t,n){const r=_d(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,af(e),t))}(e,t)}function mf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gf(e){return(t,n)=>{let r=!1;for(const i of af(e)){const e=yf(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function yf(e,t,n){const r=e.field.isKeyField()?Sh.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?hd(r,i):Zu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zu()}}class vf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){zh(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return qh(this.inner)}size(){return this.innerSize}}const bf=new Hh(Sh.comparator);function wf(){return bf}const xf=new Hh(Sh.comparator);function kf(){let e=xf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Sf(e){let t=xf;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Ef(){return Tf()}function Cf(){return Tf()}function Tf(){return new vf((e=>e.toString()),((e,t)=>e.isEqual(t)))}const _f=new Hh(Sh.comparator),Af=new Gh(Sh.comparator);function Nf(){let e=Af;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const If=new Gh(mh);function Pf(){return If}function Rf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(t)?"-0":t}}function jf(e){return{integerValue:""+e}}function Df(e,t){return Mh(t)?jf(t):Rf(e,t)}class Of{constructor(){this._=void 0}}function Lf(e,t,n){return e instanceof Uf?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&nd(t)&&(t=rd(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Vf?Bf(e,t):e instanceof zf?qf(e,t):function(e,t){const n=Ff(e,t),r=Wf(n)+Wf(e.gt);return gd(n)&&gd(e.gt)?jf(r):Rf(e.serializer,r)}(e,t)}function Mf(e,t,n){return e instanceof Vf?Bf(e,t):e instanceof zf?qf(e,t):n}function Ff(e,t){return e instanceof Hf?gd(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Uf extends Of{}class Vf extends Of{constructor(e){super(),this.elements=e}}function Bf(e,t){const n=Kf(t);for(const r of e.elements)n.some((e=>cd(e,r)))||n.push(r);return{arrayValue:{values:n}}}class zf extends Of{constructor(e){super(),this.elements=e}}function qf(e,t){let n=Kf(t);for(const r of e.elements)n=n.filter((e=>!cd(e,r)));return{arrayValue:{values:n}}}class Hf extends Of{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Wf(e){return ed(e.integerValue||e.doubleValue)}function Kf(e){return yd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Gf{constructor(e,t){this.field=e,this.transform=t}}class Yf{constructor(e,t){this.version=e,this.transformResults=t}}class Qf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qf}static exists(e){return new Qf(void 0,e)}static updateTime(e){return new Qf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class $f{}function Jf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new lp(e.key,Qf.none()):new rp(e.key,e.data,Qf.none());{const n=e.data,r=Sd.empty();let i=new Gh(kh.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ip(e.key,r,new Qh(i.toArray()),Qf.none())}}function Zf(e,t,n){e instanceof rp?function(e,t,n){const r=e.value.clone(),i=op(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ip?function(e,t,n){if(!Xf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=op(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(sp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ep(e,t,n,r){return e instanceof rp?function(e,t,n,r){if(!Xf(e.precondition,t))return n;const i=e.value.clone(),s=ap(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ip?function(e,t,n,r){if(!Xf(e.precondition,t))return n;const i=ap(e.fieldTransforms,r,t),s=t.data;return s.setAll(sp(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Xf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function tp(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ff(r.transform,e||null);null!=i&&(null===n&&(n=Sd.empty()),n.set(r.field,i))}return n||null}function np(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&gh(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Vf&&t instanceof Vf||e instanceof zf&&t instanceof zf?gh(e.elements,t.elements,cd):e instanceof Hf&&t instanceof Hf?cd(e.gt,t.gt):e instanceof Uf&&t instanceof Uf}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class rp extends $f{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ip extends $f{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function sp(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function op(e,t,n){const r=new Map;eh(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Mf(o,a,n[i]))}return r}function ap(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Lf(e,s,t))}return r}class lp extends $f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cp extends $f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class up{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Zf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ep(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ep(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Cf();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Jf(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(vh.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Nf())}isEqual(e){return this.batchId===e.batchId&&gh(this.mutations,e.mutations,((e,t)=>np(e,t)))&&gh(this.baseMutations,e.baseMutations,((e,t)=>np(e,t)))}}class hp{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){eh(e.mutations.length===n.length);let r=_f;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new hp(e,t,n,r)}}class dp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class fp{constructor(e,t){this.count=e,this.unchangedNames=t}}var pp,mp;function gp(e){switch(e){default:return Zu();case nh.CANCELLED:case nh.UNKNOWN:case nh.DEADLINE_EXCEEDED:case nh.RESOURCE_EXHAUSTED:case nh.INTERNAL:case nh.UNAVAILABLE:case nh.UNAUTHENTICATED:return!1;case nh.INVALID_ARGUMENT:case nh.NOT_FOUND:case nh.ALREADY_EXISTS:case nh.PERMISSION_DENIED:case nh.FAILED_PRECONDITION:case nh.ABORTED:case nh.OUT_OF_RANGE:case nh.UNIMPLEMENTED:case nh.DATA_LOSS:return!0}}function yp(e){if(void 0===e)return Xu("GRPC error has no .code"),nh.UNKNOWN;switch(e){case pp.OK:return nh.OK;case pp.CANCELLED:return nh.CANCELLED;case pp.UNKNOWN:return nh.UNKNOWN;case pp.DEADLINE_EXCEEDED:return nh.DEADLINE_EXCEEDED;case pp.RESOURCE_EXHAUSTED:return nh.RESOURCE_EXHAUSTED;case pp.INTERNAL:return nh.INTERNAL;case pp.UNAVAILABLE:return nh.UNAVAILABLE;case pp.UNAUTHENTICATED:return nh.UNAUTHENTICATED;case pp.INVALID_ARGUMENT:return nh.INVALID_ARGUMENT;case pp.NOT_FOUND:return nh.NOT_FOUND;case pp.ALREADY_EXISTS:return nh.ALREADY_EXISTS;case pp.PERMISSION_DENIED:return nh.PERMISSION_DENIED;case pp.FAILED_PRECONDITION:return nh.FAILED_PRECONDITION;case pp.ABORTED:return nh.ABORTED;case pp.OUT_OF_RANGE:return nh.OUT_OF_RANGE;case pp.UNIMPLEMENTED:return nh.UNIMPLEMENTED;case pp.DATA_LOSS:return nh.DATA_LOSS;default:return Zu()}}(mp=pp||(pp={}))[mp.OK=0]="OK",mp[mp.CANCELLED=1]="CANCELLED",mp[mp.UNKNOWN=2]="UNKNOWN",mp[mp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mp[mp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mp[mp.NOT_FOUND=5]="NOT_FOUND",mp[mp.ALREADY_EXISTS=6]="ALREADY_EXISTS",mp[mp.PERMISSION_DENIED=7]="PERMISSION_DENIED",mp[mp.UNAUTHENTICATED=16]="UNAUTHENTICATED",mp[mp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mp[mp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mp[mp.ABORTED=10]="ABORTED",mp[mp.OUT_OF_RANGE=11]="OUT_OF_RANGE",mp[mp.UNIMPLEMENTED=12]="UNIMPLEMENTED",mp[mp.INTERNAL=13]="INTERNAL",mp[mp.UNAVAILABLE=14]="UNAVAILABLE",mp[mp.DATA_LOSS=15]="DATA_LOSS";class vp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return bp}static getOrCreateInstance(){return null===bp&&(bp=new vp),bp}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let bp=null;function wp(){return new TextEncoder}const xp=new qu([4294967295,4294967295],0);function kp(e){const t=wp().encode(e),n=new zu;return n.update(t),new Uint8Array(n.digest())}function Sp(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new qu([n,r],0),new qu([i,s],0)]}class Ep{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Cp("Invalid padding: ".concat(t));if(n<0)throw new Cp("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Cp("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Cp("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=qu.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(qu.fromNumber(n)));return 1===r.compare(xp)&&(r=new qu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=kp(e),[n,r]=Sp(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ep(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.It)return;const t=kp(e),[n,r]=Sp(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Cp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tp{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,_p.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Tp(vh.min(),r,new Hh(mh),wf(),Nf())}}class _p{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new _p(n,t,Nf(),Nf(),Nf())}}class Ap{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Np{constructor(e,t){this.targetId=e,this.Vt=t}}class Ip{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$h.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Pp{constructor(){this.St=0,this.Dt=Dp(),this.Ct=$h.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Nf(),t=Nf(),n=Nf();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zu()}})),new _p(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Dp()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Rp{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=wf(),this.zt=jp(),this.Wt=new Hh(mh)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Zu()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(Jd(s))if(0===r){const e=new Sh(s.path);this.Yt(n,e,Cd.newNoDocument(e,vh.min()))}else eh(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=vp.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,o,a,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(s=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===(a=null==u?void 0:u.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=td(i).toUint8Array()}catch(e){if(e instanceof Xh)return $u("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Ep(a,s,o)}catch(e){return $u(e instanceof Cp?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(s)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&Jd(i.target)){const t=new Sh(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Cd.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=Nf();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new Tp(e,t,this.Wt,this.jt,n);return this.jt=wf(),this.zt=jp(),this.Wt=new Hh(mh),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Pp,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Gh(mh),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Qu("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Pp),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function jp(){return new Hh(Sh.comparator)}function Dp(){return new Hh(Sh.comparator)}const Op={asc:"ASCENDING",desc:"DESCENDING"},Lp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mp={and:"AND",or:"OR"};class Fp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Up(e,t){return e.useProto3Json||Oh(t)?t:{value:t}}function Vp(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Bp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function zp(e,t){return Vp(e,t.toTimestamp())}function qp(e){return eh(!!e),vh.fromTimestamp(function(e){const t=Zh(e);return new yh(t.seconds,t.nanos)}(e))}function Hp(e,t){return function(e){return new wh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Wp(e){const t=wh.fromString(e);return eh(hm(t)),t}function Kp(e,t){return Hp(e.databaseId,t.path)}function Gp(e,t){const n=Wp(t);if(n.get(1)!==e.databaseId.projectId)throw new rh(nh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new rh(nh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Sh($p(n))}function Yp(e,t){return Hp(e.databaseId,t)}function Qp(e){const t=Wp(e);return 4===t.length?wh.emptyPath():$p(t)}function Xp(e){return new wh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $p(e){return eh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Jp(e,t,n){return{name:Kp(e,t),fields:n.value.mapValue.fields}}function Zp(e,t){let n;if(t instanceof rp)n={update:Jp(e,t.key,t.value)};else if(t instanceof lp)n={delete:Kp(e,t.key)};else if(t instanceof ip)n={update:Jp(e,t.key,t.data),updateMask:um(t.fieldMask)};else{if(!(t instanceof cp))return Zu();n={verify:Kp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Uf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof zf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Hf)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Zu()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:zp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zu()}(e,t.precondition)),n}function em(e,t){return{documents:[Yp(e,t.path)]}}function tm(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Yp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Yp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return cm(jd.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:am(e.field),direction:im(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Up(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function nm(e){let t=Qp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){eh(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=rm(e);return t instanceof jd&&Od(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new Nd(lm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Oh(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Td(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Td(n,t)}(n.endAt)),ef(t,i,o,s,a,"F",l,c)}function rm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=lm(e.unaryFilter.field);return Rd.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=lm(e.unaryFilter.field);return Rd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=lm(e.unaryFilter.field);return Rd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=lm(e.unaryFilter.field);return Rd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Zu()}}(e):void 0!==e.fieldFilter?function(e){return Rd.create(lm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return jd.create(e.compositeFilter.filters.map((e=>rm(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Zu()}}(e.compositeFilter.op))}(e):Zu()}function im(e){return Op[e]}function sm(e){return Lp[e]}function om(e){return Mp[e]}function am(e){return{fieldPath:e.canonicalString()}}function lm(e){return kh.fromServerFormat(e.fieldPath)}function cm(e){return e instanceof Rd?function(e){if("=="===e.op){if(bd(e.value))return{unaryFilter:{field:am(e.field),op:"IS_NAN"}};if(vd(e.value))return{unaryFilter:{field:am(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bd(e.value))return{unaryFilter:{field:am(e.field),op:"IS_NOT_NAN"}};if(vd(e.value))return{unaryFilter:{field:am(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:am(e.field),op:sm(e.op),value:e.value}}}(e):e instanceof jd?function(e){const t=e.getFilters().map((e=>cm(e)));return 1===t.length?t[0]:{compositeFilter:{op:om(e.op),filters:t}}}(e):Zu()}function um(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function hm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class dm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:vh.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:vh.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:$h.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new dm(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new dm(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fm{constructor(e){this.fe=e}}function pm(e){const t=nm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?uf(t,t.limit,"L"):t}class mm{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ed(e.integerValue));else if("doubleValue"in e){const n=ed(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Lh(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(td(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?kd(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Zu()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Sh.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}mm.Ve=new mm;class gm{constructor(){this.rn=new ym}addToCollectionParentIndex(e,t){return this.rn.add(t),Rh.resolve()}getCollectionParents(e,t){return Rh.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Rh.resolve()}deleteFieldIndex(e,t){return Rh.resolve()}getDocumentsMatchingTarget(e,t){return Rh.resolve(null)}getIndexType(e,t){return Rh.resolve(0)}getFieldIndexes(e,t){return Rh.resolve([])}getNextCollectionGroupToUpdate(e){return Rh.resolve(null)}getMinOffset(e,t){return Rh.resolve(_h.min())}getMinOffsetFromCollectionGroup(e,t){return Rh.resolve(_h.min())}updateCollectionGroup(e,t,n){return Rh.resolve()}updateIndexEntries(e,t){return Rh.resolve()}}class ym{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gh(wh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Gh(wh.comparator)).toArray()}}new Uint8Array(0);class vm{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new vm(e,vm.DEFAULT_COLLECTION_PERCENTILE,vm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}vm.DEFAULT_COLLECTION_PERCENTILE=10,vm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vm.DEFAULT=new vm(41943040,vm.DEFAULT_COLLECTION_PERCENTILE,vm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vm.DISABLED=new vm(-1,0,0);class bm{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new bm(0)}static Mn(){return new bm(-1)}}class wm{constructor(){this.changes=new vf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Cd.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Rh.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class km{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&ep(n.mutation,e,Qh.empty(),yh.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Nf()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nf();const r=Ef();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=kf();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Ef();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Nf())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=wf();const s=Tf(),o=Tf();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ip)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),ep(o.mutation,t,o.mutation.getFieldMask(),yh.now())):s.set(t.key,Qh.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new xm(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Tf();let r=new Hh(((e,t)=>e-t)),i=Nf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Qh.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Nf()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=Cf();l.forEach((e=>{if(!i.has(e)){const r=Jf(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Rh.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Sh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):of(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Rh.resolve(Ef());let o=-1,a=i;return s.next((t=>Rh.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Rh.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Nf()))).next((e=>({batchId:o,changes:Sf(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Sh(t)).next((e=>{let t=kf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=kf();return this.indexManager.getCollectionParents(e,r).next((s=>Rh.forEach(s,(s=>{const o=function(e,t){return new Zd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Cd.newInvalidDocument(r)))}));let n=kf();return e.forEach(((e,i)=>{const s=r.get(e);void 0!==s&&ep(s.mutation,i,Qh.empty(),yh.now()),pf(t,i)&&(n=n.insert(e,i))})),n}))}}class Sm{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Rh.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:qp(n.createTime)}),Rh.resolve()}getNamedQuery(e,t){return Rh.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:pm(e.bundledQuery),readTime:qp(e.readTime)}}(t)),Rh.resolve()}}class Em{constructor(){this.overlays=new Hh(Sh.comparator),this.ls=new Map}getOverlay(e,t){return Rh.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ef();return Rh.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),Rh.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Rh.resolve()}getOverlaysForCollection(e,t,n){const r=Ef(),i=t.length+1,s=new Sh(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Rh.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Hh(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ef(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Ef(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Rh.resolve(o)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new dp(t,n));let i=this.ls.get(t);void 0===i&&(i=Nf(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Cm{constructor(){this.fs=new Gh(Tm.ds),this.ws=new Gh(Tm._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Tm(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Tm(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new Sh(new wh([])),n=new Tm(t,e),r=new Tm(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Sh(new wh([])),n=new Tm(t,e),r=new Tm(t,e+1);let i=Nf();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Tm(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Tm{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Sh.comparator(e.key,t.key)||mh(e.As,t.As)}static _s(e,t){return mh(e.As,t.As)||Sh.comparator(e.key,t.key)}}class _m{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Gh(Tm.ds)}checkEmpty(e){return Rh.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new up(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Rs=this.Rs.add(new Tm(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Rh.resolve(s)}lookupMutationBatch(e,t){return Rh.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Rh.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Rh.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Rh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Tm(t,0),r=new Tm(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),Rh.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Gh(mh);return t.forEach((e=>{const t=new Tm(e,0),r=new Tm(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),Rh.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Sh.isDocumentKey(i)||(i=i.child(""));const s=new Tm(new Sh(i),0);let o=new Gh(mh);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),s),Rh.resolve(this.Vs(o))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){eh(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Rh.forEach(t.mutations,(r=>{const i=new Tm(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Tm(t,0),r=this.Rs.firstAfterOrEqual(n);return Rh.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Rh.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Am{constructor(e){this.Ds=e,this.docs=new Hh(Sh.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Rh.resolve(n?n.document.mutableCopy():Cd.newInvalidDocument(t))}getEntries(e,t){let n=wf();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Cd.newInvalidDocument(e))})),Rh.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=wf();const s=t.path,o=new Sh(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Ah(Th(o),n)<=0||(r.has(o.key)||pf(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Rh.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Zu()}Cs(e,t){return Rh.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Nm(this)}getSize(e){return Rh.resolve(this.size)}}class Nm extends wm{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),Rh.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Im{constructor(e){this.persistence=e,this.xs=new vf((e=>Xd(e)),$d),this.lastRemoteSnapshotVersion=vh.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Cm,this.targetCount=0,this.Ms=bm.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Rh.resolve()}getLastRemoteSnapshotVersion(e){return Rh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Rh.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Rh.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Rh.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new bm(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Rh.resolve()}updateTargetData(e,t){return this.Fn(t),Rh.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Rh.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Rh.waitFor(i).next((()=>r))}getTargetCount(e){return Rh.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Rh.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Rh.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Rh.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Rh.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Rh.resolve(n)}containsKey(e,t){return Rh.resolve(this.ks.containsKey(t))}}class Pm{constructor(e,t){this.$s={},this.overlays={},this.Os=new Dh(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Im(this),this.indexManager=new gm,this.remoteDocumentCache=function(e){return new Am(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new fm(t),this.qs=new Sm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Em,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new _m(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Qu("MemoryPersistence","Starting transaction:",e);const r=new Rm(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return Rh.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Rm extends Ih{constructor(e){super(),this.currentSequenceNumber=e}}class jm{constructor(e){this.persistence=e,this.Qs=new Cm,this.js=null}static zs(e){return new jm(e)}get Ws(){if(this.js)return this.js;throw Zu()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Rh.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Rh.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Rh.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rh.forEach(this.Ws,(n=>{const r=Sh.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,vh.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Rh.or([()=>Rh.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Dm{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Nf(),r=Nf();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Dm(e,t.fromCache,n,r)}}class Om{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(nf(t))return Rh.resolve(null);let n=lf(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=uf(t,null,"F"),n=lf(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Nf(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,uf(t,null,"F")):this.Wi(e,s,t,n)}))))})))))}Gi(e,t,n,r){return nf(t)||r.isEqual(vh.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(Yu()<=Xt.DEBUG&&Qu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ff(t)),this.Wi(e,s,t,Ch(r,-1)))}))}ji(e,t){let n=new Gh(gf(e));return t.forEach(((t,r)=>{pf(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Yu()<=Xt.DEBUG&&Qu("QueryEngine","Using full collection scan to execute query:",ff(t)),this.Ui.getDocumentsMatchingQuery(e,t,_h.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Lm{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Hh(mh),this.Yi=new vf((e=>Xd(e)),$d),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new km(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function Mm(e,t,n,r){return new Lm(e,t,n,r)}async function Fm(e,t){const n=th(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Nf();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({er:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Um(e){const t=th(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function Vm(e,t,n){let r=Nf(),i=Nf();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=wf();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(vh.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Qu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{nr:r,sr:i}}))}function Bm(e,t){const n=th(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function zm(e,t){const n=th(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,Rh.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new dm(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function qm(e,t,n){const r=th(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!jh(e))throw e;Qu("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function Hm(e,t,n){const r=th(e);let i=vh.min(),s=Nf();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=th(e),i=r.Yi.get(n);return void 0!==i?Rh.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,lf(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:vh.min(),n?s:Nf()))).next((e=>(Wm(r,mf(t),e),{documents:e,ir:s})))))}function Wm(e,t,n){let r=e.Xi.get(t)||vh.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}class Km{constructor(){this.activeTargetIds=Pf()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gm{constructor(){this.Hr=new Km,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Km,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ym{Yr(e){}shutdown(){}}class Qm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Qu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Qu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xm=null;function $m(){return null===Xm?Xm=268435456+Math.round(2147483648*Math.random()):Xm++,"0x"+Xm.toString(16)}const Jm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zm{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const eg="WebChannelConnection";class tg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=$m(),o=this.To(e,t);Qu("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={};return this.Eo(a,r,i),this.Ao(e,o,a,n).then((t=>(Qu("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw $u("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ku,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=Jm[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=$m();return new Promise(((s,o)=>{const a=new Bu;a.setWithCredentials(!0),a.listenOnce(Lu.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Ou.NO_ERROR:const t=a.getResponseJson();Qu(eg,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Ou.TIMEOUT:Qu(eg,"RPC '".concat(e,"' ").concat(i," timed out")),o(new rh(nh.DEADLINE_EXCEEDED,"Request time out"));break;case Ou.HTTP_ERROR:const n=a.getStatus();if(Qu(eg,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(nh).indexOf(t)>=0?t:nh.UNKNOWN}(t.status);o(new rh(e,t.message))}else o(new rh(nh.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new rh(nh.UNAVAILABLE,"Connection failed."));break;default:Zu()}}finally{Qu(eg,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Qu(eg,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=$m(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ju(),o=Du(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Uu({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Qu(eg,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new Zm({ro:t=>{d?Qu(eg,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Qu(eg,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Qu(eg,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Vu.EventType.OPEN,(()=>{d||Qu(eg,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Vu.EventType.CLOSE,(()=>{d||(d=!0,Qu(eg,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())})),p(u,Vu.EventType.ERROR,(t=>{d||(d=!0,$u(eg,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new rh(nh.UNAVAILABLE,"The operation could not be completed")))})),p(u,Vu.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];eh(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Qu(eg,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=pp[e];if(void 0!==t)return yp(t)}(t),i=o.message;void 0===n&&(n=nh.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.wo(new rh(n,i)),u.close()}else Qu(eg,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}})),p(o,Mu.STAT_EVENT,(t=>{t.stat===Fu.PROXY?Qu(eg,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Fu.NOPROXY&&Qu(eg,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function ng(){return"undefined"!=typeof document?document:null}function rg(e){return new Fp(e,!0)}class ig{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Qu("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class sg{constructor(e,t,n,r,i,s,o,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ig(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===nh.RESOURCE_EXHAUSTED?(Xu(t.toString()),Xu("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===nh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new rh(nh.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return Qu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(Qu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class og extends sg{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(eh(void 0===t||"string"==typeof t),$h.fromBase64String(t||"")):(eh(void 0===t||t instanceof Uint8Array),$h.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?nh.UNKNOWN:yp(e.code);return new rh(t,e.message||"")}(o);n=new Ip(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gp(e,r.document.name),s=qp(r.document.updateTime),o=r.document.createTime?qp(r.document.createTime):vh.min(),a=new Sd({mapValue:{fields:r.document.fields}}),l=Cd.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ap(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Gp(e,r.document),s=r.readTime?qp(r.readTime):vh.min(),o=Cd.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ap([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Gp(e,r.document),s=r.removedTargetIds||[];n=new Ap([],s,i,null)}else{if(!("filter"in t))return Zu();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new fp(r,i),o=e.targetId;n=new Np(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return vh.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?vh.min():t.readTime?qp(t.readTime):vh.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Xp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Jd(r)?{documents:em(e,r)}:{query:tm(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Bp(e,t.resumeToken);const r=Up(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(vh.min())>0){n.readTime=Vp(e,t.snapshotVersion.toTimestamp());const r=Up(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Zu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Xp(this.serializer),t.removeTarget=e,this.Wo(t)}}class ag extends sg{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(eh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(eh(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?qp(e.updateTime):qp(t);return n.isEqual(vh.min())&&(n=qp(t)),new Yf(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=qp(e.commitTime);return this.listener.cu(n,t)}return eh(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Xp(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Zp(this.serializer,e)))};this.Wo(t)}}class lg extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new rh(nh.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===nh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new rh(nh.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.vo(e,t,n,s,o,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===nh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new rh(nh.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class cg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Xu(t),this.mu=!1):Qu("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class ug{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{bg(this)&&(Qu("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=th(e);t.vu.add(4),await dg(t),t.bu.set("Unknown"),t.vu.delete(4),await hg(t)}(this))}))})),this.bu=new cg(n,r)}}async function hg(e){if(bg(e))for(const t of e.Ru)await t(!0)}async function dg(e){for(const t of e.Ru)await t(!1)}function fg(e,t){const n=th(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),vg(n)?yg(n):Mg(n).Ko()&&mg(n,t))}function pg(e,t){const n=th(e),r=Mg(n);n.Au.delete(t),r.Ko()&&gg(n,t),0===n.Au.size&&(r.Ko()?r.jo():bg(n)&&n.bu.set("Unknown"))}function mg(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vh.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Mg(e).su(t)}function gg(e,t){e.Vu.qt(t),Mg(e).iu(t)}function yg(e){e.Vu=new Rp({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Mg(e).start(),e.bu.gu()}function vg(e){return bg(e)&&!Mg(e).Uo()&&e.Au.size>0}function bg(e){return 0===th(e).vu.size}function wg(e){e.Vu=void 0}async function xg(e){e.Au.forEach(((t,n)=>{mg(e,t)}))}async function kg(e,t){wg(e),vg(e)?(e.bu.Iu(t),yg(e)):e.bu.set("Unknown")}async function Sg(e,t,n){if(e.bu.set("Online"),t instanceof Ip&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Qu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Eg(e,n)}else if(t instanceof Ap?e.Vu.Ht(t):t instanceof Np?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(vh.min()))try{const t=await Um(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken($h.EMPTY_BYTE_STRING,r.snapshotVersion)),gg(e,t);const i=new dm(r.target,t,n,r.sequenceNumber);mg(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Qu("RemoteStore","Failed to raise snapshot:",t),await Eg(e,t)}}async function Eg(e,t,n){if(!jh(t))throw t;e.vu.add(1),await dg(e),e.bu.set("Offline"),n||(n=()=>Um(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Qu("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await hg(e)}))}function Cg(e,t){return t().catch((n=>Eg(e,n,t)))}async function Tg(e){const t=th(e),n=Fg(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;_g(t);)try{const e=await Bm(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,Ag(t,e)}catch(e){await Eg(t,e)}Ng(t)&&Ig(t)}function _g(e){return bg(e)&&e.Eu.length<10}function Ag(e,t){e.Eu.push(t);const n=Fg(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Ng(e){return bg(e)&&!Fg(e).Uo()&&e.Eu.length>0}function Ig(e){Fg(e).start()}async function Pg(e){Fg(e).hu()}async function Rg(e){const t=Fg(e);for(const n of e.Eu)t.uu(n.mutations)}async function jg(e,t,n){const r=e.Eu.shift(),i=hp.from(r,t,n);await Cg(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Tg(e)}async function Dg(e,t){t&&Fg(e).ou&&await async function(e,t){if(gp(n=t.code)&&n!==nh.ABORTED){const n=e.Eu.shift();Fg(e).Qo(),await Cg(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Tg(e)}var n}(e,t),Ng(e)&&Ig(e)}async function Og(e,t){const n=th(e);n.asyncQueue.verifyOperationInProgress(),Qu("RemoteStore","RemoteStore received new credentials");const r=bg(n);n.vu.add(3),await dg(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await hg(n)}async function Lg(e,t){const n=th(e);t?(n.vu.delete(2),await hg(n)):t||(n.vu.add(2),await dg(n),n.bu.set("Unknown"))}function Mg(e){return e.Su||(e.Su=function(e,t,n){const r=th(e);return r.fu(),new og(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:xg.bind(null,e),ao:kg.bind(null,e),nu:Sg.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),vg(e)?yg(e):e.bu.set("Unknown")):(await e.Su.stop(),wg(e))}))),e.Su}function Fg(e){return e.Du||(e.Du=function(e,t,n){const r=th(e);return r.fu(),new ag(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Pg.bind(null,e),ao:Dg.bind(null,e),au:Rg.bind(null,e),cu:jg.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await Tg(e)):(await e.Du.stop(),e.Eu.length>0&&(Qu("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))}))),e.Du}class Ug{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ih,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Ug(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rh(nh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(e,t){if(Xu("AsyncQueue","".concat(t,": ").concat(e)),jh(e))return new rh(nh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Bg{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Sh.comparator(t.key,n.key):(e,t)=>Sh.comparator(e.key,t.key),this.keyedMap=kf(),this.sortedSet=new Hh(this.comparator)}static emptySet(e){return new Bg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bg))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Bg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class zg{constructor(){this.Cu=new Hh(Sh.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Zu():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class qg{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new qg(e,t,Bg.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Hg{constructor(){this.Nu=void 0,this.listeners=[]}}class Wg{constructor(){this.queries=new vf((e=>df(e)),hf),this.onlineState="Unknown",this.ku=new Set}}async function Kg(e,t){const n=th(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Hg),i)try{s.Nu=await n.onListen(r)}catch(e){const n=Vg(e,"Initialization of query '".concat(ff(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&Xg(n)}async function Gg(e,t){const n=th(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Yg(e,t){const n=th(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&Xg(n)}function Qg(e,t,n){const r=th(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Xg(e){e.ku.forEach((e=>{e.next()}))}class $g{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new qg(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=qg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Jg{constructor(e){this.key=e}}class Zg{constructor(e){this.key=e}}class ey{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Nf(),this.mutatedKeys=Nf(),this.tc=gf(e),this.ec=new Bg(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new zg,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=pf(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.tc(u,a)>0||l&&this.tc(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:o,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zu()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const s=t?this.uc():[],o=0===this.Zu.size&&this.current?1:0,a=o!==this.Xu;return this.Xu=o,0!==i.length||a?{snapshot:new qg(this.query,e.ec,r,i,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new zg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Nf(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new Zg(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new Jg(n))})),t}hc(e){this.Yu=e.ir,this.Zu=Nf();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return qg.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class ty{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ny{constructor(e){this.key=e,this.fc=!1}}class ry{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new vf((e=>df(e)),hf),this._c=new Map,this.mc=new Set,this.gc=new Hh(Sh.comparator),this.yc=new Map,this.Ic=new Cm,this.Tc={},this.Ec=new Map,this.Ac=bm.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function iy(e,t){const n=ky(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await zm(n.localStore,lf(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await sy(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&fg(n.remoteStore,e)}return i}async function sy(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await Hm(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return gy(e,t.targetId,o.cc),o.snapshot}(e,t,n,r);const s=await Hm(e.localStore,t,!0),o=new ey(t,s.ir),a=o.sc(s.documents),l=_p.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);gy(e,n,c.cc);const u=new ty(t,n,o);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function oy(e,t){const n=th(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!hf(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await qm(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),pg(n.remoteStore,r.targetId),py(n,r.targetId)})).catch(Ph)):(py(n,r.targetId),await qm(n.localStore,r.targetId,!0))}async function ay(e,t){const n=th(e);try{const e=await function(e,t){const n=th(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken($h.EMPTY_BYTE_STRING,vh.min()).withLastLimboFreeSnapshotVersion(vh.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Bs.updateTargetData(e,c))}));let a=wf(),l=Nf();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Vm(e,s,t.documentUpdates).next((e=>{a=e.nr,l=e.sr}))),!r.isEqual(vh.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Rh.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(eh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?eh(r.fc):e.removedDocuments.size>0&&(eh(r.fc),r.fc=!1))})),await by(n,e,t)}catch(e){await Ph(e)}}function ly(e,t,n){const r=th(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=th(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&Xg(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function cy(e,t,n){const r=th(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new Hh(Sh.comparator);e=e.insert(s,Cd.newNoDocument(s,vh.min()));const n=Nf().add(s),i=new Tp(vh.min(),new Map,new Hh(mh),e,n);await ay(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),vy(r)}else await qm(r.localStore,t,!1).then((()=>py(r,t,n))).catch(Ph)}async function uy(e,t){const n=th(e),r=t.batch.batchId;try{const e=await function(e,t){const n=th(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Rh.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);eh(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Nf();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);fy(n,r,null),dy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await by(n,e)}catch(e){await Ph(e)}}async function hy(e,t,n){const r=th(e);try{const e=await function(e,t){const n=th(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(eh(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);fy(r,t,n),dy(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await by(r,e)}catch(n){await Ph(n)}}function dy(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function fy(e,t,n){const r=th(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function py(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||my(e,t)}))}function my(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(pg(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),vy(e))}function gy(e,t,n){for(const r of n)r instanceof Jg?(e.Ic.addReference(r.key,t),yy(e,r)):r instanceof Zg?(Qu("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||my(e,r.key)):Zu()}function yy(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Qu("SyncEngine","New document in limbo: "+n),e.mc.add(r),vy(e))}function vy(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Sh(wh.fromString(t)),r=e.Ac.next();e.yc.set(r,new ny(n)),e.gc=e.gc.insert(n,r),fg(e.remoteStore,new dm(lf(tf(n.path)),r,"TargetPurposeLimboResolution",Dh.ct))}}async function by(e,t,n){const r=th(e),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach(((e,a)=>{o.push(r.Rc(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Dm.Li(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.dc.nu(i),await async function(e,t){const n=th(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Rh.forEach(t,(t=>Rh.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Rh.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!jh(e))throw e;Qu("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function wy(e,t){const n=th(e);if(!n.currentUser.isEqual(t)){Qu("SyncEngine","User change. New user:",t.toKey());const e=await Fm(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new rh(nh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await by(n,e.er)}}function xy(e,t){const n=th(e),r=n.yc.get(t);if(r&&r.fc)return Nf().add(r.key);{let e=Nf();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function ky(e){const t=th(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ay.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xy.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cy.bind(null,t),t.dc.nu=Yg.bind(null,t.eventManager),t.dc.Pc=Qg.bind(null,t.eventManager),t}function Sy(e){const t=th(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hy.bind(null,t),t}class Ey{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=rg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Mm(this.persistence,new Om,e.initialUser,this.serializer)}createPersistence(e){return new Pm(jm.zs,this.serializer)}createSharedClientState(e){return new Gm}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Cy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ly(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=wy.bind(null,this.syncEngine),await Lg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Wg}createDatastore(e){const t=rg(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new tg(r));var r;return function(e,t,n,r){return new lg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>ly(this.syncEngine,e,0),s=Qm.D()?new Qm:new Ym,new ug(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new ry(e,t,n,r,i,s);return o&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=th(e);Qu("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await dg(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Ty{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Xu("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class _y{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Wu.UNAUTHENTICATED,this.clientId=ph.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Qu("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Qu("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rh(nh.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ih;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(Kw){const n=Vg(Kw,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Ay(e,t){e.asyncQueue.verifyOperationInProgress(),Qu("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Fm(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Ny(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Py(e);Qu("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Og(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Og(t.remoteStore,n))),e._onlineComponents=t}function Iy(e){return"FirebaseError"===e.name?e.code===nh.FAILED_PRECONDITION||e.code===nh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Py(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Qu("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ay(e,e._uninitializedComponentsProvider._offline)}catch(Kw){const n=Kw;if(!Iy(n))throw n;$u("Error using user provided cache. Falling back to memory cache: "+n),await Ay(e,new Ey)}}else Qu("FirestoreClient","Using default OfflineComponentProvider"),await Ay(e,new Ey);return e._offlineComponents}async function Ry(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Qu("FirestoreClient","Using user provided OnlineComponentProvider"),await Ny(e,e._uninitializedComponentsProvider._online)):(Qu("FirestoreClient","Using default OnlineComponentProvider"),await Ny(e,new Cy))),e._onlineComponents}function jy(e){return Ry(e).then((e=>e.syncEngine))}async function Dy(e){const t=await Ry(e),n=t.eventManager;return n.onListen=iy.bind(null,t.syncEngine),n.onUnlisten=oy.bind(null,t.syncEngine),n}function Oy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ih;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Ty({next:s=>{t.enqueueAndForget((()=>Gg(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new rh(nh.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new rh(nh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new $g(tf(n.path),s,{includeMetadataChanges:!0,Ku:!0});return Kg(e,o)}(await Dy(e),e.asyncQueue,t,n,r))),r.promise}function Ly(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ih;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Ty({next:n=>{t.enqueueAndForget((()=>Gg(e,o))),n.fromCache&&"server"===r.source?i.reject(new rh(nh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new $g(n,s,{includeMetadataChanges:!0,Ku:!0});return Kg(e,o)}(await Dy(e),e.asyncQueue,t,n,r))),r.promise}function My(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Fy=new Map;function Uy(e,t,n){if(!n)throw new rh(nh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Vy(e){if(!Sh.isDocumentKey(e))throw new rh(nh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function By(e){if(Sh.isDocumentKey(e))throw new rh(nh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function zy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Zu()}function qy(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rh(nh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zy(e);throw new rh(nh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Hy{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new rh(nh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rh(nh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new rh(nh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=My(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new rh(nh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new rh(nh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new rh(nh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Wy{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rh(nh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rh(nh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hy(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new oh;switch(e.type){case"firstParty":return new uh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new rh(nh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Fy.get(e);t&&(Qu("ComponentProvider","Removing Datastore"),Fy.delete(e),t.terminate())}(this),Promise.resolve()}}function Ky(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=qy(e,Wy))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&$u("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Wu.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[St(JSON.stringify({alg:"none",type:"JWT"})),St(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new rh(nh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Wu(s)}e._authCredentials=new ah(new sh(t,n))}}class Gy{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qy(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gy(this.firestore,e,this._key)}}class Yy{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Yy(this.firestore,e,this._query)}}class Qy extends Yy{constructor(e,t,n){super(e,t,tf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gy(this.firestore,null,new Sh(e))}withConverter(e){return new Qy(this.firestore,e,this._path)}}function Xy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=qt(e),Uy("collection","path",t),e instanceof Wy){const n=wh.fromString(t,...r);return By(n),new Qy(e,null,n)}{if(!(e instanceof Gy||e instanceof Qy))throw new rh(nh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(wh.fromString(t,...r));return By(n),new Qy(e.firestore,null,n)}}function $y(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=qt(e),1===arguments.length&&(t=ph.A()),Uy("doc","path",t),e instanceof Wy){const n=wh.fromString(t,...r);return Vy(n),new Gy(e,null,new Sh(n))}{if(!(e instanceof Gy||e instanceof Qy))throw new rh(nh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(wh.fromString(t,...r));return Vy(n),new Gy(e.firestore,e instanceof Qy?e.converter:null,new Sh(n))}}class Jy{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ig(this,"async_queue_retry"),this.Xc=()=>{const e=ng();e&&Qu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=ng();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=ng();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new ih;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(Gw){if(!jh(Gw))throw Gw;Qu("AsyncQueue","Operation failed with retryable error: "+Gw)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Xu("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Ug.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&Zu()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Zy(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)}class ev extends Wy{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Jy,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||nv(this),this._firestoreClient.terminate()}}function tv(e){return e._firestoreClient||nv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function nv(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new sd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,My(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new _y(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class rv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rv($h.fromBase64String(e))}catch(e){throw new rh(nh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new rv($h.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class iv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new rh(nh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kh(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sv{constructor(e){this._methodName=e}}class ov{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new rh(nh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new rh(nh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mh(this._lat,e._lat)||mh(this._long,e._long)}}const av=/^__.*__$/;class lv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ip(e,this.data,this.fieldMask,t,this.fieldTransforms):new rp(e,this.data,t,this.fieldTransforms)}}class cv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ip(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function uv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zu()}}class hv{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new hv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Pv(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(uv(this.ca)&&av.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class dv{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||rg(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new hv({ca:e,methodName:t,ga:n,path:kh.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fv(e){const t=e._freezeSettings(),n=rg(e._databaseId);return new dv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pv(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ya(s.merge||s.mergeFields?2:0,t,n,i);_v("Data must be an object, but it was:",o,r);const a=Cv(r,o);let l,c;if(s.merge)l=new Qh(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Av(t,r,n);if(!o.contains(i))throw new rh(nh.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Rv(e,i)||e.push(i)}l=new Qh(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new lv(new Sd(a),l,c)}class mv extends sv{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mv}}function gv(e,t,n){return new hv({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class yv extends sv{_toFieldTransform(e){return new Gf(e.path,new Uf)}isEqual(e){return e instanceof yv}}class vv extends sv{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=gv(this,e,!0),n=this.pa.map((e=>Ev(e,t))),r=new Vf(n);return new Gf(e.path,r)}isEqual(e){return this===e}}class bv extends sv{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=gv(this,e,!0),n=this.pa.map((e=>Ev(e,t))),r=new zf(n);return new Gf(e.path,r)}isEqual(e){return this===e}}class wv extends sv{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Hf(e.serializer,Df(e.serializer,this.Ia));return new Gf(e.path,t)}isEqual(e){return this===e}}function xv(e,t,n,r){const i=e.ya(1,t,n);_v("Data must be an object, but it was:",i,r);const s=[],o=Sd.empty();zh(r,((e,r)=>{const a=Iv(t,e,n);r=qt(r);const l=i.da(a);if(r instanceof mv)s.push(a);else{const e=Ev(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Qh(s);return new cv(o,a,i.fieldTransforms)}function kv(e,t,n,r,i,s){const o=e.ya(1,t,n),a=[Av(t,r,n)],l=[i];if(s.length%2!=0)throw new rh(nh.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(Av(t,s[d])),l.push(s[d+1]);const c=[],u=Sd.empty();for(let d=a.length-1;d>=0;--d)if(!Rv(c,a[d])){const e=a[d];let t=l[d];t=qt(t);const n=o.da(e);if(t instanceof mv)c.push(e);else{const r=Ev(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Qh(c);return new cv(u,h,o.fieldTransforms)}function Sv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ev(n,e.ya(r?4:3,t))}function Ev(e,t){if(Tv(e=qt(e)))return _v("Unsupported field value:",t,e),Cv(e,t);if(e instanceof sv)return function(e,t){if(!uv(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ev(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=qt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Df(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=yh.fromDate(e);return{timestampValue:Vp(t.serializer,n)}}if(e instanceof yh){const n=new yh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Vp(t.serializer,n)}}if(e instanceof ov)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof rv)return{bytesValue:Bp(t.serializer,e._byteString)};if(e instanceof Gy){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Hp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(zy(e)))}(e,t)}function Cv(e,t){const n={};return qh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zh(e,((e,r)=>{const i=Ev(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Tv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof yh||e instanceof ov||e instanceof rv||e instanceof Gy||e instanceof sv)}function _v(e,t,n){if(!Tv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=zy(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Av(e,t,n){if((t=qt(t))instanceof iv)return t._internalPath;if("string"==typeof t)return Iv(e,t);throw Pv("Field path arguments must be of type string or ",e,!1,void 0,n)}const Nv=new RegExp("[~\\*/\\[\\]]");function Iv(e,t,n){if(t.search(Nv)>=0)throw Pv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new iv(...t.split("."))._internalPath}catch(Zw){throw Pv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Pv(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new rh(nh.INVALID_ARGUMENT,a+e+l)}function Rv(e,t){return e.some((e=>e.isEqual(t)))}class jv{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gy(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Dv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ov("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Dv extends jv{data(){return super.data()}}function Ov(e,t){return"string"==typeof t?Iv(e,t):t instanceof iv?t._internalPath:t._delegate._internalPath}function Lv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new rh(nh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mv{}class Fv extends Mv{}function Uv(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Mv&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof zv)).length,n=e.filter((e=>e instanceof Vv)).length;if(t>1||t>0&&n>0)throw new rh(nh.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class Vv extends Fv{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Vv(e,t,n)}_apply(e){const t=this._parse(e);return Gv(e._query,t),new Yy(e.firestore,e.converter,cf(e._query,t))}_parse(e){const t=fv(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new rh(nh.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Kv(o,s);const t=[];for(const n of o)t.push(Wv(r,e,n));a={arrayValue:{values:t}}}else a=Wv(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Kv(o,s),a=Sv(n,"where",o,"in"===s||"not-in"===s);return Rd.create(i,s,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Bv(e,t,n){const r=t,i=Ov("where",e);return Vv._create(i,r,n)}class zv extends Mv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zv(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:jd.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Gv(n,i),n=cf(n,i)}(e._query,t),new Yy(e.firestore,e.converter,cf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class qv extends Fv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qv(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new rh(nh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new rh(nh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Nd(t,n);return function(e,t){if(null===rf(e)){const n=sf(e);null!==n&&Yv(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Yy(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Zd(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Hv(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Ov("orderBy",e);return qv._create(n,t)}function Wv(e,t,n){if("string"==typeof(n=qt(n))){if(""===n)throw new rh(nh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!of(t)&&-1!==n.indexOf("/"))throw new rh(nh.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(wh.fromString(n));if(!Sh.isDocumentKey(r))throw new rh(nh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return md(e,new Sh(r))}if(n instanceof Gy)return md(e,n._key);throw new rh(nh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(zy(n),"."))}function Kv(e,t){if(!Array.isArray(e)||0===e.length)throw new rh(nh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Gv(e,t){if(t.isInequality()){const n=sf(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new rh(nh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=rf(e);null!==i&&Yv(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new rh(nh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new rh(nh.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function Yv(e,t,n){if(!n.isEqual(t))throw new rh(nh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class Qv{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ld(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ed(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(td(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zu()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return zh(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new ov(ed(e.latitude),ed(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=rd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(id(e));default:return null}}convertTimestamp(e){const t=Zh(e);return new yh(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=wh.fromString(e);eh(hm(n));const r=new od(n.get(1),n.get(3)),i=new Sh(n.popFirst(5));return r.isEqual(t)||Xu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Xv(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class $v{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jv extends jv{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Zv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Ov("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Zv extends Jv{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class eb{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $v(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Zv(this._firestore,this._userDataWriter,n.key,n,new $v(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new rh(nh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Zv(e._firestore,e._userDataWriter,n.doc.key,n.doc,new $v(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Zv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new $v(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:tb(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function tb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zu()}}function nb(e){e=qy(e,Gy);const t=qy(e.firestore,ev);return Oy(tv(t),e._key).then((n=>ub(t,e,n)))}class rb extends Qv{constructor(e){super(),this.firestore=e}convertBytes(e){return new rv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gy(this.firestore,null,t)}}function ib(e){e=qy(e,Yy);const t=qy(e.firestore,ev),n=tv(t),r=new rb(t);return Lv(e._query),Ly(n,e._query).then((n=>new eb(t,r,e,n)))}function sb(e,t,n){e=qy(e,Gy);const r=qy(e.firestore,ev),i=Xv(e.converter,t,n);return cb(r,[pv(fv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Qf.none())])}function ob(e,t,n){e=qy(e,Gy);const r=qy(e.firestore,ev),i=fv(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=qt(t))||t instanceof iv?kv(i,"updateDoc",e._key,t,n,a):xv(i,"updateDoc",e._key,t),cb(r,[s.toMutation(e._key,Qf.exists(!0))])}function ab(e,t){const n=qy(e.firestore,ev),r=$y(e),i=Xv(e.converter,t);return cb(n,[pv(fv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Qf.exists(!1))]).then((()=>r))}function lb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=qt(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||Zy(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges};if(Zy(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,h,d;if(e instanceof Gy)h=qy(e.firestore,ev),d=tf(e._key.path),u={next:t=>{n[l]&&n[l](ub(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=qy(e,Yy);h=qy(t.firestore,ev),d=t._query;const r=new rb(h);u={next:e=>{n[l]&&n[l](new eb(h,r,t,e))},error:n[l+1],complete:n[l+2]},Lv(e._query)}return function(e,t,n,r){const i=new Ty(r),s=new $g(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Kg(await Dy(e),s))),()=>{i.Dc(),e.asyncQueue.enqueueAndForget((async()=>Gg(await Dy(e),s)))}}(tv(h),d,c,u)}function cb(e,t){return function(e,t){const n=new ih;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Sy(e);try{const e=await function(e,t){const n=th(e),r=yh.now(),i=t.reduce(((e,t)=>e.add(t.key)),Nf());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=wf(),l=Nf();return n.Zi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=tp(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new ip(e.key,t,Ed(t.value.mapValue),Qf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Sf(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new Hh(mh)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await by(r,e.changes),await Tg(r.remoteStore)}catch(e){const t=Vg(e,"Failed to persist write");n.reject(t)}}(await jy(e),t,n))),n.promise}(tv(e),t)}function ub(e,t,n){const r=n.docs.get(t._key),i=new rb(e);return new Jv(e,i,t._key,r,new $v(n.hasPendingWrites,n.fromCache),t.converter)}function hb(){return new yv("serverTimestamp")}function db(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vv("arrayUnion",t)}function fb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bv("arrayRemove",t)}function pb(e){return new wv("increment",e)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ku=e}(nr),Jn(new Ht("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new ev(new lh(e.getProvider("auth-internal")),new dh(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new rh(nh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new od(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),sr(Hu,"3.13.0",e),sr(Hu,"3.13.0","esm2017")}();const mb=rr({apiKey:"AIzaSyC0PBRqnojDUkFC_t-2qMJG1R6DJUoTwEA",authDomain:"tutelio-in.firebaseapp.com",projectId:"tutelio-in",storageBucket:"tutelio-in.firebasestorage.app",messagingSenderId:"329773835499",appId:"1:329773835499:web:f55cb179c5ebd6de564aae"}),gb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ir();const t=Zn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Zn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Lt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;kr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:vo,persistence:[Is,fs,ms]}),r=Nt("authTokenSyncURL");if(r){const e=(e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ko)return;const i=null===n||void 0===n?void 0:n.token;So!==i&&(So=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))})(r);!function(e,t,n){qt(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){qt(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}const i=_t("auth");return i&&Ii(n,"http://".concat(i)),n}(mb),yb=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Zn("object"==typeof e?e:ir(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=_t(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Ky(r,...e)}return r}(mb),vb=Object.create(null);vb.open="0",vb.close="1",vb.ping="2",vb.pong="3",vb.message="4",vb.upgrade="5",vb.noop="6";const bb=Object.create(null);Object.keys(vb).forEach((e=>{bb[vb[e]]=e}));const wb={type:"error",data:"parser error"},xb="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),kb="function"===typeof ArrayBuffer,Sb=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Eb=(e,t,n)=>{let{type:r,data:i}=e;return xb&&i instanceof Blob?t?n(i):Cb(i,n):kb&&(i instanceof ArrayBuffer||Sb(i))?t?n(i):Cb(new Blob([i]),n):n(vb[r]+(i||""))},Cb=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function Tb(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let _b;const Ab="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nb="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)Nb[Ab.charCodeAt(n)]=n;const Ib="function"===typeof ArrayBuffer,Pb=(e,t)=>{if("string"!==typeof e)return{type:"message",data:jb(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:Rb(e.substring(1),t)};return bb[n]?e.length>1?{type:bb[n],data:e.substring(1)}:{type:bb[n]}:wb},Rb=(e,t)=>{if(Ib){const n=(e=>{let t,n,r,i,s,o=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const c=new ArrayBuffer(o),u=new Uint8Array(c);for(t=0;t<a;t+=4)n=Nb[e.charCodeAt(t)],r=Nb[e.charCodeAt(t+1)],i=Nb[e.charCodeAt(t+2)],s=Nb[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&s;return c})(e);return jb(n,t)}return{base64:!0,data:e}},jb=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Db=String.fromCharCode(30);function Ob(){return new TransformStream({transform(e,t){!function(e,t){xb&&e.data instanceof Blob?e.data.arrayBuffer().then(Tb).then(t):kb&&(e.data instanceof ArrayBuffer||Sb(e.data))?t(Tb(e.data)):Eb(e,!1,(e=>{_b||(_b=new TextEncoder),t(_b.encode(e))}))}(e,(n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(n)}))}})}let Lb;function Mb(e){return e.reduce(((e,t)=>e+t.length),0)}function Fb(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Ub(e){if(e)return function(e){for(var t in Ub.prototype)e[t]=Ub.prototype[t];return e}(e)}Ub.prototype.on=Ub.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Ub.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Ub.prototype.off=Ub.prototype.removeListener=Ub.prototype.removeAllListeners=Ub.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Ub.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},Ub.prototype.emitReserved=Ub.prototype.emit,Ub.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Ub.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Vb="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Bb="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function zb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const qb=Bb.setTimeout,Hb=Bb.clearTimeout;function Wb(e,t){t.useNativeTimers?(e.setTimeoutFn=qb.bind(Bb),e.clearTimeoutFn=Hb.bind(Bb)):(e.setTimeoutFn=Bb.setTimeout.bind(Bb),e.clearTimeoutFn=Bb.clearTimeout.bind(Bb))}function Kb(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Gb extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Yb extends Ub{constructor(e){super(),this.writable=!1,Wb(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new Gb(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Pb(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class Qb extends Yb{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(Db),r=[];for(let i=0;i<n.length;i++){const e=Pb(n[i],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach(((e,s)=>{Eb(e,!1,(e=>{r[s]=e,++i===n&&t(r.join(Db))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Kb()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let Xb=!1;try{Xb="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(DM){}const $b=Xb;function Jb(){}class Zb extends Qb{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class ew extends Ub{constructor(e,t,n){super(),this.createRequest=e,Wb(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=zb(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(Kw){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(Kw){}try{n.setRequestHeader("Accept","*/*")}catch(Kw){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof n.status?n.status:0)}),0))},n.send(this._data)}catch(Kw){return void this.setTimeoutFn((()=>{this._onError(Kw)}),0)}"undefined"!==typeof document&&(this._index=ew.requestsCount++,ew.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=Jb,e)try{this._xhr.abort()}catch(Kw){}"undefined"!==typeof document&&delete ew.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(ew.requestsCount=0,ew.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",tw);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Bb?"pagehide":"unload",tw,!1)}function tw(){for(let e in ew.requests)ew.requests.hasOwnProperty(e)&&ew.requests[e].abort()}const nw=function(){const e=rw({xdomain:!1});return e&&null!==e.responseType}();function rw(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||$b))return new XMLHttpRequest}catch(Kw){}if(!t)try{return new(Bb[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(Kw){}}const iw="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class sw extends Yb{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=iw?{}:zb(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(DM){return this.emitReserved("error",DM)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;Eb(n,this.supportsBinary,(e=>{try{this.doWrite(n,e)}catch(Kw){}r&&Vb((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Kb()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const ow=Bb.WebSocket||Bb.MozWebSocket;const aw={websocket:class extends sw{createSocket(e,t,n){return iw?new ow(e,t,n):t?new ow(e,t):new ow(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends Yb{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(DM){return this.emitReserved("error",DM)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){Lb||(Lb=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(0===r){if(Mb(n)<1)break;const e=Fb(n,1);s=128===(128&e[0]),i=127&e[0],r=i<126?3:126===i?1:2}else if(1===r){if(Mb(n)<2)break;const e=Fb(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(Mb(n)<8)break;const e=Fb(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){a.enqueue(wb);break}i=s*Math.pow(2,32)+t.getUint32(4),r=3}else{if(Mb(n)<i)break;const e=Fb(n,i);a.enqueue(Pb(s?e:Lb.decode(e),t)),r=0}if(0===i||i>e){a.enqueue(wb);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=Ob();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{n.read().then((e=>{let{done:t,value:n}=e;t||(this.onPacket(n),i())})).catch((e=>{}))};i();const s={type:"open"};this.query.sid&&(s.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(s).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then((()=>{r&&Vb((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends Zb{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=nw&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new ew(rw,this.uri(),e)}}},lw=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,cw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function uw(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=lw.exec(e||""),s={},o=14;for(;o--;)s[cw[o]]=i[o]||"";return-1!=n&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,s.query),s}const hw="function"===typeof addEventListener&&"function"===typeof removeEventListener,dw=[];hw&&addEventListener("offline",(()=>{dw.forEach((e=>e()))}),!1);class fw extends Ub{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=uw(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=uw(t.host).host);Wb(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),hw&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},dw.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&fw.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",fw.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"===typeof(t=r)?function(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this._maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Vb((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}_onError(e){if(fw.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),hw&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=dw.indexOf(this._offlineEventListener);-1!==e&&dw.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}fw.protocol=4;class pw extends fw{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;fw.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;fw.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function i(){n||(n=!0,c(),t.close(),t=null)}const s=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function o(){s("transport closed")}function a(){s("socket closed")}function l(e){t&&e.name!==t.name&&i()}const c=()=>{t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",o),this.off("close",a),this.off("upgrading",l)};t.once("open",r),t.once("error",s),t.once("close",o),this.once("close",a),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class mw extends pw{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>aw[e])).filter((e=>!!e))),super(e,t)}}const gw="function"===typeof ArrayBuffer,yw=Object.prototype.toString,vw="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===yw.call(Blob),bw="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===yw.call(File);function ww(e){return gw&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||vw&&e instanceof Blob||bw&&e instanceof File}function xw(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(xw(e[t]))return!0;return!1}if(ww(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return xw(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&xw(e[n]))return!0;return!1}function kw(e){const t=[],n=e.data,r=e;return r.data=Sw(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Sw(e,t){if(!e)return e;if(ww(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Sw(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Sw(e[r],t));return n}return e}function Ew(e,t){return e.data=Cw(e.data,t),delete e.attachments,e}function Cw(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Cw(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Cw(e[n],t));return e}const Tw=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],_w=5;var Aw;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Aw||(Aw={}));class Nw{constructor(e){this.replacer=e}encode(e){return e.type!==Aw.EVENT&&e.type!==Aw.ACK||!xw(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Aw.EVENT?Aw.BINARY_EVENT:Aw.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Aw.BINARY_EVENT&&e.type!==Aw.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=kw(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function Iw(e){return"[object Object]"===Object.prototype.toString.call(e)}class Pw extends Ub{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Aw.BINARY_EVENT;n||t.type===Aw.BINARY_ACK?(t.type=n?Aw.EVENT:Aw.ACK,this.reconstructor=new Rw(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!ww(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Aw[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Aw.BINARY_EVENT||n.type===Aw.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!Pw.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(Kw){return!1}}static isPayloadValid(e,t){switch(e){case Aw.CONNECT:return Iw(t);case Aw.DISCONNECT:return void 0===t;case Aw.CONNECT_ERROR:return"string"===typeof t||Iw(t);case Aw.EVENT:case Aw.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===Tw.indexOf(t[0]));case Aw.ACK:case Aw.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Rw{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Ew(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function jw(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Dw=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ow extends Ub{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[jw(e,"open",this.onopen.bind(this)),jw(e,"packet",this.onpacket.bind(this)),jw(e,"error",this.onerror.bind(this)),jw(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(Dw.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const a={type:Aw.EVENT,data:s,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"===typeof s[s.length-1]){const e=this.ids++,t=s.pop();this._registerAckCallback(e,t),a.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const s=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),i),o=function(){r.io.clearTimeoutFn(s);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(r,n)};o.withError=!0,this.acks[e]=o}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise(((t,r)=>{const i=(e,n)=>e?r(e):t(n);i.withError=!0,n.push(i),this.emit(e,...n)}))}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];n(null,...s)}return r.pending=!1,t._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Aw.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Aw.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Aw.EVENT:case Aw.BINARY_EVENT:this.onevent(e);break;case Aw.ACK:case Aw.BINARY_ACK:this.onack(e);break;case Aw.DISCONNECT:this.ondisconnect();break;case Aw.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];t.packet({type:Aw.ACK,id:e,data:i})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Aw.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Lw(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Lw.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Lw.prototype.reset=function(){this.attempts=0},Lw.prototype.setMin=function(e){this.ms=e},Lw.prototype.setMax=function(e){this.max=e},Lw.prototype.setJitter=function(e){this.jitter=e};class Mw extends Ub{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,Wb(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Lw({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||e;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new mw(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=jw(t,"open",(function(){n.onopen(),e&&e()})),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=jw(t,"error",i);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),i(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(jw(e,"ping",this.onping.bind(this)),jw(e,"data",this.ondata.bind(this)),jw(e,"error",this.onerror.bind(this)),jw(e,"close",this.onclose.bind(this)),jw(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(Kw){this.onclose("parse error",Kw)}}ondecoded(e){Vb((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Ow(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Fw={};function Uw(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=uw(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=Fw[i]&&s in Fw[i].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?a=new Mw(r,t):(Fw[i]||(Fw[i]=new Mw(r,t)),a=Fw[i]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(Uw,{Manager:Mw,Socket:Ow,io:Uw,connect:Uw});var Vw=n(579);const Bw=(0,t.createContext)(null),zw=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(null);return(0,t.useEffect)((()=>{if(gb.currentUser){const e=Uw("https://localhost:5000",{query:{userId:gb.currentUser.uid,username:gb.currentUser.displayName||gb.currentUser.email.split("@")[0]}});return i(e),()=>e.close()}}),[gb.currentUser]),(0,Vw.jsx)(Bw.Provider,{value:r,children:n})},qw=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[s,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[h,d]=(0,t.useState)(""),f=he();return(0,Vw.jsxs)(Vw.Fragment,{children:[(0,Vw.jsx)("link",{href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css",rel:"stylesheet"}),(0,Vw.jsxs)("div",{className:"animated-background",children:[(0,Vw.jsx)("div",{className:"gradient-sphere sphere-1"}),(0,Vw.jsx)("div",{className:"gradient-sphere sphere-2"}),(0,Vw.jsx)("div",{className:"gradient-sphere sphere-3"}),(0,Vw.jsx)("div",{className:"particles",id:"particles"})]}),(0,Vw.jsxs)("div",{className:"login-container",children:[(0,Vw.jsxs)("div",{className:"login-header",children:[(0,Vw.jsx)("h1",{children:"Create Account"}),(0,Vw.jsx)("p",{children:"Join us on your learning journey"})]}),(0,Vw.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=Uv(Xy(yb,"users"),Bv("username","==",r));if(!(await ib(t)).empty)return void alert("Username already exists");const n=await async function(e,t,n){var r;const i=Ai(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Ci(i,s,"signUpPassword");o=$i(i,e)}else o=$i(i,s).catch((async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Ci(i,s,"signUpPassword");return $i(i,e)}return Promise.reject(e)}));const a=await o.catch((e=>Promise.reject(e))),l=await Ji._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}(gb,s,a),i=n.user;await ls(i),await sb($y(yb,"users",i.uid),{name:e,username:r,email:s,class:c,age:h,uid:i.uid,friends:[],friendRequests:[],profilePicture:"",bio:""}),alert("Registration successful! Please verify your email."),f("/verify-email")}catch(n){alert(n.message)}},children:[(0,Vw.jsxs)("div",{className:"form-group",children:[(0,Vw.jsx)("input",{type:"text",className:"form-input",placeholder:"Full Name",value:e,onChange:e=>n(e.target.value),required:!0}),(0,Vw.jsx)("i",{className:"input-icon fas fa-user"}),(0,Vw.jsx)("span",{className:"error-message"})]}),(0,Vw.jsxs)("div",{className:"form-group",children:[(0,Vw.jsx)("input",{type:"text",className:"form-input",placeholder:"Username",value:r,onChange:e=>i(e.target.value),required:!0}),(0,Vw.jsx)("i",{className:"input-icon fas fa-at"}),(0,Vw.jsx)("span",{className:"error-message"})]}),(0,Vw.jsxs)("div",{className:"form-group",children:[(0,Vw.jsx)("input",{type:"email",className:"form-input",placeholder:"Email",value:s,onChange:e=>o(e.target.value),required:!0}),(0,Vw.jsx)("i",{className:"input-icon fas fa-envelope"}),(0,Vw.jsx)("span",{className:"error-message"})]}),(0,Vw.jsxs)("div",{className:"form-group",children:[(0,Vw.jsx)("input",{type:"password",className:"form-input",placeholder:"Password",value:a,onChange:e=>l(e.target.value),required:!0}),(0,Vw.jsx)("i",{className:"input-icon fas fa-lock"}),(0,Vw.jsx)("span",{className:"error-message"})]}),(0,Vw.jsxs)("div",{className:"form-group",children:[(0,Vw.jsx)("input",{type:"text",className:"form-input",placeholder:"Class (9 or 10)",value:c,onChange:e=>u(e.target.value),required:!0}),(0,Vw.jsx)("i",{className:"input-icon fas fa-graduation-cap"}),(0,Vw.jsx)("span",{className:"error-message"})]}),(0,Vw.jsxs)("div",{className:"form-group",children:[(0,Vw.jsx)("input",{type:"number",className:"form-input",placeholder:"Age",value:h,onChange:e=>d(e.target.value),required:!0}),(0,Vw.jsx)("i",{className:"input-icon fas fa-birthday-cake"}),(0,Vw.jsx)("span",{className:"error-message"})]}),(0,Vw.jsx)("button",{type:"submit",className:"submit-button",children:"Create Account"})]}),(0,Vw.jsx)("div",{className:"additional-options",children:(0,Vw.jsx)("p",{children:(0,Vw.jsx)("a",{href:"/Login",children:"Already have an account? Sign in"})})})]}),(0,Vw.jsx)("style",{jsx:!0,children:"\n               * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n            font-family: 'Inter', 'Segoe UI', sans-serif;\n        }\n\n        body {\n            min-height: 100vh;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            background: #0a0a0a;\n            position: relative;\n            overflow: hidden;\n        }\n\n        .animated-background {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            z-index: 0;\n            overflow: hidden;\n        }\n\n        .gradient-sphere {\n            position: absolute;\n            border-radius: 50%;\n            filter: blur(60px);\n            opacity: 0.5;\n            animation: moveSphere 20s infinite ease-in-out;\n        }\n\n        .sphere-1 {\n            width: 600px;\n            height: 600px;\n            background: linear-gradient(45deg, #ff3366, #ff6b3d);\n            top: -300px;\n            left: -300px;\n            animation-delay: -5s;\n        }\n\n        .sphere-2 {\n            width: 500px;\n            height: 500px;\n            background: linear-gradient(45deg, #4433ff, #3dceff);\n            bottom: -250px;\n            right: -250px;\n            animation-delay: -2s;\n        }\n\n        .sphere-3 {\n            width: 400px;\n            height: 400px;\n            background: linear-gradient(45deg, #7400ff, #ff00d4);\n            top: 50%;\n            left: 30%;\n            animation-delay: -8s;\n        }\n\n        @keyframes moveSphere {\n            0%, 100% {\n                transform: translate(0, 0) rotate(0deg) scale(1);\n            }\n            25% {\n                transform: translate(100px, 50px) rotate(90deg) scale(1.1);\n            }\n            50% {\n                transform: translate(50px, 100px) rotate(180deg) scale(1);\n            }\n            75% {\n                transform: translate(-50px, 50px) rotate(270deg) scale(0.9);\n            }\n        }\n\n        .particles {\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            z-index: 1;\n        }\n\n        .particle {\n            position: absolute;\n            width: 2px;\n            height: 2px;\n            background: rgba(255, 255, 255, 0.5);\n            border-radius: 50%;\n            animation: floatParticle 8s infinite linear;\n        }\n\n        @keyframes floatParticle {\n            0% {\n                transform: translateY(100vh) scale(0);\n                opacity: 0;\n            }\n            50% {\n                opacity: 1;\n            }\n            100% {\n                transform: translateY(-100vh) scale(1);\n                opacity: 0;\n            }\n        }\n\n        .login-container {\n            position: relative;\n            z-index: 2;\n            width: 100%;\n            max-width: 440px;\n            background: rgba(255, 255, 255, 0.1);\n            backdrop-filter: blur(20px);\n            border: 1px solid rgba(255, 255, 255, 0.2);\n            border-radius: 24px;\n            padding: 3rem;\n            color: white;\n            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n            overflow: hidden;\n            transform: translateY(20px);\n            opacity: 0;\n            animation: slideIn 0.6s ease-out forwards;\n        }\n\n        .login-container::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: -100%;\n            width: 200%;\n            height: 100%;\n            background: linear-gradient(\n                to right,\n                transparent,\n                rgba(255, 255, 255, 0.1),\n                transparent\n            );\n            transform: skewX(-15deg);\n            transition: 0.5s;\n        }\n\n        .login-container:hover::before {\n            left: 100%;\n        }\n\n        @keyframes slideIn {\n            to {\n                transform: translateY(0);\n                opacity: 1;\n            }\n        }\n\n        .login-header {\n            text-align: center;\n            margin-bottom: 2.5rem;\n        }\n\n        .login-header h1 {\n            font-size: 2.5rem;\n            font-weight: 700;\n            margin-bottom: 0.5rem;\n            background: linear-gradient(45deg, #fff, #ccc);\n            -webkit-background-clip: text;\n            -webkit-text-fill-color: transparent;\n        }\n\n        .login-header p {\n            color: rgba(255, 255, 255, 0.7);\n            font-size: 1rem;\n        }\n\n        .form-group {\n            position: relative;\n            margin-bottom: 1.5rem;\n        }\n\n        .form-input {\n            width: 100%;\n            padding: 1rem 1rem 1rem 3rem;\n            background: rgba(255, 255, 255, 0.05);\n            border: 1px solid rgba(255, 255, 255, 0.1);\n            border-radius: 12px;\n            font-size: 1rem;\n            color: white;\n            transition: all 0.3s ease;\n        }\n\n        .form-input::placeholder {\n            color: rgba(255, 255, 255, 0.4);\n        }\n\n        .form-input:focus {\n            outline: none;\n            border-color: rgba(255, 255, 255, 0.3);\n            background: rgba(255, 255, 255, 0.1);\n            box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.05);\n        }\n\n        .input-icon {\n            position: absolute;\n            left: 1rem;\n            top: 50%;\n            transform: translateY(-50%);\n            color: rgba(255, 255, 255, 0.4);\n            transition: color 0.3s ease;\n        }\n\n        .form-input:focus + .input-icon {\n            color: white;\n        }\n\n        .submit-button {\n            width: 100%;\n            padding: 1rem;\n            background: white;\n            color: black;\n            border: none;\n            border-radius: 12px;\n            font-size: 1rem;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.3s ease;\n            position: relative;\n            overflow: hidden;\n        }\n\n        .submit-button::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: -100%;\n            width: 100%;\n            height: 100%;\n            background: linear-gradient(\n                to right,\n                transparent,\n                rgba(255, 255, 255, 0.8),\n                transparent\n            );\n            transition: 0.5s;\n        }\n\n        .submit-button:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);\n        }\n\n        .submit-button:hover::before {\n            left: 100%;\n        }\n\n       \n\n        .divider {\n            display: flex;\n            align-items: center;\n            margin: 2rem 0;\n            color: rgba(255, 255, 255, 0.4);\n        }\n\n        .divider::before,\n        .divider::after {\n            content: '';\n            flex: 1;\n            border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n        }\n\n        .divider span {\n            padding: 0 1rem;\n            font-size: 0.9rem;\n        }\n\n        .additional-options {\n        margin-top: 1rem;\n          text-align: center;\n            font-size: 0.9rem;\n            color: rgba(255, 255, 255, 0.6);\n        }\n\n        .additional-options a {\n            color: white;\n            text-decoration: none;\n            transition: opacity 0.3s ease;\n        }\n\n        .additional-options a:hover {\n            opacity: 0.8;\n        }\n\n        .error-message {\n            color: #ff4477;\n            font-size: 0.85rem;\n            margin-top: 0.5rem;\n            display: none;\n            animation: fadeIn 0.3s ease;\n        }\n\n        @keyframes fadeIn {\n            from { opacity: 0; transform: translateY(-10px); }\n            to { opacity: 1; transform: translateY(0); }\n        }\n\n        @keyframes ripple {\n            to {\n                width: 300px;\n                height: 300px;\n                opacity: 0;\n            }\n        }\n\n        @media (max-width: 480px) {\n            .login-container {\n                margin: 1rem;\n                padding: 2rem;\n            }\n\n            .login-header h1 {\n                font-size: 2rem;\n            }\n        }\n\n      "})]})},Hw=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[s,o]=(0,t.useState)(""),a=he();return(0,Vw.jsxs)(Vw.Fragment,{children:[(0,Vw.jsx)("link",{href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css",rel:"stylesheet"}),(0,Vw.jsxs)("div",{className:"animated-background",children:[(0,Vw.jsx)("div",{className:"gradient-sphere sphere-1"}),(0,Vw.jsx)("div",{className:"gradient-sphere sphere-2"}),(0,Vw.jsx)("div",{className:"gradient-sphere sphere-3"}),(0,Vw.jsx)("div",{className:"particles",id:"particles"})]}),(0,Vw.jsxs)("div",{className:"login-container",children:[(0,Vw.jsxs)("div",{className:"login-header",children:[(0,Vw.jsx)("h1",{children:"Welcome Back"}),(0,Vw.jsx)("p",{children:"Sign in to continue your journey"})]}),(0,Vw.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o("");try{let t;if(e.includes("@"))t=await as(gb,e,r);else{const n=Uv(Xy(yb,"users"),Bv("username","==",e)),i=await ib(n);if(i.empty)throw new Error("User not found");{const e=i.docs[0].data().email;t=await as(gb,e,r)}}t.user.emailVerified?a("/profile"):o("Please verify your email before logging in.")}catch(s){o(s.message)}},children:[(0,Vw.jsxs)("div",{className:"form-group",children:[(0,Vw.jsx)("input",{type:"text",className:"form-input",placeholder:"Email or Username",value:e,onChange:e=>n(e.target.value),required:!0}),(0,Vw.jsx)("i",{className:"input-icon fas fa-envelope"}),(0,Vw.jsx)("span",{className:"error-message"})]}),(0,Vw.jsxs)("div",{className:"form-group",children:[(0,Vw.jsx)("input",{type:"password",className:"form-input",placeholder:"Password",value:r,onChange:e=>i(e.target.value),required:!0}),(0,Vw.jsx)("i",{className:"input-icon fas fa-lock"}),(0,Vw.jsx)("span",{className:"error-message"})]}),s&&(0,Vw.jsx)("div",{className:"error-alert",children:s}),(0,Vw.jsx)("button",{type:"submit",className:"submit-button",children:"Sign In"})]}),(0,Vw.jsxs)("div",{className:"additional-options",children:[(0,Vw.jsx)("a",{href:"/forgot-password",children:"Forgot password?"}),(0,Vw.jsx)("p",{className:"mt-4",children:(0,Vw.jsx)("a",{href:"/Register",children:" Don't have an account? Sign up"})})]})]}),(0,Vw.jsx)("style",{jsx:!0,children:"\n               * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n            font-family: 'Inter', 'Segoe UI', sans-serif;\n        }\n\n        body {\n            min-height: 100vh;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            background: #0a0a0a;\n            position: relative;\n            overflow: hidden;\n        }\n\n        .animated-background {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            z-index: 0;\n            overflow: hidden;\n        }\n\n        .gradient-sphere {\n            position: absolute;\n            border-radius: 50%;\n            filter: blur(60px);\n            opacity: 0.5;\n            animation: moveSphere 20s infinite ease-in-out;\n        }\n\n        .sphere-1 {\n            width: 600px;\n            height: 600px;\n            background: linear-gradient(45deg, #ff3366, #ff6b3d);\n            top: -300px;\n            left: -300px;\n            animation-delay: -5s;\n        }\n\n        .sphere-2 {\n            width: 500px;\n            height: 500px;\n            background: linear-gradient(45deg, #4433ff, #3dceff);\n            bottom: -250px;\n            right: -250px;\n            animation-delay: -2s;\n        }\n\n        .sphere-3 {\n            width: 400px;\n            height: 400px;\n            background: linear-gradient(45deg, #7400ff, #ff00d4);\n            top: 50%;\n            left: 30%;\n            animation-delay: -8s;\n        }\n\n        @keyframes moveSphere {\n            0%, 100% {\n                transform: translate(0, 0) rotate(0deg) scale(1);\n            }\n            25% {\n                transform: translate(100px, 50px) rotate(90deg) scale(1.1);\n            }\n            50% {\n                transform: translate(50px, 100px) rotate(180deg) scale(1);\n            }\n            75% {\n                transform: translate(-50px, 50px) rotate(270deg) scale(0.9);\n            }\n        }\n\n        .particles {\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            z-index: 1;\n        }\n\n        .particle {\n            position: absolute;\n            width: 2px;\n            height: 2px;\n            background: rgba(255, 255, 255, 0.5);\n            border-radius: 50%;\n            animation: floatParticle 8s infinite linear;\n        }\n\n        @keyframes floatParticle {\n            0% {\n                transform: translateY(100vh) scale(0);\n                opacity: 0;\n            }\n            50% {\n                opacity: 1;\n            }\n            100% {\n                transform: translateY(-100vh) scale(1);\n                opacity: 0;\n            }\n        }\n\n        .login-container {\n            position: relative;\n            z-index: 2;\n            width: 100%;\n            max-width: 440px;\n            background: rgba(255, 255, 255, 0.1);\n            backdrop-filter: blur(20px);\n            border: 1px solid rgba(255, 255, 255, 0.2);\n            border-radius: 24px;\n            padding: 3rem;\n            color: white;\n            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n            overflow: hidden;\n            transform: translateY(20px);\n            opacity: 0;\n            animation: slideIn 0.6s ease-out forwards;\n        }\n\n        .login-container::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: -100%;\n            width: 200%;\n            height: 100%;\n            background: linear-gradient(\n                to right,\n                transparent,\n                rgba(255, 255, 255, 0.1),\n                transparent\n            );\n            transform: skewX(-15deg);\n            transition: 0.5s;\n        }\n\n        .login-container:hover::before {\n            left: 100%;\n        }\n\n        @keyframes slideIn {\n            to {\n                transform: translateY(0);\n                opacity: 1;\n            }\n        }\n\n        .login-header {\n            text-align: center;\n            margin-bottom: 2.5rem;\n        }\n\n        .login-header h1 {\n            font-size: 2.5rem;\n            font-weight: 700;\n            margin-bottom: 0.5rem;\n            background: linear-gradient(45deg, #fff, #ccc);\n            -webkit-background-clip: text;\n            -webkit-text-fill-color: transparent;\n        }\n\n        .login-header p {\n            color: rgba(255, 255, 255, 0.7);\n            font-size: 1rem;\n        }\n\n        .form-group {\n            position: relative;\n            margin-bottom: 1.5rem;\n        }\n\n        .form-input {\n            width: 100%;\n            padding: 1rem 1rem 1rem 3rem;\n            background: rgba(255, 255, 255, 0.05);\n            border: 1px solid rgba(255, 255, 255, 0.1);\n            border-radius: 12px;\n            font-size: 1rem;\n            color: white;\n            transition: all 0.3s ease;\n        }\n\n        .form-input::placeholder {\n            color: rgba(255, 255, 255, 0.4);\n        }\n\n        .form-input:focus {\n            outline: none;\n            border-color: rgba(255, 255, 255, 0.3);\n            background: rgba(255, 255, 255, 0.1);\n            box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.05);\n        }\n\n        .input-icon {\n            position: absolute;\n            left: 1rem;\n            top: 50%;\n            transform: translateY(-50%);\n            color: rgba(255, 255, 255, 0.4);\n            transition: color 0.3s ease;\n        }\n\n        .form-input:focus + .input-icon {\n            color: white;\n        }\n\n        .submit-button {\n            width: 100%;\n            padding: 1rem;\n            background: white;\n            color: black;\n            border: none;\n            border-radius: 12px;\n            font-size: 1rem;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.3s ease;\n            position: relative;\n            overflow: hidden;\n        }\n\n        .submit-button::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: -100%;\n            width: 100%;\n            height: 100%;\n            background: linear-gradient(\n                to right,\n                transparent,\n                rgba(255, 255, 255, 0.8),\n                transparent\n            );\n            transition: 0.5s;\n        }\n\n        .submit-button:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);\n        }\n\n        .submit-button:hover::before {\n            left: 100%;\n        }\n\n        \n\n        .additional-options {\n         margin-top: 1rem;\n            text-align: center;\n            font-size: 0.9rem;\n            color: rgba(255, 255, 255, 0.6);\n        }\n\n        .additional-options a {\n            color: white;\n            text-decoration: none;\n            transition: opacity 0.3s ease;\n        }\n\n        .additional-options a:hover {\n            opacity: 0.8;\n        }\n\n        .error-message {\n            color: #ff4477;\n            font-size: 0.85rem;\n            margin-top: 0.5rem;\n            display: none;\n            animation: fadeIn 0.3s ease;\n        }\n\n        @keyframes fadeIn {\n            from { opacity: 0; transform: translateY(-10px); }\n            to { opacity: 1; transform: translateY(0); }\n        }\n\n        @keyframes ripple {\n            to {\n                width: 300px;\n                height: 300px;\n                opacity: 0;\n            }\n        }\n\n        @media (max-width: 480px) {\n            .login-container {\n                margin: 1rem;\n                padding: 2rem;\n            }\n\n            .login-header h1 {\n                font-size: 2rem;\n            }\n        }\n\n      "})]})};function Ww(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let Kw={data:""},Gw=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Kw,Yw=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Qw=/\/\*[^]*?\*\/|  +/g,Xw=/\n+/g,$w=(e,t)=>{let n="",r="",i="";for(let s in e){let o=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+o+";":r+="f"==s[1]?$w(o,s):s+"{"+$w(o,"k"==s[1]?"":t)+"}":"object"==typeof o?r+=$w(o,t?t.replace(/([^,])+/g,(e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):s):null!=o&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=$w.p?$w.p(s,o):s+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Jw={},Zw=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Zw(e[n]);return t}return e};function ex(e){let t=this||{},n=e.call?e(t.p):e;return((e,t,n,r,i)=>{let s=Zw(e),o=Jw[s]||(Jw[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!Jw[o]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=Yw.exec(e.replace(Qw,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Xw," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Xw," ").trim();return r[0]})(e);Jw[o]=$w(i?{["@keyframes "+o]:t}:t,n?"":"."+o)}let a=n&&Jw.g?Jw.g:null;return n&&(Jw.g=Jw[o]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Jw[o],t,r,a),o})(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,r,i)=>{let s=t[i];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":$w(e,""):!1===e?"":e}return e+r+(null==s?"":s)}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,Gw(t.target),t.g,t.o,t.k)}ex.bind({g:1});let tx,nx,rx,ix=ex.bind({k:1});function sx(e,t){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:nx&&nx()},a),n.o=/ *go\d+/.test(l),a.className=ex.apply(n,r)+(l?" "+l:""),t&&(a.ref=o);let c=e;return e[0]&&(c=a.as||e,delete a.as),rx&&c[0]&&rx(a),tx(c,a)}return t?t(i):i}}var ox,ax,lx,cx,ux,hx,dx,fx,px,mx,gx,yx,vx,bx,wx,xx,kx=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Sx=(()=>{let e=0;return()=>(++e).toString()})(),Ex=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Cx=(e,t)=>{switch(t.type){case 0:return u(u({},e),{},{toasts:[t.toast,...e.toasts].slice(0,20)});case 1:return u(u({},e),{},{toasts:e.toasts.map((e=>e.id===t.toast.id?u(u({},e),t.toast):e))});case 2:let{toast:n}=t;return Cx(e,{type:e.toasts.find((e=>e.id===n.id))?1:0,toast:n});case 3:let{toastId:r}=t;return u(u({},e),{},{toasts:e.toasts.map((e=>e.id===r||void 0===r?u(u({},e),{},{dismissed:!0,visible:!1}):e))});case 4:return void 0===t.toastId?u(u({},e),{},{toasts:[]}):u(u({},e),{},{toasts:e.toasts.filter((e=>e.id!==t.toastId))});case 5:return u(u({},e),{},{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return u(u({},e),{},{pausedAt:void 0,toasts:e.toasts.map((e=>u(u({},e),{},{pauseDuration:e.pauseDuration+i})))})}},Tx=[],_x={toasts:[],pausedAt:void 0},Ax=e=>{_x=Cx(_x,e),Tx.forEach((e=>{e(_x)}))},Nx=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return u(u({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||Sx()})}(t,e,n);return Ax({type:2,toast:r}),r.id},Ix=(e,t)=>Nx("blank")(e,t);Ix.error=Nx("error"),Ix.success=Nx("success"),Ix.loading=Nx("loading"),Ix.custom=Nx("custom"),Ix.dismiss=e=>{Ax({type:3,toastId:e})},Ix.remove=e=>Ax({type:4,toastId:e}),Ix.promise=(e,t,n)=>{let r=Ix.loading(t.loading,u(u({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then((e=>{let i=t.success?kx(t.success,e):void 0;return i?Ix.success(i,u(u({id:r},n),null==n?void 0:n.success)):Ix.dismiss(r),e})).catch((e=>{let i=t.error?kx(t.error,e):void 0;i?Ix.error(i,u(u({id:r},n),null==n?void 0:n.error)):Ix.dismiss(r)})),e};new Map;var Px=ix(ox||(ox=Ww(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Rx=ix(ax||(ax=Ww(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),jx=ix(lx||(lx=Ww(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Dx=sx("div")(cx||(cx=Ww(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),(e=>e.primary||"#ff4b4b"),Px,Rx,(e=>e.secondary||"#fff"),jx),Ox=ix(ux||(ux=Ww(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Lx=sx("div")(hx||(hx=Ww(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),(e=>e.secondary||"#e0e0e0"),(e=>e.primary||"#616161"),Ox),Mx=ix(dx||(dx=Ww(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Fx=ix(fx||(fx=Ww(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Ux=sx("div")(px||(px=Ww(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),(e=>e.primary||"#61d345"),Mx,Fx,(e=>e.secondary||"#fff")),Vx=sx("div")(mx||(mx=Ww(["\n  position: absolute;\n"]))),Bx=sx("div")(gx||(gx=Ww(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),zx=ix(yx||(yx=Ww(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),qx=sx("div")(vx||(vx=Ww(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),zx),Hx=e=>{let{toast:n}=e,{icon:r,type:i,iconTheme:s}=n;return void 0!==r?"string"==typeof r?t.createElement(qx,null,r):r:"blank"===i?null:t.createElement(Bx,null,t.createElement(Lx,u({},s)),"loading"!==i&&t.createElement(Vx,null,"error"===i?t.createElement(Dx,u({},s)):t.createElement(Ux,u({},s))))},Wx=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Kx=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Gx=sx("div")(bx||(bx=Ww(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Yx=sx("div")(wx||(wx=Ww(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"])));t.memo((e=>{let{toast:n,position:r,style:i,children:s}=e,o=n.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=Ex()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Wx(n),Kx(n)];return{animation:t?"".concat(ix(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(ix(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(n.position||r||"top-center",n.visible):{opacity:0},a=t.createElement(Hx,{toast:n}),l=t.createElement(Yx,u({},n.ariaProps),kx(n.message,n));return t.createElement(Gx,{className:n.className,style:u(u(u({},o),i),n.style)},"function"==typeof s?s({icon:a,message:l}):t.createElement(t.Fragment,null,a,l))}));!function(e,t,n,r){$w.p=t,tx=e,nx=n,rx=r}(t.createElement);ex(xx||(xx=Ww(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"])));const Qx=()=>{const e=he(),[n,r]=(0,t.useState)([]),[i,s]=(0,t.useState)(!0),[o,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[h,d]=(0,t.useState)(!1),[f,p]=(0,t.useState)([]),m={9:["Physics","Chemistry","Biology","Math","Hindi","English"],10:["Physics","Chemistry","Biology","Mathematics","Hindi","English"]};(0,t.useEffect)((()=>{g();const e=e=>{e.target.closest(".dropdown")||c(null)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)}),[]);const g=async()=>{if(gb.currentUser){const e=$y(yb,"users",gb.currentUser.uid),t=await nb(e);if(t.exists()){const e=t.data();a(e.class),r(e.courses||[])}s(!1)}},y=()=>(0,Vw.jsx)("div",{className:"notification-container",children:f.map((e=>(0,Vw.jsxs)("div",{className:"notification notification-".concat(e.type," notification-enter"),children:["success"===e.type&&(0,Vw.jsx)("span",{className:"notification-icon",children:"\u2713"}),"error"===e.type&&(0,Vw.jsx)("span",{className:"notification-icon",children:"\u2715"}),e.message]},e.id)))}),v=()=>{const e=m[o].filter((e=>!n.some((t=>t.name===e))));return(0,Vw.jsx)("div",{className:"modal-overlay",onClick:()=>d(!1),children:(0,Vw.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Vw.jsxs)("div",{className:"modal-header",children:[(0,Vw.jsx)("h2",{children:"Select a Course"}),(0,Vw.jsx)("button",{className:"close-button",onClick:()=>d(!1),children:"\xd7"})]}),(0,Vw.jsx)("div",{className:"modal-body",children:e.length>0?(0,Vw.jsx)("div",{className:"course-options",children:e.map(((e,t)=>(0,Vw.jsx)("button",{className:"course-option",onClick:()=>(async e=>{const t={name:e,class:o,progress:0,addedAt:(new Date).toISOString()};try{const n=$y(yb,"users",gb.currentUser.uid);await ob(n,{courses:db(t)}),r((e=>[...e,t])),d(!1),b("Successfully added ".concat(e,"!"))}catch(n){console.error("Error adding course:",n),b("Failed to add ".concat(e,". Please try again."),"error")}})(e),style:{animationDelay:"".concat(.1*t,"s")},children:e},t)))}):(0,Vw.jsx)("p",{className:"no-courses",children:"You've added all available courses for your class."})})]})})},b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";const n=Date.now();p((r=>[...r,{id:n,message:e,type:t}])),setTimeout((()=>{p((e=>e.filter((e=>e.id!==n))))}),3e3)};return(0,Vw.jsxs)("div",{className:"courses-container",children:[(0,Vw.jsx)(y,{}),(0,Vw.jsxs)("div",{className:"courses-content",children:[(0,Vw.jsxs)("div",{className:"header",children:[(0,Vw.jsx)("h1",{children:"My Courses"}),(0,Vw.jsxs)("p",{className:"class-indicator",children:["Class ",o]})]}),i?(0,Vw.jsx)("div",{className:"loading-spinner",children:(0,Vw.jsx)("div",{className:"spinner"})}):(0,Vw.jsxs)("div",{className:"courses-grid",children:[n&&n.map(((t,n)=>(0,Vw.jsxs)("div",{className:"course-card",onClick:()=>e("/class/".concat(t.class,"/").concat(t.name.toLowerCase())),children:[(0,Vw.jsxs)("div",{className:"course-header",children:[(0,Vw.jsxs)("div",{children:[(0,Vw.jsx)("h3",{children:t.name}),(0,Vw.jsxs)("p",{className:"class-label",children:["Class ",t.class]})]}),(0,Vw.jsxs)("div",{className:"dropdown",children:[(0,Vw.jsx)("button",{className:"menu-button",onClick:e=>{e.stopPropagation(),c(l===n?null:n)},children:"\u22ee"}),l===n&&(0,Vw.jsxs)("div",{className:"dropdown-menu dropdown-enter",children:[(0,Vw.jsx)("button",{onClick:e=>{e.stopPropagation(),(async e=>{try{const t=u(u({},e),{},{progress:0}),n=$y(yb,"users",gb.currentUser.uid);await ob(n,{courses:fb(e)}),await ob(n,{courses:db(t)}),r((n=>n.map((n=>n===e?t:n)))),b("Successfully restarted ".concat(e.name))}catch(t){console.error("Error restarting course:",t),b("Failed to restart ".concat(e.name,". Please try again."),"error")}})(t)},children:"Restart Course"}),(0,Vw.jsx)("button",{onClick:e=>{e.stopPropagation(),(async e=>{try{const t=$y(yb,"users",gb.currentUser.uid);await ob(t,{courses:fb(e)}),r((t=>t.filter((t=>t!==e)))),b("Successfully deleted ".concat(e.name))}catch(t){console.error("Error deleting course:",t),b("Failed to delete ".concat(e.name,". Please try again."),"error")}})(t)},className:"delete-button",children:"Delete Course"})]})]})]}),(0,Vw.jsxs)("div",{className:"progress-container",children:[(0,Vw.jsx)("div",{className:"progress-bar",children:(0,Vw.jsx)("div",{className:"progress-fill",style:{width:"".concat(t.progress,"%")}})}),(0,Vw.jsxs)("p",{className:"progress-text",children:[t.progress,"% Complete"]})]})]},n))),(0,Vw.jsx)("div",{className:"course-card add-course",onClick:()=>d(!0),children:(0,Vw.jsxs)("div",{className:"add-course-content",children:[(0,Vw.jsx)("div",{className:"plus-icon",children:"+"}),(0,Vw.jsx)("h3",{children:"Add New Course"}),(0,Vw.jsx)("p",{children:"Choose from available courses"})]})})]})]}),h&&(0,Vw.jsx)(v,{})]})};function Xx(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Xx(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const $x=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Xx(e))&&(r&&(r+=" "),r+=t);return r};function Jx(e){const t=new URL("https://mui.com/production-error/?code=".concat(e));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.searchParams.append("args[]",e))),"Minified MUI error #".concat(e,"; visit ").concat(t," for the full message.")}function Zx(e){if("string"!==typeof e)throw new Error(Jx(7));return e.charAt(0).toUpperCase()+e.slice(1)}const ek=Zx;function tk(){return tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tk.apply(null,arguments)}var nk=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(Kw){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),rk=Math.abs,ik=String.fromCharCode,sk=Object.assign;function ok(e){return e.trim()}function ak(e,t,n){return e.replace(t,n)}function lk(e,t){return e.indexOf(t)}function ck(e,t){return 0|e.charCodeAt(t)}function uk(e,t,n){return e.slice(t,n)}function hk(e){return e.length}function dk(e){return e.length}function fk(e,t){return t.push(e),e}var pk=1,mk=1,gk=0,yk=0,vk=0,bk="";function wk(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:pk,column:mk,length:o,return:""}}function xk(e,t){return sk(wk("",null,null,"",null,null,0),e,{length:-e.length},t)}function kk(){return vk=yk>0?ck(bk,--yk):0,mk--,10===vk&&(mk=1,pk--),vk}function Sk(){return vk=yk<gk?ck(bk,yk++):0,mk++,10===vk&&(mk=1,pk++),vk}function Ek(){return ck(bk,yk)}function Ck(){return yk}function Tk(e,t){return uk(bk,e,t)}function _k(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ak(e){return pk=mk=1,gk=hk(bk=e),yk=0,[]}function Nk(e){return bk="",e}function Ik(e){return ok(Tk(yk-1,jk(91===e?e+2:40===e?e+1:e)))}function Pk(e){for(;(vk=Ek())&&vk<33;)Sk();return _k(e)>2||_k(vk)>3?"":" "}function Rk(e,t){for(;--t&&Sk()&&!(vk<48||vk>102||vk>57&&vk<65||vk>70&&vk<97););return Tk(e,Ck()+(t<6&&32==Ek()&&32==Sk()))}function jk(e){for(;Sk();)switch(vk){case e:return yk;case 34:case 39:34!==e&&39!==e&&jk(vk);break;case 40:41===e&&jk(e);break;case 92:Sk()}return yk}function Dk(e,t){for(;Sk()&&e+vk!==57&&(e+vk!==84||47!==Ek()););return"/*"+Tk(t,yk-1)+"*"+ik(47===e?e:Sk())}function Ok(e){for(;!_k(Ek());)Sk();return Tk(e,yk)}var Lk="-ms-",Mk="-moz-",Fk="-webkit-",Uk="comm",Vk="rule",Bk="decl",zk="@keyframes";function qk(e,t){for(var n="",r=dk(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Hk(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Bk:return e.return=e.return||e.value;case Uk:return"";case zk:return e.return=e.value+"{"+qk(e.children,r)+"}";case Vk:e.value=e.props.join(",")}return hk(n=qk(e.children,r))?e.return=e.value+"{"+n+"}":""}function Wk(e){return function(t){t.root||(t=t.return)&&e(t)}}function Kk(e){return Nk(Gk("",null,null,null,[""],e=Ak(e),0,[0],e))}function Gk(e,t,n,r,i,s,o,a,l){for(var c=0,u=0,h=o,d=0,f=0,p=0,m=1,g=1,y=1,v=0,b="",w=i,x=s,k=r,S=b;g;)switch(p=v,v=Sk()){case 40:if(108!=p&&58==ck(S,h-1)){-1!=lk(S+=ak(Ik(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=Ik(v);break;case 9:case 10:case 13:case 32:S+=Pk(p);break;case 92:S+=Rk(Ck()-1,7);continue;case 47:switch(Ek()){case 42:case 47:fk(Qk(Dk(Sk(),Ck()),t,n),l);break;default:S+="/"}break;case 123*m:a[c++]=hk(S)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==y&&(S=ak(S,/\f/g,"")),f>0&&hk(S)-h&&fk(f>32?Xk(S+";",r,n,h-1):Xk(ak(S," ","")+";",r,n,h-2),l);break;case 59:S+=";";default:if(fk(k=Yk(S,t,n,c,u,i,a,b,w=[],x=[],h),s),123===v)if(0===u)Gk(S,t,k,k,w,s,h,a,x);else switch(99===d&&110===ck(S,3)?100:d){case 100:case 108:case 109:case 115:Gk(e,k,k,r&&fk(Yk(e,k,k,0,0,i,a,b,i,w=[],h),x),i,x,h,a,r?w:x);break;default:Gk(S,k,k,k,[""],x,0,a,x)}}c=u=f=0,m=y=1,b=S="",h=o;break;case 58:h=1+hk(S),f=p;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==kk())continue;switch(S+=ik(v),v*m){case 38:y=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(hk(S)-1)*y,y=1;break;case 64:45===Ek()&&(S+=Ik(Sk())),d=Ek(),u=h=hk(b=S+=Ok(Ck())),v++;break;case 45:45===p&&2==hk(S)&&(m=0)}}return s}function Yk(e,t,n,r,i,s,o,a,l,c,u){for(var h=i-1,d=0===i?s:[""],f=dk(d),p=0,m=0,g=0;p<r;++p)for(var y=0,v=uk(e,h+1,h=rk(m=o[p])),b=e;y<f;++y)(b=ok(m>0?d[y]+" "+v:ak(v,/&\f/g,d[y])))&&(l[g++]=b);return wk(e,t,n,0===i?Vk:a,l,c,u)}function Qk(e,t,n){return wk(e,t,n,Uk,ik(vk),uk(e,2,-2),0)}function Xk(e,t,n,r){return wk(e,t,n,Bk,uk(e,0,r),uk(e,r+1,-1),r)}var $k=function(e,t,n){for(var r=0,i=0;r=i,i=Ek(),38===r&&12===i&&(t[n]=1),!_k(i);)Sk();return Tk(e,yk)},Jk=function(e,t){return Nk(function(e,t){var n=-1,r=44;do{switch(_k(r)){case 0:38===r&&12===Ek()&&(t[n]=1),e[n]+=$k(yk-1,t,n);break;case 2:e[n]+=Ik(r);break;case 4:if(44===r){e[++n]=58===Ek()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=ik(r)}}while(r=Sk());return e}(Ak(e),t))},Zk=new WeakMap,eS=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Zk.get(n))&&!r){Zk.set(e,!0);for(var i=[],s=Jk(t,i),o=n.props,a=0,l=0;a<s.length;a++)for(var c=0;c<o.length;c++,l++)e.props[l]=i[a]?s[a].replace(/&\f/g,o[c]):o[c]+" "+s[a]}}},tS=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function nS(e,t){switch(function(e,t){return 45^ck(e,0)?(((t<<2^ck(e,0))<<2^ck(e,1))<<2^ck(e,2))<<2^ck(e,3):0}(e,t)){case 5103:return Fk+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Fk+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Fk+e+Mk+e+Lk+e+e;case 6828:case 4268:return Fk+e+Lk+e+e;case 6165:return Fk+e+Lk+"flex-"+e+e;case 5187:return Fk+e+ak(e,/(\w+).+(:[^]+)/,Fk+"box-$1$2"+Lk+"flex-$1$2")+e;case 5443:return Fk+e+Lk+"flex-item-"+ak(e,/flex-|-self/,"")+e;case 4675:return Fk+e+Lk+"flex-line-pack"+ak(e,/align-content|flex-|-self/,"")+e;case 5548:return Fk+e+Lk+ak(e,"shrink","negative")+e;case 5292:return Fk+e+Lk+ak(e,"basis","preferred-size")+e;case 6060:return Fk+"box-"+ak(e,"-grow","")+Fk+e+Lk+ak(e,"grow","positive")+e;case 4554:return Fk+ak(e,/([^-])(transform)/g,"$1"+Fk+"$2")+e;case 6187:return ak(ak(ak(e,/(zoom-|grab)/,Fk+"$1"),/(image-set)/,Fk+"$1"),e,"")+e;case 5495:case 3959:return ak(e,/(image-set\([^]*)/,Fk+"$1$`$1");case 4968:return ak(ak(e,/(.+:)(flex-)?(.*)/,Fk+"box-pack:$3"+Lk+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Fk+e+e;case 4095:case 3583:case 4068:case 2532:return ak(e,/(.+)-inline(.+)/,Fk+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(hk(e)-1-t>6)switch(ck(e,t+1)){case 109:if(45!==ck(e,t+4))break;case 102:return ak(e,/(.+:)(.+)-([^]+)/,"$1"+Fk+"$2-$3$1"+Mk+(108==ck(e,t+3)?"$3":"$2-$3"))+e;case 115:return~lk(e,"stretch")?nS(ak(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==ck(e,t+1))break;case 6444:switch(ck(e,hk(e)-3-(~lk(e,"!important")&&10))){case 107:return ak(e,":",":"+Fk)+e;case 101:return ak(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Fk+(45===ck(e,14)?"inline-":"")+"box$3$1"+Fk+"$2$3$1"+Lk+"$2box$3")+e}break;case 5936:switch(ck(e,t+11)){case 114:return Fk+e+Lk+ak(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Fk+e+Lk+ak(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Fk+e+Lk+ak(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Fk+e+Lk+e+e}return e}var rS=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Bk:e.return=nS(e.value,e.length);break;case zk:return qk([xk(e,{value:ak(e.value,"@","@"+Fk)})],r);case Vk:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return qk([xk(e,{props:[ak(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return qk([xk(e,{props:[ak(t,/:(plac\w+)/,":"+Fk+"input-$1")]}),xk(e,{props:[ak(t,/:(plac\w+)/,":-moz-$1")]}),xk(e,{props:[ak(t,/:(plac\w+)/,Lk+"input-$1")]})],r)}return""}))}}],iS=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,s=e.stylisPlugins||rS,o={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;a.push(e)}));var l,c=[eS,tS],u=[Hk,Wk((function(e){l.insert(e)}))],h=function(e){var t=dk(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}(c.concat(s,u));i=function(e,t,n,r){l=n,qk(Kk(e?e+"{"+t.styles+"}":t.styles),h),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new nk({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:i};return d.sheet.hydrate(a),d};var sS={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function oS(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var aS=/[A-Z]|^ms/g,lS=/_EMO_([^_]+?)_([^]*?)_EMO_/g,cS=function(e){return 45===e.charCodeAt(1)},uS=function(e){return null!=e&&"boolean"!==typeof e},hS=oS((function(e){return cS(e)?e:e.replace(aS,"-$&").toLowerCase()})),dS=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(lS,(function(e,t,n){return pS={name:t,styles:n,next:pS},t}))}return 1===sS[e]||cS(e)||"number"!==typeof t||0===t?t:t+"px"};function fS(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return pS={name:i.name,styles:i.styles,next:pS},i.name;var s=n;if(void 0!==s.styles){var o=s.next;if(void 0!==o)for(;void 0!==o;)pS={name:o.name,styles:o.styles,next:pS},o=o.next;return s.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=fS(e,t,n[i])+";";else for(var s in n){var o=n[s];if("object"!==typeof o){var a=o;null!=t&&void 0!==t[a]?r+=s+"{"+t[a]+"}":uS(a)&&(r+=hS(s)+":"+dS(s,a)+";")}else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var l=fS(e,t,o);switch(s){case"animation":case"animationName":r+=hS(s)+":"+l+";";break;default:r+=s+"{"+l+"}"}}else for(var c=0;c<o.length;c++)uS(o[c])&&(r+=hS(s)+":"+dS(s,o[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=pS,l=n(e);return pS=a,fS(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var pS,mS=/label:\s*([^\s;{]+)\s*(;|$)/g;function gS(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";pS=void 0;var s=e[0];null==s||void 0===s.raw?(r=!1,i+=fS(n,t,s)):i+=s[0];for(var o=1;o<e.length;o++){if(i+=fS(n,t,e[o]),r)i+=s[o]}mS.lastIndex=0;for(var a,l="";null!==(a=mS.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:pS}}var yS=!!r.useInsertionEffect&&r.useInsertionEffect,vS=yS||function(e){return e()},bS=(yS||t.useLayoutEffect,t.createContext("undefined"!==typeof HTMLElement?iS({key:"css"}):null)),wS=(bS.Provider,function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(bS);return e(n,i,r)}))}),xS=t.createContext({});var kS=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},SS=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ES=oS((function(e){return SS.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),CS=function(e){return"theme"!==e},TS=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?ES:CS},_S=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},AS=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return kS(t,n,r),vS((function(){return function(e,t,n){kS(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},NS=function e(n,r){var i,s,o=n.__emotion_real===n,a=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,s=r.target);var l=_S(n,r,o),c=l||TS(a),u=!c("as");return function(){var h=arguments,d=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&d.push("label:"+i+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{var f=h[0];d.push(f[0]);for(var p=h.length,m=1;m<p;m++)d.push(h[m],f[m])}var g=wS((function(e,n,r){var i=u&&e.as||a,o="",h=[],f=e;if(null==e.theme){for(var p in f={},e)f[p]=e[p];f.theme=t.useContext(xS)}"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}(n.registered,h,e.className):null!=e.className&&(o=e.className+" ");var m=gS(d.concat(h),n.registered,f);o+=n.key+"-"+m.name,void 0!==s&&(o+=" "+s);var g=u&&void 0===l?TS(i):c,y={};for(var v in e)u&&"as"===v||g(v)&&(y[v]=e[v]);return y.className=o,r&&(y.ref=r),t.createElement(t.Fragment,null,t.createElement(AS,{cache:n,serialized:m,isStringTag:"string"===typeof i}),t.createElement(i,y))}));return g.displayName=void 0!==i?i:"Styled("+("string"===typeof a?a:a.displayName||a.name||"Component")+")",g.defaultProps=n.defaultProps,g.__emotion_real=g,g.__emotion_base=a,g.__emotion_styles=d,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+s}}),g.withComponent=function(t,n){return e(t,tk({},r,n,{shouldForwardProp:_S(g,n,!0)})).apply(void 0,d)},g}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){NS[e]=NS(e)}));const IS=[];function PS(e){return IS[0]=e,gS(IS)}function RS(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function jS(e){if(t.isValidElement(e)||!RS(e))return e;const n={};return Object.keys(e).forEach((t=>{n[t]=jS(e[t])})),n}function DS(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const i=r.clone?u({},e):e;return RS(e)&&RS(n)&&Object.keys(n).forEach((s=>{t.isValidElement(n[s])?i[s]=n[s]:RS(n[s])&&Object.prototype.hasOwnProperty.call(e,s)&&RS(e[s])?i[s]=DS(e[s],n[s],r):r.clone?i[s]=RS(n[s])?jS(n[s]):n[s]:i[s]=n[s]})),i}const OS=["values","unit","step"];function LS(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=s(e,OS),o=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>u(u({},e),{},{[t.key]:t.val})),{})})(t),a=Object.keys(o);function l(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function c(e){const i="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(i-r/100).concat(n,")")}function h(e,i){const s=a.indexOf(i);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==s&&"number"===typeof t[a[s]]?t[a[s]]:i)-r/100).concat(n,")")}return u({keys:a,values:o,up:l,down:c,between:h,only:function(e){return a.indexOf(e)+1<a.length?h(e,a[a.indexOf(e)+1]):l(e)},not:function(e){const t=a.indexOf(e);return 0===t?l(a[1]):t===a.length-1?c(a[t]):h(e,a[a.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},i)}const MS={borderRadius:4},FS={xs:0,sm:600,md:900,lg:1200,xl:1536},US={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(FS[e],"px)")},VS={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:FS[t]||t;return"number"===typeof n&&(n="".concat(n,"px")),e?"@container ".concat(e," (min-width:").concat(n,")"):"@container (min-width:".concat(n,")")}})};function BS(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||US;return t.reduce(((r,i,s)=>(r[e.up(e.keys[s])]=n(t[s]),r)),{})}if("object"===typeof t){const e=r.breakpoints||US;return Object.keys(t).reduce(((i,s)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some((e=>t.startsWith("@".concat(e))))||!!t.match(/^@\d/))}(e.keys,s)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(s)}(r.containerQueries?r:VS,s);e&&(i[e]=n(t[s],s))}else if(Object.keys(e.values||FS).includes(s)){i[e.up(s)]=n(t[s],s)}else{const e=s;i[e]=t[e]}return i}),{})}return n(t)}function zS(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null===(e=t.keys)||void 0===e?void 0:e.reduce(((e,n)=>(e[t.up(n)]={},e)),{}))||{}}function qS(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function HS(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function WS(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:HS(e,n)||i,t&&(r=t(r,i,e)),r}const KS=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=e=>{if(null==e[t])return null;const s=e[t],o=HS(e.theme,r)||{};return BS(e,s,(e=>{let r=WS(o,i,e);return e===r&&"string"===typeof e&&(r=WS(o,i,"".concat(t).concat("default"===e?"":Zx(e)),e)),!1===n?r:{[n]:r}}))};return s.propTypes={},s.filterProps=[t],s};const GS=function(e,t){return t?DS(e,t,{clone:!1}):e};const YS={m:"margin",p:"padding"},QS={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},XS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},$S=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!XS[e])return[e];e=XS[e]}const[t,n]=e.split(""),r=YS[t],i=QS[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),JS=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ZS=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],eE=[...JS,...ZS];function tE(e,t,n,r){var i;const s=null!==(i=HS(e,t,!0))&&void 0!==i?i:n;return"number"===typeof s||"string"===typeof s?e=>"string"===typeof e?e:"string"===typeof s?"calc(".concat(e," * ").concat(s,")"):s*e:Array.isArray(s)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=s[t];return e>=0?n:"number"===typeof n?-n:"-".concat(n)}:"function"===typeof s?s:()=>{}}function nE(e){return tE(e,"spacing",8)}function rE(e,t){return"string"===typeof t||null==t?t:e(t)}function iE(e,t,n,r){if(!t.includes(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=rE(t,n),e)),{})}($S(n),r);return BS(e,e[n],i)}function sE(e,t){const n=nE(e.theme);return Object.keys(e).map((r=>iE(e,t,r,n))).reduce(GS,{})}function oE(e){return sE(e,JS)}function aE(e){return sE(e,ZS)}function lE(e){return sE(e,eE)}oE.propTypes={},oE.filterProps=JS,aE.propTypes={},aE.filterProps=ZS,lE.propTypes={},lE.filterProps=eE;function cE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nE({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}const uE=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?GS(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function hE(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function dE(e,t){return KS({prop:e,themeKey:"borders",transform:t})}const fE=dE("border",hE),pE=dE("borderTop",hE),mE=dE("borderRight",hE),gE=dE("borderBottom",hE),yE=dE("borderLeft",hE),vE=dE("borderColor"),bE=dE("borderTopColor"),wE=dE("borderRightColor"),xE=dE("borderBottomColor"),kE=dE("borderLeftColor"),SE=dE("outline",hE),EE=dE("outlineColor"),CE=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=tE(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:rE(t,e)});return BS(e,e.borderRadius,n)}return null};CE.propTypes={},CE.filterProps=["borderRadius"];uE(fE,pE,mE,gE,yE,vE,bE,wE,xE,kE,CE,SE,EE);const TE=e=>{if(void 0!==e.gap&&null!==e.gap){const t=tE(e.theme,"spacing",8),n=e=>({gap:rE(t,e)});return BS(e,e.gap,n)}return null};TE.propTypes={},TE.filterProps=["gap"];const _E=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=tE(e.theme,"spacing",8),n=e=>({columnGap:rE(t,e)});return BS(e,e.columnGap,n)}return null};_E.propTypes={},_E.filterProps=["columnGap"];const AE=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=tE(e.theme,"spacing",8),n=e=>({rowGap:rE(t,e)});return BS(e,e.rowGap,n)}return null};AE.propTypes={},AE.filterProps=["rowGap"];uE(TE,_E,AE,KS({prop:"gridColumn"}),KS({prop:"gridRow"}),KS({prop:"gridAutoFlow"}),KS({prop:"gridAutoColumns"}),KS({prop:"gridAutoRows"}),KS({prop:"gridTemplateColumns"}),KS({prop:"gridTemplateRows"}),KS({prop:"gridTemplateAreas"}),KS({prop:"gridArea"}));function NE(e,t){return"grey"===t?t:e}uE(KS({prop:"color",themeKey:"palette",transform:NE}),KS({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:NE}),KS({prop:"backgroundColor",themeKey:"palette",transform:NE}));function IE(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const PE=KS({prop:"width",transform:IE}),RE=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null===(n=e.theme)||void 0===n||null===(n=n.breakpoints)||void 0===n||null===(n=n.values)||void 0===n?void 0:n[t])||FS[t];return i?"px"!==(null===(r=e.theme)||void 0===r||null===(r=r.breakpoints)||void 0===r?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:IE(t)}};return BS(e,e.maxWidth,t)}return null};RE.filterProps=["maxWidth"];const jE=KS({prop:"minWidth",transform:IE}),DE=KS({prop:"height",transform:IE}),OE=KS({prop:"maxHeight",transform:IE}),LE=KS({prop:"minHeight",transform:IE}),ME=(KS({prop:"size",cssProperty:"width",transform:IE}),KS({prop:"size",cssProperty:"height",transform:IE}),uE(PE,RE,jE,DE,OE,LE,KS({prop:"boxSizing"})),{border:{themeKey:"borders",transform:hE},borderTop:{themeKey:"borders",transform:hE},borderRight:{themeKey:"borders",transform:hE},borderBottom:{themeKey:"borders",transform:hE},borderLeft:{themeKey:"borders",transform:hE},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:hE},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:CE},color:{themeKey:"palette",transform:NE},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:NE},backgroundColor:{themeKey:"palette",transform:NE},p:{style:aE},pt:{style:aE},pr:{style:aE},pb:{style:aE},pl:{style:aE},px:{style:aE},py:{style:aE},padding:{style:aE},paddingTop:{style:aE},paddingRight:{style:aE},paddingBottom:{style:aE},paddingLeft:{style:aE},paddingX:{style:aE},paddingY:{style:aE},paddingInline:{style:aE},paddingInlineStart:{style:aE},paddingInlineEnd:{style:aE},paddingBlock:{style:aE},paddingBlockStart:{style:aE},paddingBlockEnd:{style:aE},m:{style:oE},mt:{style:oE},mr:{style:oE},mb:{style:oE},ml:{style:oE},mx:{style:oE},my:{style:oE},margin:{style:oE},marginTop:{style:oE},marginRight:{style:oE},marginBottom:{style:oE},marginLeft:{style:oE},marginX:{style:oE},marginY:{style:oE},marginInline:{style:oE},marginInlineStart:{style:oE},marginInlineEnd:{style:oE},marginBlock:{style:oE},marginBlockStart:{style:oE},marginBlockEnd:{style:oE},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:TE},rowGap:{style:AE},columnGap:{style:_E},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:IE},maxWidth:{style:RE},minWidth:{transform:IE},height:{transform:IE},maxHeight:{transform:IE},minHeight:{transform:IE},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}),FE=ME;const UE=function(){function e(e,t,n,r){const i={[e]:t,theme:n},s=r[e];if(!s)return{[e]:t};const{cssProperty:o=e,themeKey:a,transform:l,style:c}=s;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};const u=HS(n,a)||{};if(c)return c(i);return BS(i,t,(t=>{let n=WS(u,l,t);return t===n&&"string"===typeof t&&(n=WS(u,l,"".concat(e).concat("default"===t?"":Zx(t)),t)),!1===o?n:{[o]:n}}))}return function t(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=null!==(r=s.unstable_sxConfig)&&void 0!==r?r:FE;function a(n){let r=n;if("function"===typeof n)r=n(s);else if("object"!==typeof n)return n;if(!r)return null;const i=zS(s.breakpoints),a=Object.keys(i);let l=i;return Object.keys(r).forEach((n=>{const i=function(e,t){return"function"===typeof e?e(t):e}(r[n],s);if(null!==i&&void 0!==i)if("object"===typeof i)if(o[n])l=GS(l,e(n,i,s,o));else{const e=BS({theme:s},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,i)?l=GS(l,e):l[n]=t({sx:i,theme:s})}else l=GS(l,e(n,i,s,o))})),function(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter((e=>e.startsWith("@container"))).sort(((e,t)=>{var n,r;const i=/min-width:\s*([0-9.]+)/;return+((null===(n=e.match(i))||void 0===n?void 0:n[1])||0)-+((null===(r=t.match(i))||void 0===r?void 0:r[1])||0)}));return n.length?n.reduce(((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e}),u({},t)):t}(s,qS(a,l))}return Array.isArray(i)?i.map(a):a(i)}}();UE.filterProps=["sx"];const VE=UE;function BE(e,t){const n=this;if(n.vars){var r;if(null===(r=n.colorSchemes)||void 0===r||!r[e]||"function"!==typeof n.getColorSchemeSelector)return{};let i=n.getColorSchemeSelector(e);return"&"===i?t:((i.includes("data-")||i.includes("."))&&(i="*:where(".concat(i.replace(/\s*&$/,""),") &")),{[i]:t})}return n.palette.mode===e?t:{}}const zE=["breakpoints","palette","spacing","shape"];const qE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={}}=e,o=s(e,zE),a=LS(t),l=cE(r);let c=DS({breakpoints:a,direction:"ltr",components:{},palette:u({mode:"light"},n),spacing:l,shape:u(u({},MS),i)},o);c=function(e){const t=(e,t)=>e.replace("@media",t?"@container ".concat(t):"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},i=e=>(n(r,e),r);return n(i),u(u({},e),{},{containerQueries:i})}(c),c.applyStyles=BE;for(var h=arguments.length,d=new Array(h>1?h-1:0),f=1;f<h;f++)d[f-1]=arguments[f];return c=d.reduce(((e,t)=>DS(e,t)),c),c.unstable_sxConfig=u(u({},FE),null===o||void 0===o?void 0:o.unstable_sxConfig),c.unstable_sx=function(e){return VE({sx:e,theme:this})},c},HE=["variants"];function WE(e){const{variants:t}=e,n=s(e,HE),r={variants:t,style:PS(n),isProcessed:!0};return r.style===n||t&&t.forEach((e=>{"function"!==typeof e.style&&(e.style=PS(e.style))})),r}const KE=["variants"],GE=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],YE=qE();function QE(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function XE(e){return e?(t,n)=>n[e]:null}function $E(e,t){const n="function"===typeof t?t(e):t;if(Array.isArray(n))return n.flatMap((t=>$E(e,t)));if(Array.isArray(null===n||void 0===n?void 0:n.variants)){let t;if(n.isProcessed)t=n.style;else{const{variants:e}=n;t=s(n,KE)}return JE(e,n.variants,[t])}return null!==n&&void 0!==n&&n.isProcessed?n.style:n}function JE(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e:for(let a=0;a<t.length;a+=1){const l=t[a];var i,s;if("function"===typeof l.props){if(null!==(i=n)&&void 0!==i||(n=u(u(u({},e),e.ownerState),{},{ownerState:e.ownerState})),!l.props(n))continue}else for(const t in l.props){var o;if(e[t]!==l.props[t]&&(null===(o=e.ownerState)||void 0===o?void 0:o[t])!==l.props[t])continue e}if("function"===typeof l.style)null!==(s=n)&&void 0!==s||(n=u(u(u({},e),e.ownerState),{},{ownerState:e.ownerState})),r.push(l.style(n));else r.push(l.style)}return r}function ZE(e,t){}function eC(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const tC=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function nC(e){return tC(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function rC(e){if(e.type)return e;if("#"===e.charAt(0))return rC(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Jx(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(Jx(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const iC=(e,t)=>{try{return(e=>{const t=rC(e);return t.values.slice(0,3).map(((e,n)=>t.type.includes("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")})(e)}catch(n){return e}};function sC(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):t.includes("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=t.includes("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function oC(e){e=rC(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const l=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(a+="a",l.push(t[3])),sC({type:a,values:l})}function aC(e){let t="hsl"===(e=rC(e)).type||"hsla"===e.type?rC(oC(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function lC(e,t,n){try{return function(e,t){return e=rC(e),t=nC(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,sC(e)}(e,t)}catch(r){return e}}function cC(e,t){if(e=rC(e),t=nC(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return sC(e)}function uC(e,t,n){try{return cC(e,t)}catch(r){return e}}function hC(e,t){if(e=rC(e),t=nC(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return sC(e)}function dC(e,t,n){try{return hC(e,t)}catch(r){return e}}function fC(e,t,n){try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return aC(e)>.5?cC(e,t):hC(e,t)}(e,t)}catch(r){return e}}const pC={black:"#000",white:"#fff"},mC={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},gC={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},yC={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},vC={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},bC={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},wC={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},xC={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},kC=["mode","contrastThreshold","tonalOffset"];function SC(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:pC.white,default:pC.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const EC=SC();function CC(){return{text:{primary:pC.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:pC.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const TC=CC();function _C(e,t,n,r){const i=r.light||r,s=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=hC(e.main,i):"dark"===t&&(e.dark=cC(e.main,s)))}function AC(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=s(e,kC),o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:bC[200],light:bC[50],dark:bC[400]}:{main:bC[700],light:bC[400],dark:bC[800]}}(t),a=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:gC[200],light:gC[50],dark:gC[400]}:{main:gC[500],light:gC[300],dark:gC[700]}}(t),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:yC[500],light:yC[300],dark:yC[700]}:{main:yC[700],light:yC[400],dark:yC[800]}}(t),c=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:wC[400],light:wC[300],dark:wC[700]}:{main:wC[700],light:wC[500],dark:wC[900]}}(t),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:xC[400],light:xC[300],dark:xC[700]}:{main:xC[800],light:xC[500],dark:xC[900]}}(t),d=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:vC[400],light:vC[300],dark:vC[700]}:{main:"#ed6c02",light:vC[500],dark:vC[900]}}(t);function f(e){const t=function(e,t){const n=aC(e),r=aC(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,TC.text.primary)>=n?TC.text.primary:EC.text.primary;return t}const p=e=>{let{color:t,name:n,mainShade:i=500,lightShade:s=300,darkShade:o=700}=e;if(t=u({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Jx(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(Jx(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return _C(t,"light",s,r),_C(t,"dark",o,r),t.contrastText||(t.contrastText=f(t.main)),t};let m;"light"===t?m=SC():"dark"===t&&(m=CC());return DS(u({common:u({},pC),mode:t,primary:p({color:o,name:"primary"}),secondary:p({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:l,name:"error"}),warning:p({color:d,name:"warning"}),info:p({color:c,name:"info"}),success:p({color:h,name:"success"}),grey:mC,contrastThreshold:n,getContrastText:f,augmentColor:p,tonalOffset:r},m),i)}function NC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.length)return"";const s=r[0];return"string"!==typeof s||s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?", ".concat(s):", var(--".concat(e?"".concat(e,"-"):"").concat(s).concat(t(...r.slice(1)),")")}return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return"var(--".concat(e?"".concat(e,"-"):"").concat(n).concat(t(...i),")")}}function IC(e){const t={};return Object.entries(e).forEach((e=>{const[n,r]=e;"object"===typeof r&&(t[n]="".concat(r.fontStyle?"".concat(r.fontStyle," "):"").concat(r.fontVariant?"".concat(r.fontVariant," "):"").concat(r.fontWeight?"".concat(r.fontWeight," "):"").concat(r.fontStretch?"".concat(r.fontStretch," "):"").concat(r.fontSize||"").concat(r.lineHeight?"/".concat(r.lineHeight," "):"").concat(r.fontFamily||""))})),t}const PC=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=e;t.forEach(((e,s)=>{s===t.length-1?Array.isArray(i)?i[Number(e)]=n:i&&"object"===typeof i&&(i[e]=n):i&&"object"===typeof i&&(i[e]||(i[e]=r.includes(e)?[]:{}),i=i[e])}))};function RC(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},s={},o={};return((e,t,n)=>{!function e(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(r).forEach((r=>{let[o,a]=r;(!n||n&&!n([...i,o]))&&void 0!==a&&null!==a&&("object"===typeof a&&Object.keys(a).length>0?e(a,[...i,o],Array.isArray(a)?[...s,o]:s):t([...i,o],a,s))}))}(e)})(e,((e,t,a)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r="--".concat(n?"".concat(n,"-"):"").concat(e.join("-")),l=((e,t)=>{if("number"===typeof t)return["lineHeight","fontWeight","opacity","zIndex"].some((t=>e.includes(t)))||e[e.length-1].toLowerCase().includes("opacity")?t:"".concat(t,"px");return t})(e,t);Object.assign(i,{[r]:l}),PC(s,e,"var(".concat(r,")"),a),PC(o,e,"var(".concat(r,", ").concat(l,")"),a)}}),(e=>"vars"===e[0])),{css:i,vars:s,varsWithDefaults:o}}const jC=["colorSchemes","components","defaultColorScheme"];const DC=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=b,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:o={},components:l,defaultColorScheme:c="light"}=e,h=s(e,jC),{vars:d,css:f,varsWithDefaults:p}=RC(h,t);let m=p;const g={},{[c]:y}=o,v=s(o,[c].map(a));if(Object.entries(v||{}).forEach((e=>{let[n,r]=e;const{vars:i,css:s,varsWithDefaults:o}=RC(r,t);m=DS(m,o),g[n]={css:s,vars:i}})),y){const{css:e,vars:n,varsWithDefaults:r}=RC(y,t);m=DS(m,r),g[c]={css:e,vars:n}}function b(t,n){let r=i;if("class"===i&&(r=".%s"),"data"===i&&(r="[data-%s]"),null!==i&&void 0!==i&&i.startsWith("data-")&&!i.includes("%s")&&(r="[".concat(i,'="%s"]')),t){if("media"===r){var s;if(e.defaultColorScheme===t)return":root";const r=(null===(s=o[t])||void 0===s||null===(s=s.palette)||void 0===s?void 0:s.mode)||t;return{["@media (prefers-color-scheme: ".concat(r,")")]:{":root":n}}}if(r)return e.defaultColorScheme===t?":root, ".concat(r.replace("%s",String(t))):r.replace("%s",String(t))}return":root"}return{vars:m,generateThemeVars:()=>{let e=u({},d);return Object.entries(g).forEach((t=>{let[,{vars:n}]=t;e=DS(e,n)})),e},generateStyleSheets:()=>{const t=[],i=e.defaultColorScheme||"light";function l(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:u({},n)}:e)}l(n(void 0,u({},f)),f);const{[i]:c}=g,h=s(g,[i].map(a));if(c){var d;const{css:e}=c,t=null===(d=o[i])||void 0===d||null===(d=d.palette)||void 0===d?void 0:d.mode,s=u(!r&&t?{colorScheme:t}:{},e);l(n(i,u({},s)),s)}return Object.entries(h).forEach((e=>{var t;let[i,{css:s}]=e;const a=null===(t=o[i])||void 0===t||null===(t=t.palette)||void 0===t?void 0:t.mode,c=u(!r&&a?{colorScheme:a}:{},s);l(n(i,u({},c)),c)})),t}}};function OC(e,t){return u({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const LC=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function MC(e){return Math.round(1e5*e)/1e5}const FC={textTransform:"uppercase"},UC='"Roboto", "Helvetica", "Arial", sans-serif';function VC(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=UC,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:h=16,allVariants:d,pxToRem:f}=n,p=s(n,LC);const m=i/14,g=f||(e=>"".concat(e/h*m,"rem")),y=(e,t,n,i,s)=>u(u(u({fontFamily:r,fontWeight:e,fontSize:g(t),lineHeight:n},r===UC?{letterSpacing:"".concat(MC(i/t),"em")}:{}),s),d),v={h1:y(o,96,1.167,-1.5),h2:y(o,60,1.2,-.5),h3:y(a,48,1.167,0),h4:y(a,34,1.235,.25),h5:y(a,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(a,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(a,16,1.5,.15),body2:y(a,14,1.43,.15),button:y(l,14,1.75,.4,FC),caption:y(a,12,1.66,.4),overline:y(a,12,2.66,1,FC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return DS(u({htmlFontSize:h,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:c},v),p,{clone:!1})}function BC(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const zC=["none",BC(0,2,1,-1,0,1,1,0,0,1,3,0),BC(0,3,1,-2,0,2,2,0,0,1,5,0),BC(0,3,3,-2,0,3,4,0,0,1,8,0),BC(0,2,4,-1,0,4,5,0,0,1,10,0),BC(0,3,5,-1,0,5,8,0,0,1,14,0),BC(0,3,5,-1,0,6,10,0,0,1,18,0),BC(0,4,5,-2,0,7,10,1,0,2,16,1),BC(0,5,5,-3,0,8,10,1,0,3,14,2),BC(0,5,6,-3,0,9,12,1,0,3,16,2),BC(0,6,6,-3,0,10,14,1,0,4,18,3),BC(0,6,7,-4,0,11,15,1,0,4,20,3),BC(0,7,8,-4,0,12,17,2,0,5,22,4),BC(0,7,8,-4,0,13,19,2,0,5,24,4),BC(0,7,9,-4,0,14,21,2,0,5,26,4),BC(0,8,9,-5,0,15,22,2,0,6,28,5),BC(0,8,10,-5,0,16,24,2,0,6,30,5),BC(0,8,11,-5,0,17,26,2,0,6,32,5),BC(0,9,11,-5,0,18,28,2,0,7,34,6),BC(0,9,12,-6,0,19,29,2,0,7,36,6),BC(0,10,13,-6,0,20,31,3,0,8,38,7),BC(0,10,13,-6,0,21,33,3,0,8,40,7),BC(0,10,14,-6,0,22,35,3,0,8,42,7),BC(0,11,14,-7,0,23,36,3,0,9,44,8),BC(0,11,15,-7,0,24,38,3,0,9,46,8)],qC=["duration","easing","delay"],HC={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},WC={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function KC(e){return"".concat(Math.round(e),"ms")}function GC(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function YC(e){const t=u(u({},HC),e.easing),n=u(u({},WC),e.duration);return u(u({getAutoHeightDuration:GC,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:a=0}=r;s(r,qC);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:KC(i)," ").concat(o," ").concat("string"===typeof a?a:KC(a)))).join(",")}},e),{},{easing:t,duration:n})}const QC={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function XC(){const e=u({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return function e(t){const n=Object.entries(t);for(let i=0;i<n.length;i++){const[s,o]=n[i];!RS(r=o)&&"undefined"!==typeof r&&"string"!==typeof r&&"boolean"!==typeof r&&"number"!==typeof r&&!Array.isArray(r)||s.startsWith("unstable_")?delete t[s]:RS(o)&&(t[s]=u({},o),e(t[s]))}var r}(e),"import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ".concat(JSON.stringify(e,null,2),";\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;")}const $C=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function JC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:i={},transitions:o={},typography:a={},shape:l}=e,c=s(e,$C);if(e.vars)throw new Error(Jx(20));const h=AC(i),d=qE(e);let f=DS(d,{mixins:OC(d.breakpoints,n),palette:h,shadows:zC.slice(),typography:VC(h,a),transitions:YC(o),zIndex:u({},QC)});f=DS(f,c);for(var p=arguments.length,m=new Array(p>1?p-1:0),g=1;g<p;g++)m[g-1]=arguments[g];return f=m.reduce(((e,t)=>DS(e,t)),f),f.unstable_sxConfig=u(u({},FE),null===c||void 0===c?void 0:c.unstable_sxConfig),f.unstable_sx=function(e){return VE({sx:e,theme:this})},f.toRuntimeSource=XC,f}const ZC=JC;const eT=["palette","opacity","overlays"],tT=[...Array(25)].map(((e,t)=>{if(0===t)return"none";const n=function(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}(t);return"linear-gradient(rgba(255 255 255 / ".concat(n,"), rgba(255 255 255 / ").concat(n,"))")}));function nT(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function rT(e){return"dark"===e?tT:[]}function iT(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null===(t=e[1])||void 0===t||!t.match(/(mode|contrastThreshold|tonalOffset)/))}const sT=e=>[...[...Array(25)].map(((t,n)=>"--".concat(e?"".concat(e,"-"):"","overlays-").concat(n))),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkBg"),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkColor")],oT=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let s=i;if("class"===i&&(s=".%s"),"data"===i&&(s="[data-%s]"),null!==i&&void 0!==i&&i.startsWith("data-")&&!i.includes("%s")&&(s="[".concat(i,'="%s"]')),e.defaultColorScheme===t){if("dark"===t){const i={};return sT(e.cssVarPrefix).forEach((e=>{i[e]=n[e],delete n[e]})),"media"===s?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:s?{[s.replace("%s",t)]:i,["".concat(r,", ").concat(s.replace("%s",t))]:n}:{[r]:u(u({},n),i)}}if(s&&"media"!==s)return"".concat(r,", ").concat(s.replace("%s",String(t)))}else if(t){if("media"===s)return{["@media (prefers-color-scheme: ".concat(String(t),")")]:{[r]:n}};if(s)return s.replace("%s",String(t))}return r},aT=["palette"],lT=["colorSchemes","defaultColorScheme","disableCssColorScheme","cssVarPrefix","shouldSkipGeneratingVar","colorSchemeSelector","rootSelector"];function cT(e,t,n){!e[t]&&n&&(e[t]=n)}function uT(e){return"string"===typeof e&&e.startsWith("hsl")?oC(e):e}function hT(e,t){"".concat(t,"Channel")in e||(e["".concat(t,"Channel")]=iC(uT(e[t]),("MUI: Can't create `palette.".concat(t,"Channel` because `palette.").concat(t,"` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."),"To suppress this warning, you need to explicitly provide the `palette.".concat(t,'Channel` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.'))))}const dT=e=>{try{return e()}catch(t){}};function fT(e,t,n,r){var i,o,a;if(!t)return;t=!0===t?{}:t;const l="dark"===r?"dark":"light";var c;if(!n)return void(e[r]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r}=e,i=s(e,eT),o=AC(t);return u({palette:o,opacity:u(u({},nT(o.mode)),n),overlays:r||rT(o.mode)},i)}(u(u({},t),{},{palette:u({mode:l},null===(c=t)||void 0===c?void 0:c.palette)})));const h=ZC(u(u({},n),{},{palette:u({mode:l},null===(i=t)||void 0===i?void 0:i.palette)})),{palette:d}=h,f=s(h,aT);return e[r]=u(u({},t),{},{palette:d,opacity:u(u({},nT(l)),null===(o=t)||void 0===o?void 0:o.opacity),overlays:(null===(a=t)||void 0===a?void 0:a.overlays)||rT(l)}),f}function pT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:o=iT,colorSchemeSelector:l=(t.light&&t.dark?"media":void 0),rootSelector:c=":root"}=e,h=s(e,lT),d=Object.keys(t)[0],f=n||(t.light&&"light"!==d?"light":d),p=function(){return NC(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(i),{[f]:m,light:g,dark:y}=t,v=u({},s(t,[f,"light","dark"].map(a)));let b=m;if(("dark"===f&&!("dark"in t)||"light"===f&&!("light"in t))&&(b=!0),!b)throw new Error(Jx(21,f));const w=fT(v,b,h,f);g&&!v.light&&fT(v,g,void 0,"light"),y&&!v.dark&&fT(v,y,void 0,"dark");let x=u(u({defaultColorScheme:f},w),{},{cssVarPrefix:i,colorSchemeSelector:l,rootSelector:c,getCssVar:p,colorSchemes:v,font:u(u({},IC(w.typography)),w.font),spacing:(k=h.spacing,"number"===typeof k?"".concat(k,"px"):"string"===typeof k||"function"===typeof k||Array.isArray(k)?k:"8px")});var k;Object.keys(x.colorSchemes).forEach((e=>{const t=x.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],i=n[2];return p(e,t[r][i])};var r;if("light"===t.mode&&(cT(t.common,"background","#fff"),cT(t.common,"onBackground","#000")),"dark"===t.mode&&(cT(t.common,"background","#000"),cT(t.common,"onBackground","#fff")),r=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach((e=>{r[e]||(r[e]={})})),"light"===t.mode){cT(t.Alert,"errorColor",uC(t.error.light,.6)),cT(t.Alert,"infoColor",uC(t.info.light,.6)),cT(t.Alert,"successColor",uC(t.success.light,.6)),cT(t.Alert,"warningColor",uC(t.warning.light,.6)),cT(t.Alert,"errorFilledBg",n("palette-error-main")),cT(t.Alert,"infoFilledBg",n("palette-info-main")),cT(t.Alert,"successFilledBg",n("palette-success-main")),cT(t.Alert,"warningFilledBg",n("palette-warning-main")),cT(t.Alert,"errorFilledColor",dT((()=>t.getContrastText(t.error.main)))),cT(t.Alert,"infoFilledColor",dT((()=>t.getContrastText(t.info.main)))),cT(t.Alert,"successFilledColor",dT((()=>t.getContrastText(t.success.main)))),cT(t.Alert,"warningFilledColor",dT((()=>t.getContrastText(t.warning.main)))),cT(t.Alert,"errorStandardBg",dC(t.error.light,.9)),cT(t.Alert,"infoStandardBg",dC(t.info.light,.9)),cT(t.Alert,"successStandardBg",dC(t.success.light,.9)),cT(t.Alert,"warningStandardBg",dC(t.warning.light,.9)),cT(t.Alert,"errorIconColor",n("palette-error-main")),cT(t.Alert,"infoIconColor",n("palette-info-main")),cT(t.Alert,"successIconColor",n("palette-success-main")),cT(t.Alert,"warningIconColor",n("palette-warning-main")),cT(t.AppBar,"defaultBg",n("palette-grey-100")),cT(t.Avatar,"defaultBg",n("palette-grey-400")),cT(t.Button,"inheritContainedBg",n("palette-grey-300")),cT(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),cT(t.Chip,"defaultBorder",n("palette-grey-400")),cT(t.Chip,"defaultAvatarColor",n("palette-grey-700")),cT(t.Chip,"defaultIconColor",n("palette-grey-700")),cT(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),cT(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),cT(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),cT(t.LinearProgress,"primaryBg",dC(t.primary.main,.62)),cT(t.LinearProgress,"secondaryBg",dC(t.secondary.main,.62)),cT(t.LinearProgress,"errorBg",dC(t.error.main,.62)),cT(t.LinearProgress,"infoBg",dC(t.info.main,.62)),cT(t.LinearProgress,"successBg",dC(t.success.main,.62)),cT(t.LinearProgress,"warningBg",dC(t.warning.main,.62)),cT(t.Skeleton,"bg","rgba(".concat(n("palette-text-primaryChannel")," / 0.11)")),cT(t.Slider,"primaryTrack",dC(t.primary.main,.62)),cT(t.Slider,"secondaryTrack",dC(t.secondary.main,.62)),cT(t.Slider,"errorTrack",dC(t.error.main,.62)),cT(t.Slider,"infoTrack",dC(t.info.main,.62)),cT(t.Slider,"successTrack",dC(t.success.main,.62)),cT(t.Slider,"warningTrack",dC(t.warning.main,.62));const e=fC(t.background.default,.8);cT(t.SnackbarContent,"bg",e),cT(t.SnackbarContent,"color",dT((()=>t.getContrastText(e)))),cT(t.SpeedDialAction,"fabHoverBg",fC(t.background.paper,.15)),cT(t.StepConnector,"border",n("palette-grey-400")),cT(t.StepContent,"border",n("palette-grey-400")),cT(t.Switch,"defaultColor",n("palette-common-white")),cT(t.Switch,"defaultDisabledColor",n("palette-grey-100")),cT(t.Switch,"primaryDisabledColor",dC(t.primary.main,.62)),cT(t.Switch,"secondaryDisabledColor",dC(t.secondary.main,.62)),cT(t.Switch,"errorDisabledColor",dC(t.error.main,.62)),cT(t.Switch,"infoDisabledColor",dC(t.info.main,.62)),cT(t.Switch,"successDisabledColor",dC(t.success.main,.62)),cT(t.Switch,"warningDisabledColor",dC(t.warning.main,.62)),cT(t.TableCell,"border",dC(lC(t.divider,1),.88)),cT(t.Tooltip,"bg",lC(t.grey[700],.92))}if("dark"===t.mode){cT(t.Alert,"errorColor",dC(t.error.light,.6)),cT(t.Alert,"infoColor",dC(t.info.light,.6)),cT(t.Alert,"successColor",dC(t.success.light,.6)),cT(t.Alert,"warningColor",dC(t.warning.light,.6)),cT(t.Alert,"errorFilledBg",n("palette-error-dark")),cT(t.Alert,"infoFilledBg",n("palette-info-dark")),cT(t.Alert,"successFilledBg",n("palette-success-dark")),cT(t.Alert,"warningFilledBg",n("palette-warning-dark")),cT(t.Alert,"errorFilledColor",dT((()=>t.getContrastText(t.error.dark)))),cT(t.Alert,"infoFilledColor",dT((()=>t.getContrastText(t.info.dark)))),cT(t.Alert,"successFilledColor",dT((()=>t.getContrastText(t.success.dark)))),cT(t.Alert,"warningFilledColor",dT((()=>t.getContrastText(t.warning.dark)))),cT(t.Alert,"errorStandardBg",uC(t.error.light,.9)),cT(t.Alert,"infoStandardBg",uC(t.info.light,.9)),cT(t.Alert,"successStandardBg",uC(t.success.light,.9)),cT(t.Alert,"warningStandardBg",uC(t.warning.light,.9)),cT(t.Alert,"errorIconColor",n("palette-error-main")),cT(t.Alert,"infoIconColor",n("palette-info-main")),cT(t.Alert,"successIconColor",n("palette-success-main")),cT(t.Alert,"warningIconColor",n("palette-warning-main")),cT(t.AppBar,"defaultBg",n("palette-grey-900")),cT(t.AppBar,"darkBg",n("palette-background-paper")),cT(t.AppBar,"darkColor",n("palette-text-primary")),cT(t.Avatar,"defaultBg",n("palette-grey-600")),cT(t.Button,"inheritContainedBg",n("palette-grey-800")),cT(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),cT(t.Chip,"defaultBorder",n("palette-grey-700")),cT(t.Chip,"defaultAvatarColor",n("palette-grey-300")),cT(t.Chip,"defaultIconColor",n("palette-grey-300")),cT(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),cT(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),cT(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),cT(t.LinearProgress,"primaryBg",uC(t.primary.main,.5)),cT(t.LinearProgress,"secondaryBg",uC(t.secondary.main,.5)),cT(t.LinearProgress,"errorBg",uC(t.error.main,.5)),cT(t.LinearProgress,"infoBg",uC(t.info.main,.5)),cT(t.LinearProgress,"successBg",uC(t.success.main,.5)),cT(t.LinearProgress,"warningBg",uC(t.warning.main,.5)),cT(t.Skeleton,"bg","rgba(".concat(n("palette-text-primaryChannel")," / 0.13)")),cT(t.Slider,"primaryTrack",uC(t.primary.main,.5)),cT(t.Slider,"secondaryTrack",uC(t.secondary.main,.5)),cT(t.Slider,"errorTrack",uC(t.error.main,.5)),cT(t.Slider,"infoTrack",uC(t.info.main,.5)),cT(t.Slider,"successTrack",uC(t.success.main,.5)),cT(t.Slider,"warningTrack",uC(t.warning.main,.5));const e=fC(t.background.default,.98);cT(t.SnackbarContent,"bg",e),cT(t.SnackbarContent,"color",dT((()=>t.getContrastText(e)))),cT(t.SpeedDialAction,"fabHoverBg",fC(t.background.paper,.15)),cT(t.StepConnector,"border",n("palette-grey-600")),cT(t.StepContent,"border",n("palette-grey-600")),cT(t.Switch,"defaultColor",n("palette-grey-300")),cT(t.Switch,"defaultDisabledColor",n("palette-grey-600")),cT(t.Switch,"primaryDisabledColor",uC(t.primary.main,.55)),cT(t.Switch,"secondaryDisabledColor",uC(t.secondary.main,.55)),cT(t.Switch,"errorDisabledColor",uC(t.error.main,.55)),cT(t.Switch,"infoDisabledColor",uC(t.info.main,.55)),cT(t.Switch,"successDisabledColor",uC(t.success.main,.55)),cT(t.Switch,"warningDisabledColor",uC(t.warning.main,.55)),cT(t.TableCell,"border",uC(lC(t.divider,1),.68)),cT(t.Tooltip,"bg",lC(t.grey[700],.92))}hT(t.background,"default"),hT(t.background,"paper"),hT(t.common,"background"),hT(t.common,"onBackground"),hT(t,"divider"),Object.keys(t).forEach((e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&cT(t[e],"mainChannel",iC(uT(n.main))),n.light&&cT(t[e],"lightChannel",iC(uT(n.light))),n.dark&&cT(t[e],"darkChannel",iC(uT(n.dark))),n.contrastText&&cT(t[e],"contrastTextChannel",iC(uT(n.contrastText))),"text"===e&&(hT(t[e],"primary"),hT(t[e],"secondary")),"action"===e&&(n.active&&hT(t[e],"active"),n.selected&&hT(t[e],"selected")))}))}));for(var S=arguments.length,E=new Array(S>1?S-1:0),C=1;C<S;C++)E[C-1]=arguments[C];x=E.reduce(((e,t)=>DS(e,t)),x);const T={prefix:i,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:oT(x)},{vars:_,generateThemeVars:A,generateStyleSheets:N}=DC(x,T);return x.vars=_,Object.entries(x.colorSchemes[x.defaultColorScheme]).forEach((e=>{let[t,n]=e;x[t]=n})),x.generateThemeVars=A,x.generateStyleSheets=N,x.generateSpacing=function(){return cE(h.spacing,nE(this))},x.getColorSchemeSelector=function(e){return function(t){return"media"===e?"@media (prefers-color-scheme: ".concat(t,")"):e?e.startsWith("data-")&&!e.includes("%s")?"[".concat(e,'="').concat(t,'"] &'):"class"===e?".".concat(t," &"):"data"===e?"[data-".concat(t,"] &"):"".concat(e.replace("%s",t)," &"):"&"}}(l),x.spacing=x.generateSpacing(),x.shouldSkipGeneratingVar=o,x.unstable_sxConfig=u(u({},FE),null===h||void 0===h?void 0:h.unstable_sxConfig),x.unstable_sx=function(e){return VE({sx:e,theme:this})},x.toRuntimeSource=XC,x}const mT=["palette","cssVariables","colorSchemes","defaultColorScheme"];function gT(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]=u(u({},!0!==n&&n),{},{palette:AC(u(u({},!0===n?{}:n.palette),{},{mode:t}))}))}const yT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:i=(null===t||void 0===t?void 0:t.mode)}=e,o=s(e,mT),a=i||"light",l=null===r||void 0===r?void 0:r[a],c=u(u({},r),t?{[a]:u(u({},"boolean"!==typeof l&&l),{},{palette:t})}:void 0);for(var h=arguments.length,d=new Array(h>1?h-1:0),f=1;f<h;f++)d[f-1]=arguments[f];if(!1===n){if(!("colorSchemes"in e))return ZC(e,...d);let n=t;"palette"in e||c[a]&&(!0!==c[a]?n=c[a].palette:"dark"===a&&(n={mode:"dark"}));const r=ZC(u(u({},e),{},{palette:n}),...d);return r.defaultColorScheme=a,r.colorSchemes=c,"light"===r.palette.mode&&(r.colorSchemes.light=u(u({},!0!==c.light&&c.light),{},{palette:r.palette}),gT(r,"dark",c.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark=u(u({},!0!==c.dark&&c.dark),{},{palette:r.palette}),gT(r,"light",c.light)),r}return t||"light"in c||"light"!==a||(c.light=!0),pT(u(u({},o),{},{colorSchemes:c,defaultColorScheme:a},"boolean"!==typeof n&&n),...d)}();const vT=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},bT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=YE,rootShouldForwardProp:r=QE,slotShouldForwardProp:i=QE}=e;function o(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(e=>e.filter((e=>e!==VE))));const{name:n,slot:a,skipVariantsResolver:l,skipSx:c,overridesResolver:h=XE(eC(a))}=t,d=s(t,GE),f=void 0!==l?l:a&&"Root"!==a&&"root"!==a||!1,p=c||!1;let m=QE;"Root"===a||"root"===a?m=r:a?m=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=function(e,t){return NS(e,t)}(e,u({shouldForwardProp:m,label:ZE(n,a)},d)),y=e=>{if("function"===typeof e&&e.__emotion_real!==e)return function(t){return $E(t,e)};if(RS(e)){const t=WE(e);return t.variants?function(e){return $E(e,t)}:t.style}return e},v=function(){const t=[];for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const a=i.map(y),l=[];if(t.push(o),n&&h&&l.push((function(e){var t;const r=null===(t=e.theme.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.styleOverrides;if(!r)return null;const i={};for(const n in r)i[n]=$E(e,r[n]);return h(e,i)})),n&&!f&&l.push((function(e){var t;const r=e.theme,i=null===r||void 0===r||null===(t=r.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.variants;return i?JE(e,i):null})),p||l.push(VE),Array.isArray(a[0])){const e=a.shift(),n=new Array(t.length).fill(""),r=new Array(l.length).fill("");let i;i=[...n,...e,...r],i.raw=[...n,...e.raw,...r],t.unshift(i)}const c=[...t,...a,...l],u=g(...c);return e.muiName&&(u.muiName=e.muiName),u};return g.withConfig&&(v.withConfig=g.withConfig),v}}({themeId:"$$material",defaultTheme:yT,rootShouldForwardProp:e=>vT(e)&&"classes"!==e}),wT=bT,xT={theme:void 0};const kT=function(e){let t,n;return function(r){let i=t;return void 0!==i&&r.theme===n||(xT.theme=r.theme,i=WE(e(xT)),t=i,n=r.theme),i}},ST=kT;function ET(e,t){const n=u({},t);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if("components"===i||"slots"===i)n[i]=u(u({},e[i]),n[i]);else if("componentsProps"===i||"slotProps"===i){const r=e[i],s=t[i];if(s)if(r){n[i]=u({},s);for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=e;n[i][t]=ET(r[t],s[t])}}else n[i]=s;else n[i]=r||{}}else void 0===n[i]&&(n[i]=e[i])}return n}const CT=t.createContext(void 0);function TT(e){let{props:n,name:r}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?ET(i.defaultProps,r):i.styleOverrides||i.variants?r:ET(i,r)}({props:n,name:r,theme:{components:t.useContext(CT)}})}const _T=e=>e,AT=(()=>{let e=_T;return{configure(t){e=t},generate:t=>e(t),reset(){e=_T}}})(),NT={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function IT(e,t){const n=NT[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(AT.generate(e),"-").concat(t)}function PT(e){return IT("MuiSvgIcon",e)}!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};t.forEach((t=>{r[t]=IT(e,t,n)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const RT=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],jT=wT("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(ek(n.color))],t["fontSize".concat(ek(n.fontSize))]]}})(ST((e=>{var t,n,r,i,s,o,a,l,c,u,h,d,f,p,m;let{theme:g}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:null===(t=g.transitions)||void 0===t||null===(n=t.create)||void 0===n?void 0:n.call(t,"fill",{duration:null===(r=(null!==(i=g.vars)&&void 0!==i?i:g).transitions)||void 0===r||null===(r=r.duration)||void 0===r?void 0:r.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:(null===(s=g.typography)||void 0===s||null===(o=s.pxToRem)||void 0===o?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:(null===(a=g.typography)||void 0===a||null===(l=a.pxToRem)||void 0===l?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:(null===(c=g.typography)||void 0===c||null===(u=c.pxToRem)||void 0===u?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((null!==(h=g.vars)&&void 0!==h?h:g).palette).filter((e=>{let[,t]=e;return t&&t.main})).map((e=>{var t,n;let[r]=e;return{props:{color:r},style:{color:null===(t=(null!==(n=g.vars)&&void 0!==n?n:g).palette)||void 0===t||null===(t=t[r])||void 0===t?void 0:t.main}}})),{props:{color:"action"},style:{color:null===(d=(null!==(f=g.vars)&&void 0!==f?f:g).palette)||void 0===d||null===(d=d.action)||void 0===d?void 0:d.active}},{props:{color:"disabled"},style:{color:null===(p=(null!==(m=g.vars)&&void 0!==m?m:g).palette)||void 0===p||null===(p=p.action)||void 0===p?void 0:p.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}}))),DT=t.forwardRef((function(e,n){const r=TT({props:e,name:"MuiSvgIcon"});const{children:i,className:o,color:a="inherit",component:l="svg",fontSize:c="medium",htmlColor:h,inheritViewBox:d=!1,titleAccess:f,viewBox:p="0 0 24 24"}=r,m=s(r,RT),g=t.isValidElement(i)&&"svg"===i.type,y=u(u({},r),{},{color:a,component:l,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:p,hasSvgAsChild:g}),v={};d||(v.viewBox=p);const b=(e=>{const{color:t,fontSize:n,classes:r}=e;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const i in e){const s=e[i];let o="",a=!0;for(let e=0;e<s.length;e+=1){const r=s[e];r&&(o+=(!0===a?"":" ")+t(r),a=!1,n&&n[r]&&(o+=" "+n[r]))}r[i]=o}return r}({root:["root","inherit"!==t&&"color".concat(ek(t)),"fontSize".concat(ek(n))]},PT,r)})(y);return(0,Vw.jsxs)(jT,u(u(u(u({as:l,className:$x(b.root,o),focusable:"false",color:h,"aria-hidden":!f||void 0,role:f?"img":void 0,ref:n},v),m),g&&i.props),{},{ownerState:y,children:[g?i.props.children:i,f?(0,Vw.jsx)("title",{children:f}):null]}))}));DT.muiName="SvgIcon";const OT=DT;function LT(e,n){function r(t,r){return(0,Vw.jsx)(OT,u(u({"data-testid":"".concat(n,"Icon"),ref:r},t),{},{children:e}))}return r.muiName=OT.muiName,t.memo(t.forwardRef(r))}const MT=LT((0,Vw.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),FT=LT((0,Vw.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Mail"),UT=LT((0,Vw.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"Group"),VT=LT((0,Vw.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat"),BT=LT((0,Vw.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),zT=()=>(0,Vw.jsxs)("div",{className:"tab-bar",children:[(0,Vw.jsx)(dt,{to:"/home",className:"tab-item",children:(0,Vw.jsx)(MT,{className:"icon"})}),(0,Vw.jsx)(dt,{to:"/messages",className:"tab-item",children:(0,Vw.jsx)(FT,{className:"icon"})}),(0,Vw.jsx)(dt,{to:"/community",className:"tab-item",children:(0,Vw.jsx)(UT,{className:"icon"})}),(0,Vw.jsx)(dt,{to:"/lio",className:"tab-item",children:(0,Vw.jsx)(VT,{className:"icon"})}),(0,Vw.jsx)(dt,{to:"/profile",className:"tab-item",children:(0,Vw.jsx)(BT,{className:"icon"})})]}),qT=()=>{he();const e=()=>{Ix("Coming Soon!",{icon:"\ud83d\ude80",style:{backgroundColor:"#2b2d3b",color:"#fff",fontSize:"16px",borderRadius:"8px",boxShadow:"0 0 15px rgba(255, 255, 255, 0.2)"},duration:3e3})};return(0,Vw.jsxs)("div",{className:"home-container",children:[(0,Vw.jsxs)("div",{className:"features-grid",children:[(0,Vw.jsx)("div",{className:"feature-card",children:(0,Vw.jsx)(Qx,{})}),(0,Vw.jsxs)("div",{onClick:e,children:[(0,Vw.jsx)("h3",{children:"Notes"}),(0,Vw.jsx)("p",{children:"AI-powered note summarization"})]}),(0,Vw.jsxs)("div",{onClick:e,children:[(0,Vw.jsx)("h3",{children:"Practice"}),(0,Vw.jsx)("p",{children:"Test your knowledge"})]}),(0,Vw.jsxs)("div",{onClick:e,children:[(0,Vw.jsx)("h3",{children:"Analytics"}),(0,Vw.jsx)("p",{children:"Track your progress"})]})]}),(0,Vw.jsx)(zT,{})]})};const HT=function(){var e;const[n,r]=(0,t.useState)(!0),[i,s]=(0,t.useState)(null),[o,a]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),[h,d]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)(""),[y,v]=(0,t.useState)(""),[b,w]=(0,t.useState)(!1),[x,k]=(0,t.useState)(!1),[S,E]=(0,t.useState)(""),[C,T]=(0,t.useState)("");return(0,t.useEffect)((()=>{if(gb.currentUser){(async()=>{const e=$y(yb,"users",gb.currentUser.uid),t=await nb(e);t.exists()&&(s(t.data()),p(t.data().username),g(t.data().name),v(t.data().class)),r(!1)})()}else r(!1)}),[]),n?(0,Vw.jsx)("div",{className:"loading",children:"Loading..."}):gb.currentUser?(0,Vw.jsxs)("div",{className:"profile-container",children:[(0,Vw.jsxs)("div",{className:"profile-header",children:[(0,Vw.jsxs)("div",{className:"profile-avatar",children:[(0,Vw.jsx)("img",{src:(null===i||void 0===i?void 0:i.photoURL)||"/default-avatar.png",alt:"Profile"}),(0,Vw.jsx)("label",{htmlFor:"file-input",className:"pencil-icon",children:"\u270f\ufe0f"}),(0,Vw.jsx)("input",{type:"file",id:"file-input",accept:"image/*",onChange:async e=>{const t=e.target.files?e.target.files[0]:null;if(t){c(t);const e=new FormData;e.append("file",t),e.append("upload_preset","your-upload-preset");try{const t=await fetch("https://api.cloudinary.com/v1_1/".concat("dfqyzvyuh","/image/upload"),{method:"POST",body:e}),n=(await t.json()).secure_url;n&&(await ob($y(yb,"users",gb.currentUser.uid),{photoURL:n}),s(u(u({},i),{},{photoURL:n})))}catch(n){console.error("Error uploading image",n)}}else console.log("No file selected")},style:{display:"none"}})]}),(0,Vw.jsxs)("div",{className:"profile-stats",children:[(0,Vw.jsxs)("div",{className:"stat-item",children:[(0,Vw.jsx)("span",{className:"stat-value",children:(null===i||void 0===i?void 0:i.posts)||0}),(0,Vw.jsx)("span",{className:"stat-label",children:"Posts"})]}),(0,Vw.jsxs)("div",{className:"stat-item",children:[(0,Vw.jsx)("span",{className:"stat-value",children:(null===i||void 0===i||null===(e=i.friends)||void 0===e?void 0:e.length)||0}),(0,Vw.jsx)("span",{className:"stat-label",children:"Friends"})]}),(0,Vw.jsxs)("div",{className:"stat-item",children:[(0,Vw.jsx)("span",{className:"stat-value",children:(null===i||void 0===i?void 0:i.likes)||0}),(0,Vw.jsx)("span",{className:"stat-label",children:"Likes"})]})]})]}),(0,Vw.jsxs)("div",{className:"profile-info",children:[(0,Vw.jsx)("h1",{children:null===i||void 0===i?void 0:i.name}),(0,Vw.jsxs)("p",{className:"username",children:["@",null===i||void 0===i?void 0:i.username]}),b?(0,Vw.jsxs)("div",{children:[(0,Vw.jsx)("input",{type:"text",value:f,onChange:e=>p(e.target.value),placeholder:"Edit your username"}),(0,Vw.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"Edit your name"}),(0,Vw.jsx)("input",{type:"text",value:y,onChange:e=>v(e.target.value),placeholder:"Edit your class"}),(0,Vw.jsx)("textarea",{value:h,onChange:e=>d(e.target.value),placeholder:"Edit your bio"}),(0,Vw.jsx)("button",{onClick:async()=>{if(f!==(null===i||void 0===i?void 0:i.username)||m!==(null===i||void 0===i?void 0:i.name)||y!==(null===i||void 0===i?void 0:i.class)||h!==(null===i||void 0===i?void 0:i.bio))try{await ob($y(yb,"users",gb.currentUser.uid),{username:f,name:m,class:y,bio:h}),s(u(u({},i),{},{username:f,name:m,class:y,bio:h})),w(!1)}catch(e){console.error("Error updating profile",e)}},children:"Save Changes"})]}):(0,Vw.jsx)("p",{className:"bio",children:(null===i||void 0===i?void 0:i.bio)||"No bio yet"})]}),(0,Vw.jsxs)("div",{className:"profile-details",children:[(0,Vw.jsxs)("div",{className:"detail-item",children:[(0,Vw.jsx)("span",{className:"label",children:"Email:"}),(0,Vw.jsx)("span",{className:"value",children:gb.currentUser.email})]}),(0,Vw.jsxs)("div",{className:"detail-item",children:[(0,Vw.jsx)("span",{className:"label",children:"Class:"}),(0,Vw.jsx)("span",{className:"value",children:null===i||void 0===i?void 0:i.class})]}),(0,Vw.jsxs)("div",{className:"detail-item",children:[(0,Vw.jsx)("span",{className:"label",children:"Age:"}),(0,Vw.jsx)("span",{className:"value",children:null===i||void 0===i?void 0:i.age})]})]}),(0,Vw.jsx)("div",{className:"verification-status",children:gb.currentUser.emailVerified?(0,Vw.jsx)("p",{className:"verified",children:"\u2705 Email Verified"}):(0,Vw.jsxs)("div",{className:"not-verified",children:[(0,Vw.jsx)("p",{children:"\u274c Email Not Verified"}),!o&&(0,Vw.jsx)("button",{onClick:async()=>{gb.currentUser&&!gb.currentUser.emailVerified&&(await ls(gb.currentUser),a(!0))},children:"Resend Verification Email"})]})}),(0,Vw.jsxs)("div",{className:"profile-actions",children:[(0,Vw.jsx)("button",{onClick:()=>{w(!b)},className:"edit-profile",children:b?"Cancel":"Edit Profile"}),(0,Vw.jsx)("button",{onClick:()=>k(!x),className:"settings",children:"Settings"}),(0,Vw.jsx)("button",{onClick:async()=>{await function(e){return qt(e).signOut()}(gb)},className:"sign-out",children:"Sign Out"})]}),x&&(0,Vw.jsxs)("div",{className:"settings-container",children:[(0,Vw.jsx)("h3",{children:"Update Email:"}),(0,Vw.jsx)("input",{type:"email",value:C,onChange:e=>T(e.target.value),placeholder:"Enter new email"}),(0,Vw.jsx)("button",{onClick:async()=>{if(C)try{await function(e,t){return cs(qt(e),t,null)}(gb.currentUser,C),alert("Email updated successfully!")}catch(e){console.error("Error updating email",e)}},children:"Change Email"}),(0,Vw.jsx)("h3",{children:"Reset Password:"}),(0,Vw.jsx)("input",{type:"password",value:S,onChange:e=>E(e.target.value),placeholder:"Enter new password"}),(0,Vw.jsx)("button",{onClick:async()=>{if(S)try{await function(e,t){return cs(qt(e),null,t)}(gb.currentUser,S),alert("Password updated successfully!")}catch(e){console.error("Error resetting password",e)}},children:"Reset Password"})]}),(0,Vw.jsx)(zT,{})]}):(0,Vw.jsx)(_e,{to:"/login"})};function WT(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function KT(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const GT=e=>Array.isArray(e);function YT(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function QT(e){return"string"===typeof e||Array.isArray(e)}function XT(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function $T(e,t,n,r){if("function"===typeof t){const[i,s]=XT(r);t=t(void 0!==n?n:e.custom,i,s)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,s]=XT(r);t=t(void 0!==n?n:e.custom,i,s)}return t}function JT(e,t,n){const r=e.getProps();return $T(r,t,void 0!==n?n:r.custom,e)}const ZT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],e_=["initial",...ZT],t_=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],n_=new Set(t_),r_=e=>1e3*e,i_=e=>e/1e3,s_={type:"spring",stiffness:500,damping:25,restSpeed:10},o_={type:"keyframes",duration:.8},a_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},l_=(e,t)=>{let{keyframes:n}=t;return n.length>2?o_:n_.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:s_:a_};function c_(e,t){return e?e[t]||e.default||e:void 0}const u_=!1,h_=!1,d_=!1,f_=e=>null!==e;function p_(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const s=e.filter(f_),o=r&&"loop"!==i&&r%2===1?0:s.length-1;return o&&void 0!==n?n:s[o]}const m_=e=>e;const g_=["read","resolveKeyframes","update","preRender","render","postRender"];function y_(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=g_.reduce(((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(t){s.has(t)&&(l.schedule(t),e()),t(o)}const l={schedule:function(e){const i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),i.has(e)||i.add(e),e},cancel:e=>{n.delete(e),s.delete(e)},process:e=>{o=e,r?i=!0:(r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(e)))}};return l}(s),e)),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:d}=o,f=()=>{const s=h_?i.timestamp:performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),h.process(i),d.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(f))},p=g_.reduce(((t,s)=>{const a=o[s];return t[s]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(f)),a.schedule(t,s,o)},t}),{});return{schedule:p,cancel:e=>{for(let t=0;t<g_.length;t++)o[g_[t]].cancel(e)},state:i,steps:o}}const{schedule:v_,cancel:b_,state:w_,steps:x_}=y_("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:m_,!0),k_=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function S_(e,t,n,r){if(e===t&&n===r)return m_;const i=t=>function(e,t,n,r,i){let s,o,a=0;do{o=t+(n-t)/2,s=k_(o,r,i)-e,s>0?n=o:t=o}while(Math.abs(s)>1e-7&&++a<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:k_(i(e),t,r)}const E_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,C_=e=>t=>1-e(1-t),T_=S_(.33,1.53,.69,.99),__=C_(T_),A_=E_(__),N_=e=>(e*=2)<1?.5*__(e):.5*(2-Math.pow(2,-10*(e-1))),I_=e=>1-Math.sin(Math.acos(e)),P_=C_(I_),R_=E_(I_),j_=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function D_(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||j_(e))}let O_=m_,L_=m_;const M_=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),F_=e=>t=>"string"===typeof t&&t.startsWith(e),U_=F_("--"),V_=F_("var(--"),B_=e=>!!V_(e)&&z_.test(e.split("/*")[0].trim()),z_=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,q_=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function H_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;L_(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=q_.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(null!==n&&void 0!==n?n:r),i]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return M_(e)?parseFloat(e):e}return B_(i)?H_(i,t,n+1):i}const W_=(e,t,n)=>n>t?t:n<e?e:n,K_={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},G_=u(u({},K_),{},{transform:e=>W_(0,1,e)}),Y_=u(u({},K_),{},{default:1}),Q_=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),X_=Q_("deg"),$_=Q_("%"),J_=Q_("px"),Z_=Q_("vh"),eA=Q_("vw"),tA=u(u({},$_),{},{parse:e=>$_.parse(e)/100,transform:e=>$_.transform(100*e)}),nA=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),rA=e=>e===K_||e===J_,iA=(e,t)=>parseFloat(e.split(", ")[t]),sA=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);if(s)return iA(s[1],t);{const t=i.match(/^matrix\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);return t?iA(t[1],e):0}},oA=new Set(["x","y","z"]),aA=t_.filter((e=>!oA.has(e)));const lA={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:sA(4,13),y:sA(5,14)};lA.translateX=lA.x,lA.translateY=lA.y;const cA=e=>t=>t.test(e),uA=[K_,J_,$_,X_,eA,Z_,{test:e=>"auto"===e,parse:e=>e}],hA=e=>uA.find(cA(e)),dA=new Set;let fA=!1,pA=!1;function mA(){if(pA){const e=Array.from(dA).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return aA.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;var i;null===(i=e.getValue(n))||void 0===i||i.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}pA=!1,fA=!1,dA.forEach((e=>e.complete())),dA.clear()}function gA(){dA.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(pA=!0)}))}class yA{constructor(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(dA.add(this),fA||(fA=!0,v_.read(gA),v_.resolveKeyframes(mA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let i=0;i<e.length;i++)if(null===e[i])if(0===i){const i=null===r||void 0===r?void 0:r.get(),s=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,s);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=s),r&&void 0===i&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),dA.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,dA.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const vA=e=>Math.round(1e5*e)/1e5,bA=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const wA=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,xA=(e,t)=>n=>Boolean("string"===typeof n&&wA.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),kA=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,s,o,a]=r.match(bA);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},SA=u(u({},K_),{},{transform:e=>Math.round((e=>W_(0,255,e))(e))}),EA={test:xA("rgb","red"),parse:kA("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+SA.transform(t)+", "+SA.transform(n)+", "+SA.transform(r)+", "+vA(G_.transform(i))+")"}};const CA={test:xA("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:EA.transform},TA={test:xA("hsl","hue"),parse:kA("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+$_.transform(vA(n))+", "+$_.transform(vA(r))+", "+vA(G_.transform(i))+")"}},_A={test:e=>EA.test(e)||CA.test(e)||TA.test(e),parse:e=>EA.test(e)?EA.parse(e):TA.test(e)?TA.parse(e):CA.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?EA.transform(e):TA.transform(e)},AA=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const NA="number",IA="color",PA=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function RA(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=t.replace(PA,(e=>(_A.test(e)?(r.color.push(s),i.push(IA),n.push(_A.parse(e))):e.startsWith("var(")?(r.var.push(s),i.push("var"),n.push(e)):(r.number.push(s),i.push(NA),n.push(parseFloat(e))),++s,"${}"))).split("${}");return{values:n,split:o,indexes:r,types:i}}function jA(e){return RA(e).values}function DA(e){const{split:t,types:n}=RA(e),r=t.length;return e=>{let i="";for(let s=0;s<r;s++)if(i+=t[s],void 0!==e[s]){const t=n[s];i+=t===NA?vA(e[s]):t===IA?_A.transform(e[s]):e[s]}return i}}const OA=e=>"number"===typeof e?0:e;const LA={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(bA))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(AA))||void 0===n?void 0:n.length)||0)>0},parse:jA,createTransformer:DA,getAnimatableNone:function(e){const t=jA(e);return DA(e)(t.map(OA))}},MA=new Set(["brightness","contrast","saturate","opacity"]);function FA(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(bA)||[];if(!r)return e;const i=n.replace(r,"");let s=MA.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const UA=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,VA=u(u({},LA),{},{getAnimatableNone:e=>{const t=e.match(UA);return t?t.map(FA).join(" "):e}}),BA={borderWidth:J_,borderTopWidth:J_,borderRightWidth:J_,borderBottomWidth:J_,borderLeftWidth:J_,borderRadius:J_,radius:J_,borderTopLeftRadius:J_,borderTopRightRadius:J_,borderBottomRightRadius:J_,borderBottomLeftRadius:J_,width:J_,maxWidth:J_,height:J_,maxHeight:J_,top:J_,right:J_,bottom:J_,left:J_,padding:J_,paddingTop:J_,paddingRight:J_,paddingBottom:J_,paddingLeft:J_,margin:J_,marginTop:J_,marginRight:J_,marginBottom:J_,marginLeft:J_,backgroundPositionX:J_,backgroundPositionY:J_},zA={rotate:X_,rotateX:X_,rotateY:X_,rotateZ:X_,scale:Y_,scaleX:Y_,scaleY:Y_,scaleZ:Y_,skew:X_,skewX:X_,skewY:X_,distance:J_,translateX:J_,translateY:J_,translateZ:J_,x:J_,y:J_,z:J_,perspective:J_,transformPerspective:J_,opacity:G_,originX:tA,originY:tA,originZ:J_},qA=u(u({},K_),{},{transform:Math.round}),HA=u(u(u({},BA),zA),{},{zIndex:qA,size:J_,fillOpacity:G_,strokeOpacity:G_,numOctaves:qA}),WA=u(u({},HA),{},{color:_A,backgroundColor:_A,outlineColor:_A,fill:_A,stroke:_A,borderColor:_A,borderTopColor:_A,borderRightColor:_A,borderBottomColor:_A,borderLeftColor:_A,filter:VA,WebkitFilter:VA}),KA=e=>WA[e];function GA(e,t){let n=KA(e);return n!==VA&&(n=LA),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const YA=new Set(["auto","none","0"]);class QA extends yA{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),B_(n))){const r=H_(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!nA.has(n)||2!==e.length)return;const[r,i]=e,s=hA(r),o=hA(i);if(s!==o)if(rA(s)&&rA(o))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)D_(e[r])&&n.push(r);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!YA.has(t)&&RA(t).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=GA(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lA[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=lA[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}function XA(e){return"function"===typeof e}let $A;function JA(){$A=void 0}const ZA={now:()=>(void 0===$A&&ZA.set(w_.isProcessing||h_?w_.timestamp:performance.now()),$A),set:e=>{$A=e,queueMicrotask(JA)}},eN=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!LA.test(e)&&"0"!==e||e.startsWith("url(")));function tN(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],o=eN(i,t),a=eN(s,t);return O_(o===a,"You are trying to animate ".concat(t,' from "').concat(i,'" to "').concat(s,'". ').concat(i," is not an animatable value - to enable this animation set ").concat(i," to a value animatable to ").concat(s," via the `style` property.")),!(!o||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||XA(n))&&r)}const nN=["autoplay","delay","type","repeat","repeatDelay","repeatType"];class rN{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop"}=e,l=s(e,nN);this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ZA.now(),this.options=u({autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:a},l),this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(gA(),mA()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ZA.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:s,onComplete:o,onUpdate:a,isGenerator:l}=this.options;if(!l&&!tN(e,n,r,i)){if(d_||!s)return null===a||void 0===a||a(p_(e,this.options,t)),null===o||void 0===o||o(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved=u({keyframes:e,finalKeyframe:t},c),this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}const iN=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},sN=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(iN(0,i-1,s))+", ";return"linear(".concat(r.substring(0,r.length-2),")")};function oN(e,t){return t?e*(1e3/t):0}function aN(e,t,n){const r=Math.max(t-5,0);return oN(n-e(r),t-r)}const lN={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cN=.001;function uN(e){let t,n,{duration:r=lN.duration,bounce:i=lN.bounce,velocity:s=lN.velocity,mass:o=lN.mass}=e;O_(r<=r_(lN.maxDuration),"Spring duration must be 10 seconds or less");let a=1-i;a=W_(lN.minDamping,lN.maxDamping,a),r=W_(lN.minDuration,lN.maxDuration,i_(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-s,o=dN(e,a),l=Math.exp(-n);return cN-i/o*l},n=e=>{const n=e*a*r,i=n*s+s,o=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=dN(Math.pow(e,2),a);return(-t(e)+cN>0?-1:1)*((i-o)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<hN;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=r_(r),isNaN(l))return{stiffness:lN.stiffness,damping:lN.damping,duration:r};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*a*Math.sqrt(o*e),duration:r}}}const hN=12;function dN(e,t){return e*Math.sqrt(1-t*t)}const fN=2e4;function pN(e){let t=0;let n=e.next(t);for(;!n.done&&t<fN;)t+=50,n=e.next(t);return t>=fN?1/0:t}const mN=["duration","bounce"],gN=["stiffness","damping","mass"];function yN(e,t){return t.some((t=>void 0!==e[t]))}function vN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lN.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lN.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:h,duration:d,velocity:f,isResolvedFromDuration:p}=function(e){let t=u({velocity:lN.velocity,stiffness:lN.stiffness,damping:lN.damping,mass:lN.mass,isResolvedFromDuration:!1},e);if(!yN(e,gN)&&yN(e,mN))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,s=2*W_(.05,1,1-e.bounce)*Math.sqrt(i);t=u(u({},t),{},{mass:lN.mass,stiffness:i,damping:s})}else{const n=uN(e);t=u(u(u({},t),n),{},{mass:lN.mass}),t.isResolvedFromDuration=!0}return t}(u(u({},n),{},{velocity:-i_(n.velocity||0)})),m=f||0,g=c/(2*Math.sqrt(l*h)),y=o-s,v=i_(Math.sqrt(l/h)),b=Math.abs(y)<5;let w;if(r||(r=b?lN.restSpeed.granular:lN.restSpeed.default),i||(i=b?lN.restDelta.granular:lN.restDelta.default),g<1){const e=dN(v,g);w=t=>{const n=Math.exp(-g*v*t);return o-n*((m+g*v*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}}else if(1===g)w=e=>o-Math.exp(-v*e)*(y+(m+v*y)*e);else{const e=v*Math.sqrt(g*g-1);w=t=>{const n=Math.exp(-g*v*t),r=Math.min(e*t,300);return o-n*((m+g*v*y)*Math.sinh(r)+e*y*Math.cosh(r))/e}}const x={calculatedDuration:p&&d||null,next:e=>{const t=w(e);if(p)a.done=e>=d;else{let n=0;g<1&&(n=0===e?r_(m):aN(w,e,t));const s=Math.abs(n)<=r,l=Math.abs(o-t)<=i;a.done=s&&l}return a.value=a.done?o:t,a},toString:()=>{const e=Math.min(pN(x),fN),t=sN((t=>x.next(e*t).value),e,30);return e+"ms "+t}};return x}function bN(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=d+m,y=void 0===a?g:a(g);y!==g&&(m=y-d);const v=e=>-m*Math.exp(-e/i),b=e=>y+v(e),w=e=>{const t=v(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let x,k;const S=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(x=e,k=vN({keyframes:[f.value,p(f.value)],velocity:aN(b,e,f.value),damping:s,stiffness:o,restDelta:u,restSpeed:h}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return k||void 0!==x||(t=!0,w(e),S(e)),void 0!==x&&e>=x?k.next(e-x):(!t&&w(e),f)}}}const wN=S_(.42,0,1,1),xN=S_(0,0,.58,1),kN=S_(.42,0,.58,1),SN=e=>Array.isArray(e)&&"number"===typeof e[0],EN={linear:m_,easeIn:wN,easeInOut:kN,easeOut:xN,circIn:I_,circInOut:R_,circOut:P_,backIn:__,backInOut:A_,backOut:T_,anticipate:N_},CN=e=>{if(SN(e)){L_(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return S_(t,n,r,i)}return"string"===typeof e?(L_(void 0!==EN[e],"Invalid easing type '".concat(e,"'")),EN[e]):e},TN=(e,t)=>n=>t(e(n)),_N=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(TN)},AN=(e,t,n)=>e+(t-e)*n;function NN(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function IN(e,t){return n=>n>0?t:e}const PN=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},RN=[CA,EA,TA];function jN(e){const t=(e=>RN.find((t=>t.test(e))))(e);if(O_(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")),!Boolean(t))return!1;let n=t.parse(e);return t===TA&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,o=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=NN(i,e,t+1/3),o=NN(i,e,t),a=NN(i,e,t-1/3)}else s=o=a=r;return{red:Math.round(255*s),green:Math.round(255*o),blue:Math.round(255*a),alpha:i}}(n)),n}const DN=(e,t)=>{const n=jN(e),r=jN(t);if(!n||!r)return IN(e,t);const i=u({},n);return e=>(i.red=PN(n.red,r.red,e),i.green=PN(n.green,r.green,e),i.blue=PN(n.blue,r.blue,e),i.alpha=AN(n.alpha,r.alpha,e),EA.transform(i))},ON=new Set(["none","hidden"]);function LN(e,t){return n=>AN(e,t,n)}function MN(e){return"number"===typeof e?LN:"string"===typeof e?B_(e)?IN:_A.test(e)?DN:VN:Array.isArray(e)?FN:"object"===typeof e?_A.test(e)?DN:UN:IN}function FN(e,t){const n=[...e],r=n.length,i=e.map(((e,n)=>MN(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function UN(e,t){const n=u(u({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=MN(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const VN=(e,t)=>{const n=LA.createTransformer(t),r=RA(e),i=RA(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ON.has(e)&&!i.values.length||ON.has(t)&&!r.values.length?function(e,t){return ON.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):_N(FN(function(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],l=null!==(n=e.values[a])&&void 0!==n?n:0;r[s]=l,i[o]++}return r}(r,i),i.values),n):(O_(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),IN(e,t))};function BN(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return AN(e,t,n);return MN(e)(e,t)}function zN(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(L_(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];if(2===s&&e[0]===e[1])return()=>t[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],i=n||BN,s=e.length-1;for(let o=0;o<s;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||m_:t;n=_N(e,n)}r.push(n)}return r}(t,r,i),a=o.length,l=t=>{let n=0;if(a>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=iN(e[n],e[n+1],t);return o[n](r)};return n?t=>l(W_(e[0],e[s-1],t)):l}function qN(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=iN(0,t,r);e.push(AN(n,1,i))}}(t,e.length-1),t}function HN(e,t){return e.map((()=>t||kN)).splice(0,e.length-1)}function WN(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(CN):CN(i),o={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:qN(n),t),l=zN(a,n,{ease:Array.isArray(s)?s:HN(n,s)});return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}const KN=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>v_.update(t,!0),stop:()=>b_(t),now:()=>w_.isProcessing?w_.timestamp:ZA.now()}},GN={decay:bN,inertia:bN,tween:WN,keyframes:WN,spring:vN},YN=e=>e/100;class QN extends rN{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:i}=this.options,s=(null===r||void 0===r?void 0:r.KeyframeResolver)||yA;this.resolver=new s(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:s=0}=this.options,o=XA(t)?t:GN[t]||WN;let a,l;o!==WN&&"number"!==typeof e[0]&&(a=_N(YN,BN(e[0],e[1])),e=[0,100]);const c=o(u(u({},this.options),{},{keyframes:e}));"mirror"===i&&(l=o(u(u({},this.options),{},{keyframes:[...e].reverse(),velocity:-s}))),null===c.calculatedDuration&&(c.calculatedDuration=pN(c));const{calculatedDuration:h}=c,d=h+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:a,calculatedDuration:h,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:a,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return i.next(0);const{delay:h,repeat:d,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let v=this.currentTime,b=i;if(d){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===f?(n=1-n,p&&(n-=p/u)):"mirror"===f&&(b=s)),v=W_(0,1,n)*u}const w=y?{done:!1,value:a[0]}:b.next(v);o&&(w.value=o(w.value));let{done:x}=w;y||null===l||(x=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return k&&void 0!==r&&(w.value=p_(a,this.options,r)),m&&m(w.value),k&&this.finish(),w}get duration(){const{resolved:e}=this;return e?i_(e.calculatedDuration):0}get time(){return i_(this.currentTime)}set time(e){e=r_(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=i_(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=KN,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const XN=new Set(["opacity","clipPath","filter","transform"]);function $N(e){let t;return()=>(void 0===t&&(t=e()),t)}const JN={linearEasing:void 0};function ZN(e,t){const n=$N(e);return()=>{var e;return null!==(e=JN[t])&&void 0!==e?e:n()}}const eI=ZN((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(Kw){return!1}return!0}),"linearEasing");function tI(e){return Boolean("function"===typeof e&&eI()||!e||"string"===typeof e&&(e in rI||eI())||SN(e)||Array.isArray(e)&&e.every(tI))}const nI=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},rI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nI([0,.65,.55,1]),circOut:nI([.55,0,1,.45]),backIn:nI([.31,.01,.66,-.59]),backOut:nI([.33,1.53,.69,.99])};function iI(e,t){return e?"function"===typeof e&&eI()?sN(e,t):SN(e)?nI(e):Array.isArray(e)?e.map((e=>iI(e,t)||rI.easeOut)):rI[e]:void 0}function sI(e,t,n){let{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=iI(a,i);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"})}function oI(e,t){e.timeline=t,e.onfinish=null}const aI=$N((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),lI=["onComplete","onUpdate","motionValue","element"],cI=["motionValue","onUpdate","onComplete","element"];const uI={anticipate:N_,backInOut:A_,circInOut:R_};class hI extends rN{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new QA(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){var n;let{duration:r=300,times:i,ease:o,type:a,motionValue:l,name:c,startTime:h}=this.options;if(!(null===(n=l.owner)||void 0===n?void 0:n.current))return!1;var d;if("string"===typeof o&&eI()&&o in uI&&(o=uI[o]),XA((d=this.options).type)||"spring"===d.type||!tI(d.ease)){const t=this.options,{onComplete:n,onUpdate:l,motionValue:c,element:h}=t,d=s(t,lI),f=function(e,t){const n=new QN(u(u({},t),{},{keyframes:e,repeat:0,delay:0,isGenerator:!0}));let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<2e4;)r=n.sample(s),i.push(r.value),s+=10;return{times:void 0,keyframes:i,duration:s-10,ease:"linear"}}(e,d);1===(e=f.keyframes).length&&(e[1]=e[0]),r=f.duration,i=f.times,o=f.ease,a="keyframes"}const f=sI(l.owner.current,c,e,u(u({},this.options),{},{duration:r,times:i,ease:o}));return f.startTime=null!==h&&void 0!==h?h:this.calcStartTime(),this.pendingTimeline?(oI(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:n}=this.options;l.set(p_(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return i_(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return i_(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=r_(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return m_;const{animation:n}=t;oI(n,e)}else this.pendingTimeline=e;return m_}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:i,ease:o,times:a}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const e=this.options,{motionValue:t,onUpdate:l,onComplete:c,element:h}=e,d=s(e,cI),f=new QN(u(u({},d),{},{keyframes:n,duration:r,type:i,ease:o,times:a,isGenerator:!0})),p=r_(this.time);t.setWithVelocity(f.sample(p-10).value,f.sample(p).value,10)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;return aI()&&n&&XN.has(n)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!r&&"mirror"!==i&&0!==s&&"inertia"!==o}}const dI=$N((()=>void 0!==window.ScrollTimeline));class fI{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>dI()&&n.attachTimeline?n.attachTimeline(e):t(n)));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const pI=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const mI=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return a=>{const l=c_(r,e)||{},c=l.delay||r.delay||0;let{elapsed:h=0}=r;h-=r_(c);let d=u(u({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},l),{},{delay:-h,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:i});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:l,repeatDelay:c,from:u,elapsed:h}=e,d=s(e,pI);return!!Object.keys(d).length})(l)||(d=u(u({},d),l_(e,d))),d.duration&&(d.duration=r_(d.duration)),d.repeatDelay&&(d.repeatDelay=r_(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let f=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(f=!0)),(d_||u_)&&(f=!0,d.duration=0,d.delay=0),f&&!o&&void 0!==t.get()){const e=p_(d.keyframes,l);if(void 0!==e)return v_.update((()=>{d.onUpdate(e),d.onComplete()})),new fI([])}return!o&&hI.supports(d)?new hI(d):new QN(d)}},gI=e=>GT(e)?e[e.length-1]||0:e;function yI(e,t){-1===e.indexOf(t)&&e.push(t)}function vI(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class bI{constructor(){this.subscriptions=[]}add(e){return yI(this.subscriptions,e),()=>vI(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wI={current:void 0};class xI{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=ZA.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ZA.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new bI);const n=this.events[e].add(t);return"change"===e?()=>{n(),v_.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return wI.current&&wI.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ZA.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return oN(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kI(e,t){return new xI(e,t)}const SI=["transitionEnd","transition"];function EI(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,kI(n))}const CI=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),TI="data-"+CI("framerAppearId");function _I(e){return e.props[TI]}const AI=e=>Boolean(e&&e.getVelocity);function NI(e,t){const n=e.getValue("willChange");if(function(e){return Boolean(AI(e)&&e.add)}(n))return n.add(t)}const II=["transition","transitionEnd"];function PI(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function RI(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var o;let{transition:a=e.getDefaultTransition(),transitionEnd:l}=t,c=s(t,II);r&&(a=r);const h=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const s in c){const t=e.getValue(s,null!==(o=e.latestValues[s])&&void 0!==o?o:null),r=c[s];if(void 0===r||d&&PI(d,s))continue;const i=u({delay:n},c_(a||{},s));let l=!1;if(window.MotionHandoffAnimation){const t=_I(e);if(t){const e=window.MotionHandoffAnimation(t,s,v_);null!==e&&(i.startTime=e,l=!0)}}NI(e,s),t.start(mI(s,t,r,e.shouldReduceMotion&&n_.has(s)?{type:!1}:i,e,l));const f=t.animation;f&&h.push(f)}return l&&Promise.all(h).then((()=>{v_.update((()=>{l&&function(e,t){let n=JT(e,t)||{},{transitionEnd:r={},transition:i={}}=n,o=s(n,SI);o=u(u({},o),r);for(const s in o)EI(e,s,gI(o[s]))}(e,l)}))})),h}function jI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const i=JT(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(RI(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:o,staggerDirection:a}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const o=[],a=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(DI).forEach(((e,r)=>{e.notify("AnimationStart",t),o.push(jI(e,t,u(u({},s),{},{delay:n+l(r)})).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(o)}(e,t,i+r,o,a,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[o,a]:[a,o];return e().then((()=>t()))}return Promise.all([o(),a(n.delay)])}function DI(e,t){return e.sortNodePosition(t)}const OI=e_.length;function LI(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&LI(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<OI;n++){const r=e_[n],i=e.props[r];(QT(i)||!1===i)&&(t[r]=i)}return t}const MI=["transition","transitionEnd"],FI=[...ZT].reverse(),UI=ZT.length;function VI(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>jI(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=jI(e,t,r);else{const i="function"===typeof t?JT(e,t,r.custom):t;n=Promise.all(RI(e,i,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function BI(e){let t=VI(e),n=HI(),r=!0;const i=t=>(n,r)=>{var i;const o=JT(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(o){const{transition:e,transitionEnd:t}=o,r=s(o,MI);n=u(u(u({},n),r),t)}return n};function o(s){const{props:o}=e,a=LI(e.parent)||{},l=[],c=new Set;let h={},d=1/0;for(let t=0;t<UI;t++){const f=FI[t],p=n[f],m=void 0!==o[f]?o[f]:a[f],g=QT(m),y=f===s?p.isActive:null;!1===y&&(d=t);let v=m===a[f]&&m!==o[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys=u({},h),!p.isActive&&null===y||!m&&!p.prevProp||KT(m)||"boolean"===typeof m)continue;const b=zI(p.prevProp,m);let w=b||f===s&&p.isActive&&!v&&g||t>d&&g,x=!1;const k=Array.isArray(m)?m:[m];let S=k.reduce(i(f),{});!1===y&&(S={});const{prevResolvedValues:E={}}=p,C=u(u({},E),S),T=t=>{w=!0,c.has(t)&&(x=!0,c.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in C){const t=S[e],n=E[e];if(h.hasOwnProperty(e))continue;let r=!1;r=GT(t)&&GT(n)?!YT(t,n):t!==n,r?void 0!==t&&null!==t?T(e):c.add(e):void 0!==t&&c.has(e)?T(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=S,p.isActive&&(h=u(u({},h),S)),r&&e.blockInitialAnimation&&(w=!1);w&&(!(v&&b)||x)&&l.push(...k.map((e=>({animation:e,options:{type:f}}))))}if(c.size){const t={};c.forEach((n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let f=Boolean(l.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(l):Promise.resolve()}return{animateChanges:o,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const s=o(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=HI(),r=!0}}}function zI(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!YT(t,e)}function qI(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HI(){return{animate:qI(!0),whileInView:qI(),whileHover:qI(),whileTap:qI(),whileDrag:qI(),whileFocus:qI(),exit:qI()}}class WI{constructor(e){this.isMounted=!1,this.node=e}update(){}}let KI=0;const GI={animation:{Feature:class extends WI{constructor(e){super(e),e.animationState||(e.animationState=BI(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();KT(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends WI{constructor(){super(...arguments),this.id=KI++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},YI={x:!1,y:!1};function QI(){return YI.x||YI.y}function XI(e,t){const n=function(e,t,n){var r;if(e instanceof Element)return[e];if("string"===typeof e){let i=document;t&&(i=t.current);const s=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}(e),r=new AbortController;return[n,u(u({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function $I(e){return t=>{"touch"===t.pointerType||QI()||e(t)}}const JI=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary,ZI=new WeakSet;function eP(e){return t=>{"Enter"===t.key&&e(t)}}function tP(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const nP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const rP=(e,t)=>!!t&&(e===t||rP(e,t.parentElement));function iP(e){return JI(e)&&!QI()}function sP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=XI(e,n),o=e=>{const r=e.currentTarget;if(!iP(e)||ZI.has(r))return;ZI.add(r);const s=t(e),o=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),iP(e)&&ZI.has(r)&&(ZI.delete(r),s&&s(e,{success:t}))},a=e=>{o(e,n.useGlobalTarget||rP(r,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",l,i)};return r.forEach((e=>{(function(e){return nP.has(e.tagName)||-1!==e.tabIndex})(e)||(e.tabIndex=0);(n.useGlobalTarget?window:e).addEventListener("pointerdown",o,i),e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=eP((()=>{if(ZI.has(n))return;tP(n,"down");const e=eP((()=>{tP(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>tP(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,i)),i)})),s}function oP(e){return{point:{x:e.pageX,y:e.pageY}}}function aP(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function lP(e,t,n,r){return aP(e,t,(e=>t=>JI(t)&&e(t,oP(t)))(n),r)}const cP=(e,t)=>Math.abs(e-t);class uP{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=fP(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=cP(e.x,t.x),r=cP(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=w_;this.history.push(u(u({},r),{},{timestamp:i}));const{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=hP(t,this.transformPagePoint),v_.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=fP("pointercancel"===e.type?this.lastMoveEventInfo:hP(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!JI(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=hP(oP(e),this.transformPagePoint),{point:o}=s,{timestamp:a}=w_;this.history=[u(u({},o),{},{timestamp:a})];const{onSessionStart:l}=t;l&&l(e,fP(s,this.history)),this.removeListeners=_N(lP(this.contextWindow,"pointermove",this.handlePointerMove),lP(this.contextWindow,"pointerup",this.handlePointerUp),lP(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),b_(this.updatePoint)}}function hP(e,t){return t?{point:t(e.point)}:e}function dP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fP(e,t){let{point:n}=e;return{point:n,delta:dP(n,mP(t)),offset:dP(n,pP(t)),velocity:gP(t,.1)}}function pP(e){return e[0]}function mP(e){return e[e.length-1]}function gP(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=mP(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>r_(t)));)n--;if(!r)return{x:0,y:0};const s=i_(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function yP(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function vP(e){return e.max-e.min}function bP(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=AN(t.min,t.max,e.origin),e.scale=vP(n)/vP(t),e.translate=AN(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function wP(e,t,n,r){bP(e.x,t.x,n.x,r?r.originX:void 0),bP(e.y,t.y,n.y,r?r.originY:void 0)}function xP(e,t,n){e.min=n.min+t.min,e.max=e.min+vP(t)}function kP(e,t,n){e.min=t.min-n.min,e.max=e.min+vP(t)}function SP(e,t,n){kP(e.x,t.x,n.x),kP(e.y,t.y,n.y)}function EP(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function CP(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const TP=.35;function _P(e,t,n){return{min:AP(e,t),max:AP(e,n)}}function AP(e,t){return"number"===typeof e?e:e[t]||0}const NP=()=>({x:{min:0,max:0},y:{min:0,max:0}});function IP(e){return[e("x"),e("y")]}function PP(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function RP(e){return void 0===e||1===e}function jP(e){let{scale:t,scaleX:n,scaleY:r}=e;return!RP(t)||!RP(n)||!RP(r)}function DP(e){return jP(e)||OP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function OP(e){return LP(e.x)||LP(e.y)}function LP(e){return e&&"0%"!==e}function MP(e,t,n){return n+t*(e-n)}function FP(e,t,n,r,i){return void 0!==i&&(e=MP(e,i,r)),MP(e,n,r)+t}function UP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=FP(e.min,t,n,r,i),e.max=FP(e.max,t,n,r,i)}function VP(e,t){let{x:n,y:r}=t;UP(e.x,n.translate,n.scale,n.originPoint),UP(e.y,r.translate,r.scale,r.originPoint)}const BP=.999999999999,zP=1.0000000000001;function qP(e,t){e.min=e.min+t,e.max=e.max+t}function HP(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;UP(e,t,n,AN(e.min,e.max,i),r)}function WP(e,t){HP(e.x,t.x,t.scaleX,t.scale,t.originX),HP(e.y,t.y,t.scaleY,t.scale,t.originY)}function KP(e,t){return PP(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const GP=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},YP=new WeakMap;class QP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new uP(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(oP(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?YI[s]?null:(YI[s]=!0,()=>{YI[s]=!1}):YI.x||YI.y?null:(YI.x=YI.y=!0,()=>{YI.x=YI.y=!1}),!this.openDragLock))return;var s;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),IP((e=>{let t=this.getAxisMotionValue(e).get()||0;if($_.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=vP(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&v_.postRender((()=>i(e,t))),NI(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>IP((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:GP(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&v_.postRender((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!XP(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?AN(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?AN(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&yP(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:EP(e.x,r,s),y:EP(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TP;return!1===e?e=0:!0===e&&(e=TP),{x:_P(e,"left","right"),y:_P(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&IP((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!yP(e))return!1;const n=e.current;L_(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=KP(e,n),{scroll:i}=t;return i&&(qP(r.x,i.offset.x),qP(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:CP(e.x,t.x),y:CP(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=PP(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=IP((o=>{if(!XP(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});const c=r?200:1e6,h=r?40:1e7,d=u(u({type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(o,d)}));return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return NI(this.visualElement,e),n.start(mI(e,n,0,t,this.visualElement,!1))}stopAnimation(){IP((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){IP((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){IP((t=>{const{drag:n}=this.getProps();if(!XP(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-AN(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!yP(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};IP((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=vP(e),i=vP(t);return i>r?n=iN(t.min,t.max-r,e.min):r>i&&(n=iN(e.min,e.max-i,t.min)),W_(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),IP((t=>{if(!XP(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(AN(i,s,r[t]))}))}addListeners(){if(!this.visualElement.current)return;YP.set(this.visualElement,this);const e=lP(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();yP(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),v_.read(t);const i=aP(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(IP((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=TP,dragMomentum:o=!0}=e;return u(u({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:o})}}function XP(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const $P=e=>(t,n)=>{e&&v_.postRender((()=>e(t,n)))};const JP=(0,t.createContext)(null);const ZP=(0,t.createContext)({}),eR=(0,t.createContext)({}),tR={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nR(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const rR={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!J_.test(e))return e;e=parseFloat(e)}const n=nR(e,t.target.x),r=nR(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},iR={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=LA.parse(e);if(s.length>5)return i;const o=LA.createTransformer(e),a="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+a]/=l,s[1+a]/=c;const u=AN(l,c,.5);return"number"===typeof s[2+a]&&(s[2+a]/=u),"number"===typeof s[3+a]&&(s[3+a]/=u),o(s)}},sR={};const{schedule:oR,cancel:aR}=y_(queueMicrotask,!1);class lR extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=uR,Object.assign(sR,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions(u(u({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),tR.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||v_.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),oR.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function cR(e){const[n,r]=function(){const e=(0,t.useContext)(JP);if(null===e)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=(0,t.useId)();(0,t.useEffect)((()=>i(s)),[]);const o=(0,t.useCallback)((()=>r&&r(s)),[s,r]);return!n&&r?[!1,o]:[!0]}(),i=(0,t.useContext)(ZP);return(0,Vw.jsx)(lR,u(u({},e),{},{layoutGroup:i,switchLayoutGroup:(0,t.useContext)(eR),isPresent:n,safeToRemove:r}))}const uR={borderRadius:u(u({},rR),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:rR,borderTopRightRadius:rR,borderBottomLeftRadius:rR,borderBottomRightRadius:rR,boxShadow:iR},hR=["TopLeft","TopRight","BottomLeft","BottomRight"],dR=hR.length,fR=e=>"string"===typeof e?parseFloat(e):e,pR=e=>"number"===typeof e||J_.test(e);function mR(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const gR=vR(0,.5,P_),yR=vR(.5,.95,m_);function vR(e,t,n){return r=>r<e?0:r>t?1:n(iN(e,t,r))}function bR(e,t){e.min=t.min,e.max=t.max}function wR(e,t){bR(e.x,t.x),bR(e.y,t.y)}function xR(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function kR(e,t,n,r,i){return e=MP(e-=t,1/n,r),void 0!==i&&(e=MP(e,1/i,r)),e}function SR(e,t,n,r,i){let[s,o,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;$_.test(t)&&(t=parseFloat(t),t=AN(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let a=AN(s.min,s.max,r);e===s&&(a-=t),e.min=kR(e.min,t,n,a,i),e.max=kR(e.max,t,n,a,i)}(e,t[s],t[o],t[a],t.scale,r,i)}const ER=["x","scaleX","originX"],CR=["y","scaleY","originY"];function TR(e,t,n,r){SR(e.x,t,ER,n?n.x:void 0,r?r.x:void 0),SR(e.y,t,CR,n?n.y:void 0,r?r.y:void 0)}function _R(e){return 0===e.translate&&1===e.scale}function AR(e){return _R(e.x)&&_R(e.y)}function NR(e,t){return e.min===t.min&&e.max===t.max}function IR(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function PR(e,t){return IR(e.x,t.x)&&IR(e.y,t.y)}function RR(e){return vP(e.x)/vP(e.y)}function jR(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class DR{constructor(){this.members=[]}add(e){yI(this.members,e),e.scheduleRender()}remove(e){if(vI(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const OR=(e,t)=>e.depth-t.depth;class LR{constructor(){this.children=[],this.isDirty=!1}add(e){yI(this.children,e),this.isDirty=!0}remove(e){vI(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(OR),this.isDirty=!1,this.children.forEach(e)}}function MR(e){const t=AI(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}function FR(e,t){const n=ZA.now(),r=i=>{let{timestamp:s}=i;const o=s-n;o>=t&&(b_(r),e(o-t))};return v_.read(r,!0),()=>b_(r)}const UR={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},VR="undefined"!==typeof window&&void 0!==window.MotionDebug,BR=["","X","Y","Z"],zR={visibility:"hidden"};let qR=0;function HR(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function WR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=_I(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",v_,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&WR(r)}function KR(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=qR++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,VR&&(UR.totalNodes=UR.resolvedTargetDeltas=UR.recalculatedProjection=0),this.nodes.forEach(QR),this.nodes.forEach(nj),this.nodes.forEach(rj),this.nodes.forEach(XR),VR&&window.MotionDebug.record(UR)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new LR)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new bI),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=FR(r,250),tR.hasAnimatedSinceResize&&(tR.hasAnimatedSinceResize=!1,this.nodes.forEach(tj))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&o&&(i||s)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||o.getDefaultTransition()||cj,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),c=!this.targetLayout||!PR(this.targetLayout,i)||r,h=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||h||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,h);const e=u(u({},c_(s,"layout")),{},{onPlay:a,onComplete:l});(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||tj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,b_(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ij),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(JR);this.isUpdating||this.nodes.forEach(ZR),this.isUpdating=!1,this.nodes.forEach(ej),this.nodes.forEach(GR),this.nodes.forEach(YR),this.clearAllSnapshots();const e=ZA.now();w_.delta=W_(0,1e3/60,e-w_.timestamp),w_.timestamp=e,w_.isProcessing=!0,x_.update.process(w_),x_.preRender.process(w_),x_.render.process(w_),w_.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($R),this.sharedNodes.forEach(sj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,v_.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){v_.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!AR(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||DP(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),dj((r=n).x),dj(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(pj))){const{scroll:e}=this.root;e&&(qP(n.x,e.offset.x),qP(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(wR(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:s}=t;t!==this.root&&i&&s.layoutScroll&&(i.wasRoot&&wR(n,e),qP(n.x,i.offset.x),qP(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};wR(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&WP(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),DP(e.latestValues)&&WP(n,e.latestValues)}return DP(this.latestValues)&&WP(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};wR(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!DP(e.latestValues))continue;jP(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};wR(r,e.measurePageBox()),TR(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return DP(this.latestValues)&&TR(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=u(u(u({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==w_.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=w_.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},SP(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),wR(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,xP(o.x,a.x,l.x),xP(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):wR(this.target,this.layout.layoutBox),VP(this.target,this.targetDelta)):wR(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},SP(this.relativeTargetOrigin,this.target,e.target),wR(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}VR&&UR.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!jP(this.parent.latestValues)&&!OP(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===w_.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;wR(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,o;t.x=t.y=1;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:i}=s.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&WP(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,VP(e,o)),r&&DP(s.latestValues)&&WP(e,s.latestValues))}t.x<zP&&t.x>BP&&(t.x=1),t.y<zP&&t.y>BP&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(xR(this.prevProjectionDelta.x,this.projectionDelta.x),xR(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),wP(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===a&&jR(this.projectionDelta.x,this.prevProjectionDelta.x)&&jR(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),VR&&UR.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=u({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,h=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(lj));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;oj(s.x,e.x,n),oj(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(SP(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){aj(e.x,t.x,n.x,r),aj(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,o,n),d&&function(e,t){return NR(e.x,t.x)&&NR(e.y,t.y)}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),wR(d,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=AN(0,void 0!==n.opacity?n.opacity:1,gR(r)),e.opacityExit=AN(void 0!==t.opacity?t.opacity:1,0,yR(r))):s&&(e.opacity=AN(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let o=0;o<dR;o++){const i="border".concat(hR[o],"Radius");let s=mR(t,i),a=mR(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||pR(s)===pR(a)?(e[i]=Math.max(AN(fR(s),fR(a),r),0),($_.test(a)||$_.test(s))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=AN(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,h,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(b_(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=v_.update((()=>{tR.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=AI(e)?e:kI(e);return r.start(mI("",r,t,n)),r.animation}(0,1e3,u(u({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&fj(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=vP(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=vP(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}wR(t,n),WP(t,i),wP(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new DR);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&HR("z",e,r,this.animationValues);for(let i=0;i<BR.length;i++)HR("rotate".concat(BR[i]),e,r,this.animationValues),HR("skew".concat(BR[i]),e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zR;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=MR(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=MR(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!DP(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(null===n||void 0===n?void 0:n.z)||0;if((i||s||o)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, ").concat(o,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:s,skewX:o,skewY:a}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),s&&(r+="rotateY(".concat(s,"deg) ")),o&&(r+="skewX(".concat(o,"deg) ")),a&&(r+="skewY(".concat(a,"deg) "))}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+="scale(".concat(a,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,o),i&&(r.transform=i(o,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*a.origin,"% ").concat(100*l.origin,"% 0"),s.animationValues?r.opacity=s===this?null!==(n=null!==(t=o.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:r.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const c in sR){if(void 0===o[c])continue;const{correct:e,applyTo:t}=sR[c],n="none"===r.transform?o[c]:e(o[c],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=s===this?MR(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(JR),this.root.sharedNodes.clear()}}}function GR(e){e.updateLayout()}function YR(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?IP((e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=vP(r);r.min=t[e].min,r.max=r.min+i})):fj(i,n.layoutBox,t)&&IP((r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],o=vP(t[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)}));const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};wP(o,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?wP(a,e.applyTransform(r,!0),n.measuredBox):wP(a,t,n.layoutBox);const l=!AR(o);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};SP(o,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};SP(a,t,s.layoutBox),PR(o,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function QR(e){VR&&UR.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function XR(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $R(e){e.clearSnapshot()}function JR(e){e.clearMeasurements()}function ZR(e){e.isLayoutDirty=!1}function ej(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function tj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nj(e){e.resolveTargetDelta()}function rj(e){e.calcProjection()}function ij(e){e.resetSkewAndRotation()}function sj(e){e.removeLeadSnapshot()}function oj(e,t,n){e.translate=AN(t.translate,0,n),e.scale=AN(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function aj(e,t,n,r){e.min=AN(t.min,n.min,r),e.max=AN(t.max,n.max,r)}function lj(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const cj={duration:.45,ease:[.4,0,.1,1]},uj=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),hj=uj("applewebkit/")&&!uj("chrome/")?Math.round:m_;function dj(e){e.min=hj(e.min),e.max=hj(e.max)}function fj(e,t,n){return"position"===e||"preserve-aspect"===e&&!function(e,t,n){return Math.abs(e-t)<=n}(RR(t),RR(n),.2)}function pj(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const mj=KR({attachResizeListener:(e,t)=>aP(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gj={current:void 0},yj=KR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!gj.current){const e=new mj({});e.mount(window),e.setOptions({layoutScroll:!0}),gj.current=e}return gj.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),vj={pan:{Feature:class extends WI{constructor(){super(...arguments),this.removePointerDownListener=m_}onPointerDown(e){this.session=new uP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:$P(e),onStart:$P(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&v_.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=lP(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends WI{constructor(e){super(e),this.removeGroupControls=m_,this.removeListeners=m_,this.controls=new QP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||m_}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:yj,MeasureLayout:cR}};function bj(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&v_.postRender((()=>i(t,oP(t))))}function wj(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&v_.postRender((()=>i(t,oP(t))))}const xj=["root"],kj=new WeakMap,Sj=new WeakMap,Ej=e=>{const t=kj.get(e.target);t&&t(e)},Cj=e=>{e.forEach(Ej)};function Tj(e,t,n){const r=function(e){let{root:t}=e,n=s(e,xj);const r=t||document;Sj.has(r)||Sj.set(r,{});const i=Sj.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(Cj,u({root:t},n))),i[o]}(t);return kj.set(e,n),r.observe(e),()=>{kj.delete(e),r.unobserve(e)}}const _j={some:0,all:1};const Aj={inView:{Feature:class extends WI{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:_j[r]};return Tj(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends WI{mount(){const{current:e}=this.node;e&&(this.unmount=sP(e,(e=>(wj(this.node,e,"Start"),(e,t)=>{let{success:n}=t;return wj(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends WI{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Kw){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_N(aP(this.node.current,"focus",(()=>this.onFocus())),aP(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends WI{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=XI(e,n),o=$I((e=>{const{target:n}=e,r=t(e);if(!r||!n)return;const s=$I((e=>{r(e),n.removeEventListener("pointerleave",s)}));n.addEventListener("pointerleave",s,i)}));return r.forEach((e=>{e.addEventListener("pointerenter",o,i)})),s}(e,(e=>(bj(this.node,e,"Start"),e=>bj(this.node,e,"End")))))}unmount(){}}}},Nj={layout:{ProjectionNode:yj,MeasureLayout:cR}},Ij=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Pj=(0,t.createContext)({}),Rj="undefined"!==typeof window,jj=Rj?t.useLayoutEffect:t.useEffect,Dj=(0,t.createContext)({strict:!1});function Oj(e,n,r,i,s){var o,a;const{visualElement:l}=(0,t.useContext)(Pj),c=(0,t.useContext)(Dj),u=(0,t.useContext)(JP),h=(0,t.useContext)(Ij).reducedMotion,d=(0,t.useRef)(null);i=i||c.renderer,!d.current&&i&&(d.current=i(e,{visualState:n,parent:l,props:r,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:h}));const f=d.current,p=(0,t.useContext)(eR);!f||f.projection||!s||"html"!==f.type&&"svg"!==f.type||function(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Lj(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:Boolean(o)||a&&yP(a),visualElement:e,animationType:"string"===typeof s?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(d.current,r,s,p);const m=(0,t.useRef)(!1);(0,t.useInsertionEffect)((()=>{f&&m.current&&f.update(r,u)}));const g=r[TI],y=(0,t.useRef)(Boolean(g)&&!(null===(o=window.MotionHandoffIsComplete)||void 0===o?void 0:o.call(window,g))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,g)));return jj((()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),oR.render(f.render),y.current&&f.animationState&&f.animationState.animateChanges())})),(0,t.useEffect)((()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)})),y.current=!1))})),f}function Lj(e){if(e)return!1!==e.options.allowProjection?e.projection:Lj(e.parent)}function Mj(e,n,r){return(0,t.useCallback)((t=>{t&&e.mount&&e.mount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):yP(r)&&(r.current=t))}),[n])}function Fj(e){return KT(e.animate)||e_.some((t=>QT(e[t])))}function Uj(e){return Boolean(Fj(e)||e.variants)}function Vj(e){const{initial:n,animate:r}=function(e,t){if(Fj(e)){const{initial:t,animate:n}=e;return{initial:!1===t||QT(t)?t:void 0,animate:QT(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(Pj));return(0,t.useMemo)((()=>({initial:n,animate:r})),[Bj(n),Bj(r)])}function Bj(e){return Array.isArray(e)?e.join(" "):e}const zj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qj={};for(const n in zj)qj[n]={isEnabled:e=>zj[n].some((t=>!!e[t]))};const Hj=Symbol.for("motionComponentSymbol");function Wj(e){let{preloadedFeatures:n,createVisualElement:r,useRender:i,useVisualState:s,Component:o}=e;n&&function(e){for(const t in e)qj[t]=u(u({},qj[t]),e[t])}(n);const a=(0,t.forwardRef)((function(e,n){let a;const l=u(u(u({},(0,t.useContext)(Ij)),e),{},{layoutId:Kj(e)}),{isStatic:c}=l,h=Vj(e),d=s(e,c);if(!c&&Rj){!function(){(0,t.useContext)(Dj).strict;0}();const e=function(e){const{drag:t,layout:n}=qj;if(!t&&!n)return{};const r=u(u({},t),n);return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);a=e.MeasureLayout,h.visualElement=Oj(o,d,l,r,e.ProjectionNode)}return(0,Vw.jsxs)(Pj.Provider,{value:h,children:[a&&h.visualElement?(0,Vw.jsx)(a,u({visualElement:h.visualElement},l)):null,i(o,e,Mj(d,h.visualElement,n),d,c,h.visualElement)]})}));return a[Hj]=o,a}function Kj(e){let{layoutId:n}=e;const r=(0,t.useContext)(ZP).id;return r&&void 0!==n?r+"-"+n:n}const Gj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yj(e){return"string"===typeof e&&!e.includes("-")&&!!(Gj.indexOf(e)>-1||/[A-Z]/.test(e))}function Qj(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const o in s)e.style.setProperty(o,s[o])}const Xj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $j(e,t,n,r){Qj(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Xj.has(i)?i:CI(i),t.attrs[i])}function Jj(e,t){let{layout:n,layoutId:r}=t;return n_.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!sR[e]||"opacity"===e)}function Zj(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(AI(i[o])||t.style&&AI(t.style[o])||Jj(o,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(o))||void 0===r?void 0:r.liveStyle))&&(s[o]=i[o]);return s}function eD(e,t,n){const r=Zj(e,t,n);for(const i in e)if(AI(e[i])||AI(t[i])){r[-1!==t_.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}function tD(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}const nD=["transitionEnd","transition"];const rD=e=>(n,r)=>{const i=(0,t.useContext)(Pj),s=(0,t.useContext)(JP),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onMount:o}=e;const a={latestValues:iD(t,n,r,i),renderState:s()};return o&&(a.mount=e=>o(t,e,a)),a}(e,n,i,s);return r?o():tD(o)};function iD(e,t,n,r){const i={},o=r(e,{});for(const s in o)i[s]=MR(o[s]);let{initial:a,animate:l}=e;const c=Fj(e),u=Uj(e);t&&u&&!c&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===l&&(l=t.animate));let h=!!n&&!1===n.initial;h=h||!1===a;const d=h?l:a;if(d&&"boolean"!==typeof d&&!KT(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=$T(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=s(r,nD);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[h?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const sD=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),oD=()=>u(u({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),aD=(e,t)=>t&&"number"===typeof e?t.transform(e):e,lD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cD=t_.length;function uD(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const e=t[l];if(n_.has(l))o=!0;else if(U_(l))i[l]=e;else{const t=aD(e,HA[l]);l.startsWith("origin")?(a=!0,s[l]=t):r[l]=t}}if(t.transform||(o||n?r.transform=function(e,t,n){let r="",i=!0;for(let s=0;s<cD;s++){const o=t_[s],a=e[o];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=aD(a,HA[o]);l||(i=!1,r+="".concat(lD[o]||o,"(").concat(e,") ")),n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function hD(e,t,n){return"string"===typeof e?e:J_.transform(t+n*e)}const dD={offset:"stroke-dashoffset",array:"stroke-dasharray"},fD={offset:"strokeDashoffset",array:"strokeDasharray"};const pD=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function mD(e,t,n,r){let{attrX:i,attrY:o,attrScale:a,originX:l,originY:c,pathLength:u,pathSpacing:h=1,pathOffset:d=0}=t;if(uD(e,s(t,pD),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==l||void 0!==c||p.transform)&&(p.transformOrigin=function(e,t,n){const r=hD(t,e.x,e.width),i=hD(n,e.y,e.height);return"".concat(r," ").concat(i)}(m,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==i&&(f.x=i),void 0!==o&&(f.y=o),void 0!==a&&(f.scale=a),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?dD:fD;e[s.offset]=J_.transform(-r);const o=J_.transform(t),a=J_.transform(n);e[s.array]="".concat(o," ").concat(a)}(f,u,h,d,!1)}const gD=e=>"string"===typeof e&&"svg"===e.toLowerCase(),yD={useVisualState:rD({scrapeMotionValuesFromProps:eD,createRenderState:oD,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;v_.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(Kw){r.dimensions={x:0,y:0,width:0,height:0}}})),v_.render((()=>{mD(r,i,gD(t.tagName),e.transformTemplate),$j(t,r)}))}})},vD={useVisualState:rD({scrapeMotionValuesFromProps:Zj,createRenderState:sD})};function bD(e,t,n){for(const r in t)AI(t[r])||Jj(r,n)||(e[r]=t[r])}function wD(e,n){const r={};return bD(r,e.style||{},e),Object.assign(r,function(e,n){let{transformTemplate:r}=e;return(0,t.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return uD(e,n,r),Object.assign({},e.vars,e.style)}),[n])}(e,n)),r}function xD(e,t){const n={},r=wD(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const kD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function SD(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||kD.has(e)}let ED=e=>!SD(e);try{(CD=require("@emotion/is-prop-valid").default)&&(ED=e=>e.startsWith("on")?!SD(e):CD(e))}catch(OM){}var CD;function TD(e,n,r,i){const s=(0,t.useMemo)((()=>{const t=oD();return mD(t,n,gD(i),e.transformTemplate),u(u({},t.attrs),{},{style:u({},t.style)})}),[n]);if(e.style){const t={};bD(t,e.style,e),s.style=u(u({},t),s.style)}return s}function _D(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(n,r,i,s,o)=>{let{latestValues:a}=s;const l=(Yj(n)?TD:xD)(r,a,o,n),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(ED(i)||!0===n&&SD(i)||!t&&!SD(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(r,"string"===typeof n,e),h=n!==t.Fragment?u(u(u({},c),l),{},{ref:i}):{},{children:d}=r,f=(0,t.useMemo)((()=>AI(d)?d.get():d),[d]);return(0,t.createElement)(n,u(u({},h),{},{children:f}))}}function AD(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return Wj(u(u({},Yj(n)?yD:vD),{},{preloadedFeatures:e,useRender:_D(r),createVisualElement:t,Component:n}))}}const ND={current:null},ID={current:!1};const PD=new WeakMap,RD=[...uA,_A,LA],jD=["willChange"],DD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class OD{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=ZA.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,v_.render(this.render,!1,!0))};const{latestValues:c,renderState:h}=a;this.latestValues=c,this.baseTarget=u({},c),this.initialValues=n.initial?u({},c):{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=Fj(n),this.isVariantNode=Uj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(n,{},this),{willChange:f}=d,p=s(d,jD);for(const s in p){const e=p[s];void 0!==c[s]&&AI(e)&&e.set(c[s],!1)}}mount(e){this.current=e,PD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),ID.current||function(){if(ID.current=!0,Rj)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ND.current=e.matches;e.addListener(t),t()}else ND.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||ND.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){PD.delete(this.current),this.projection&&this.projection.unmount(),b_(this.notifyUpdate),b_(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=n_.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&v_.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),i(),s&&s(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in qj){const t=qj[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<DD.length;n++){const t=DD[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],s=n[r];if(AI(i))e.addValue(r,i);else if(AI(s))e.addValue(r,kI(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,kI(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=kI(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(M_(r)||j_(r))?r=parseFloat(r):!(e=>RD.find(cA(e)))(r)&&LA.test(t)&&(r=GA(e,t)),this.setBaseTarget(e,AI(r)?r.get():r)),AI(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const i=$T(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||AI(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new bI),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class LD extends OD{constructor(){super(...arguments),this.KeyframeResolver=QA}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;AI(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}}class MD extends LD{constructor(){super(...arguments),this.type="html",this.renderInstance=Qj}readValueFromInstance(e,t){if(n_.has(t)){const e=KA(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(U_(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return KP(e,n)}build(e,t,n){uD(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Zj(e,t,n)}}class FD extends LD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=NP}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(n_.has(t)){const e=KA(t);return e&&e.default||0}return t=Xj.has(t)?t:CI(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return eD(e,t,n)}build(e,t,n){mD(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){$j(e,t,0,r)}mount(e){this.isSVGTag=gD(e.tagName),super.mount(e)}}const UD=(e,n)=>Yj(e)?new FD(n):new MD(n,{allowProjection:e!==t.Fragment}),VD=WT(AD(u(u(u(u({},GI),Aj),vj),Nj),UD)),BD=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()};var zD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qD=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],HD=(0,t.forwardRef)(((e,n)=>{let{color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:h}=e,d=s(e,qD);return(0,t.createElement)("svg",u(u({ref:n},zD),{},{width:i,height:i,stroke:r,strokeWidth:a?24*Number(o)/Number(i):o,className:BD("lucide",l)},d),[...h.map((e=>{let[n,r]=e;return(0,t.createElement)(n,r)})),...Array.isArray(c)?c:[c]])})),WD=["className"],KD=(e,n)=>{const r=(0,t.forwardRef)(((r,i)=>{let{className:o}=r,a=s(r,WD);return(0,t.createElement)(HD,u({ref:i,iconNode:n,className:BD("lucide-".concat((l=e,l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),o)},a));var l}));return r.displayName="".concat(e),r},GD=KD("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),YD=KD("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),QD=KD("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),XD=KD("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var $D=n(938),JD=n.n($D);const ZD=e=>{let{onSearch:n}=e;const[r,i]=(0,t.useState)(""),[s,o]=(0,t.useState)(!1),[a,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),h=(0,t.useRef)(null),d=(0,t.useRef)(null);return(0,Vw.jsxs)("div",{className:"relative flex flex-col gap-4",children:[(0,Vw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vw.jsxs)("div",{className:"relative flex-1",children:[(0,Vw.jsx)(YD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Vw.jsx)("input",{type:"text",value:r,onChange:e=>{i(e.target.value),n(e.target.value)},placeholder:"Search questions...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,Vw.jsx)("button",{onClick:()=>{const e=new(window.SpeechRecognition||window.webkitSpeechRecognition);e.onresult=e=>{const t=e.results[0][0].transcript;i(t),n(t),o(!1)},e.onend=()=>o(!1),e.start(),o(!0)},className:"p-2 rounded-lg ".concat(s?"bg-red-100":"bg-gray-100"," hover:bg-gray-200"),children:(0,Vw.jsx)(QD,{className:"w-5 h-5"})}),(0,Vw.jsxs)("label",{className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 cursor-pointer",children:[(0,Vw.jsx)(XD,{className:"w-5 h-5"}),(0,Vw.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onload=e=>{l(e.target.result)},n.readAsDataURL(t)}})]})]}),a&&(0,Vw.jsxs)("div",{className:"relative border rounded-lg p-2",children:[(0,Vw.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Click on the text you want to search"}),(0,Vw.jsxs)("div",{className:"relative",children:[(0,Vw.jsx)("img",{ref:d,src:a,alt:"Preview",className:"max-w-full h-auto"}),(0,Vw.jsx)("canvas",{ref:h,onClick:async e=>{if(!a||!h.current||!d.current)return;const t=h.current,r=t.getContext("2d"),s=t.getBoundingClientRect(),o=e.clientX-s.left,l=e.clientY-s.top;r.clearRect(0,0,t.width,t.height),r.strokeStyle="red",r.lineWidth=2,r.strokeRect(o-50,l-25,100,50),u(!0);try{const e=(await JD().recognize(d.current,"eng",{rectangle:{left:o-50,top:l-25,width:100,height:50}})).data.text.trim();i(e),n(e)}catch(c){console.error("OCR Error:",c)}finally{u(!1)}},className:"absolute top-0 left-0 w-full h-full cursor-crosshair"})]}),c&&(0,Vw.jsx)("div",{className:"absolute inset-0 bg-white/50 flex items-center justify-center",children:(0,Vw.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-500 border-t-transparent"})})]})]})},eO=e=>{let{filters:t,onFilterChange:n,showFilters:r}=e;return(0,Vw.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Vw.jsxs)("select",{value:t.subject,onChange:e=>n(u(u({},t),{},{subject:e.target.value})),className:"border p-2 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,Vw.jsx)("option",{value:"",children:"All Subjects"}),(0,Vw.jsx)("option",{value:"Math",children:"Math"}),(0,Vw.jsx)("option",{value:"Science",children:"Science"}),(0,Vw.jsx)("option",{value:"History",children:"History"}),(0,Vw.jsx)("option",{value:"English",children:"English"})]}),(0,Vw.jsxs)("select",{value:t.sortBy,onChange:e=>n(u(u({},t),{},{sortBy:e.target.value})),className:"border p-2 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,Vw.jsx)("option",{value:"recent",children:"Most Recent"}),(0,Vw.jsx)("option",{value:"votes",children:"Most Votes"})]})]})},tO=KD("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),nO=KD("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),rO=KD("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),iO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function sO(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const oO={date:sO({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:sO({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:sO({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},aO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function lO(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const cO={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:lO({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:lO({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:lO({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:lO({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:lO({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function uO(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(a,(e=>e.test(o))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(a,(e=>e.test(o)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(o.length)}}}const hO={ordinalNumber:(dO={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(dO.matchPattern);if(!n)return null;const r=n[0],i=e.match(dO.parsePattern);if(!i)return null;let s=dO.valueCallback?dO.valueCallback(i[0]):i[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(r.length)}}),era:uO({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:uO({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:uO({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:uO({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:uO({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var dO;const fO={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=iO[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:oO,formatRelative:(e,t,n,r)=>aO[e],localize:cO,match:hO,options:{weekStartsOn:0,firstWeekContainsDate:1}};let pO={};function mO(){return pO}Math.pow(10,8);const gO=43200,yO=Symbol.for("constructDateFrom");function vO(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&yO in e?e[yO](t):e instanceof Date?new e.constructor(t):new Date(t)}function bO(e,t){return vO(t||e,e)}function wO(e){const t=bO(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function xO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=vO.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(i)}function kO(e,t){const n=+bO(e)-+bO(t);return n<0?-1:n>0?1:n}function SO(e,t,n){const[r,i]=xO(null===n||void 0===n?void 0:n.in,e,t);return 12*(r.getFullYear()-i.getFullYear())+(r.getMonth()-i.getMonth())}function EO(e,t){const n=bO(e,null===t||void 0===t?void 0:t.in);return n.setHours(23,59,59,999),n}function CO(e,t){const n=bO(e,null===t||void 0===t?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function TO(e,t){const n=bO(e,null===t||void 0===t?void 0:t.in);return+EO(n,t)===+CO(n,t)}function _O(e,t,n){const[r,i,s]=xO(null===n||void 0===n?void 0:n.in,e,e,t),o=kO(i,s),a=Math.abs(SO(i,s));if(a<1)return 0;1===i.getMonth()&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*a);let l=kO(i,s)===-o;TO(r)&&1===a&&1===kO(r,s)&&(l=!1);const c=o*(a-+l);return 0===c?0:c}function AO(e,t){return+bO(e)-+bO(t)}function NO(e,t,n){const r=AO(e,t)/1e3;return(i=null===n||void 0===n?void 0:n.roundingMethod,e=>{const t=(i?Math[i]:Math.trunc)(e);return 0===t?0:t})(r);var i}function IO(e,t,n){var r,i;const s=mO(),o=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:s.locale)&&void 0!==r?r:fO,a=kO(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:null===n||void 0===n?void 0:n.addSuffix,comparison:a}),[c,u]=xO(null===n||void 0===n?void 0:n.in,...a>0?[t,e]:[e,t]),h=NO(u,c),d=(wO(u)-wO(c))/1e3,f=Math.round((h-d)/60);let p;if(f<2)return null!==n&&void 0!==n&&n.includeSeconds?h<5?o.formatDistance("lessThanXSeconds",5,l):h<10?o.formatDistance("lessThanXSeconds",10,l):h<20?o.formatDistance("lessThanXSeconds",20,l):h<40?o.formatDistance("halfAMinute",0,l):h<60?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",1,l):0===f?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",f,l);if(f<45)return o.formatDistance("xMinutes",f,l);if(f<90)return o.formatDistance("aboutXHours",1,l);if(f<1440){const e=Math.round(f/60);return o.formatDistance("aboutXHours",e,l)}if(f<2520)return o.formatDistance("xDays",1,l);if(f<gO){const e=Math.round(f/1440);return o.formatDistance("xDays",e,l)}if(f<86400)return p=Math.round(f/gO),o.formatDistance("aboutXMonths",p,l);if(p=_O(u,c),p<12){const e=Math.round(f/gO);return o.formatDistance("xMonths",e,l)}{const e=p%12,t=Math.trunc(p/12);return e<3?o.formatDistance("aboutXYears",t,l):e<9?o.formatDistance("overXYears",t,l):o.formatDistance("almostXYears",t+1,l)}}const PO=e=>{let{question:t,userVotes:n,onVote:r,onNavigate:i}=e;return(0,Vw.jsxs)(VD.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all duration-300 p-6",children:[(0,Vw.jsxs)("div",{className:"flex flex-col md:flex-row justify-between gap-4 mb-4",children:[(0,Vw.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Vw.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Vw.jsx)(tO,{className:"w-6 h-6 text-blue-500"})}),(0,Vw.jsxs)("div",{children:[(0,Vw.jsx)("h3",{className:"font-semibold",children:t.authorName}),(0,Vw.jsx)("p",{className:"text-sm text-gray-500",children:IO(t.timestamp.toDate(),new Date,{addSuffix:!0})})]})]}),(0,Vw.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Vw.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat(t.answered?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"),children:t.answered?"Answered":"Unanswered"}),(0,Vw.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:t.subject})]})]}),(0,Vw.jsx)("p",{className:"text-gray-700 mb-4",children:t.text}),(0,Vw.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vw.jsxs)("div",{className:"flex gap-4",children:[(0,Vw.jsxs)(VD.button,{whileTap:{scale:.95},onClick:()=>r(t.id),className:"flex items-center gap-1 ".concat(n[t.id]?"text-blue-500":"text-gray-500"," hover:text-blue-600 transition-colors duration-200"),children:[(0,Vw.jsx)(nO,{className:"w-5 h-5"}),(0,Vw.jsx)("span",{children:t.votes||0})]}),(0,Vw.jsxs)("div",{className:"flex items-center gap-1 text-gray-500",children:[(0,Vw.jsx)(rO,{className:"w-5 h-5"}),(0,Vw.jsx)("span",{children:t.replyCount||0})]})]}),(0,Vw.jsx)(VD.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>i("/question/".concat(t.id)),className:"text-blue-500 hover:text-blue-600 font-medium",children:"View Discussion \u2192"})]})]})},RO=e=>{let{questions:t=[],userVotes:n,onVote:r,onNavigate:i,showUnanswered:s=!1}=e;const o=s?t.filter((e=>!e.answered)):t;return o.length>0?(0,Vw.jsx)("div",{className:"space-y-4",children:o.map((e=>(0,Vw.jsx)(PO,{question:e,userVotes:n,onVote:r,onNavigate:i},e.id)))}):(0,Vw.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,Vw.jsx)("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"No questions found"}),(0,Vw.jsx)("p",{className:"text-gray-500",children:s?"No unanswered questions available.":"No questions match your criteria."})]})};function jO(){const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[s,o]=(0,t.useState)({}),[a,l]=(0,t.useState)(!1),[c,h]=(0,t.useState)({subject:"",sortBy:"recent",search:""}),[d,f]=(0,t.useState)("browse"),p=he();(0,t.useEffect)((()=>{m()}),[c,d]);const m=async()=>{if(gb.currentUser){i(!0);try{const e=(await nb($y(yb,"users",gb.currentUser.uid))).data();let t=Xy(yb,"community_questions"),r=[Bv("class","==",e.class)];"myQuestions"===d?r.push(Bv("authorId","==",gb.currentUser.uid)):"myAnswers"===d&&r.push(Bv("answeredBy","array-contains",gb.currentUser.uid)),c.subject&&r.push(Bv("subject","==",c.subject));let i=Uv(t,...r,Hv("recent"===c.sortBy?"timestamp":"votes","desc"));let s=(await ib(i)).docs.map((e=>u({id:e.id},e.data())));if(c.search){const e=c.search.toLowerCase();s=s.filter((t=>t.text.toLowerCase().includes(e)||t.subject.toLowerCase().includes(e)||t.authorName.toLowerCase().includes(e)))}const a=await nb($y(yb,"user_votes",gb.currentUser.uid));o(a.exists()?a.data():{}),n(s)}catch(e){console.error("Error:",e)}finally{i(!1)}}};return(0,Vw.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8",children:[(0,Vw.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[(0,Vw.jsxs)("div",{children:[(0,Vw.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900",children:"Community Forum"}),(0,Vw.jsx)("p",{className:"text-gray-600 mt-2",children:"Ask questions, share knowledge, help others"})]}),(0,Vw.jsx)(VD.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>p("/ask-question"),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium shadow-lg",children:"Ask Question"})]}),(0,Vw.jsx)("div",{className:"flex flex-wrap gap-4 mb-6",children:["browse","myQuestions","myAnswers"].map((e=>(0,Vw.jsx)(VD.button,{whileTap:{scale:.98},onClick:()=>f(e),className:"px-4 py-2 rounded-lg font-medium ".concat(d===e?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:"browse"===e?"Browse Questions":"myQuestions"===e?"My Questions":"My Answers"},e)))}),(0,Vw.jsx)(VD.div,{initial:!1,animate:{height:"auto"},transition:{duration:.3},className:"bg-white rounded-lg shadow-lg overflow-hidden mb-6",children:(0,Vw.jsxs)("div",{className:"p-4",children:[(0,Vw.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vw.jsx)(ZD,{onSearch:e=>h((t=>u(u({},t),{},{search:e})))}),(0,Vw.jsx)(VD.button,{whileTap:{scale:.95},onClick:()=>l(!a),className:"ml-4 p-2 rounded-lg hover:bg-gray-100",children:(0,Vw.jsx)(GD,{className:"w-5 h-5"})})]}),a&&(0,Vw.jsx)(VD.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,Vw.jsx)(eO,{filters:c,onFilterChange:h,showFilters:a})})]})}),r?(0,Vw.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Vw.jsx)("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):(0,Vw.jsx)(RO,{questions:e,userVotes:s,onVote:async e=>{if(gb.currentUser)try{const t=$y(yb,"community_questions",e),r=$y(yb,"user_votes",gb.currentUser.uid),i=s[e]?-1:1;await ob(t,{votes:pb(i)});const a=!s[e];await ob(r,{[e]:a}),o((t=>u(u({},t),{},{[e]:a}))),n((t=>t.map((t=>t.id===e?u(u({},t),{},{votes:(t.votes||0)+i}):t))))}catch(t){console.error("Error:",t)}},onNavigate:p,showUnanswered:"browse"===d&&!c.search}),(0,Vw.jsx)(zT,{})]})}const DO=()=>{const[e,n]=(0,t.useState)({text:"",subject:"",tags:[]}),r=he();return(0,Vw.jsxs)("div",{className:"container mx-auto p-4",children:[(0,Vw.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Ask a Question"}),(0,Vw.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const n=gb.currentUser;try{const t=(await nb($y(yb,"users",n.uid))).data();await ab(Xy(yb,"community_questions"),{text:e.text,subject:e.subject,tags:e.tags,author:n.uid,authorName:n.displayName||n.email.split("@")[0],class:t.class,timestamp:new Date,replyCount:0}),r("/community")}catch(i){console.error("Error posting question:",i),alert("Failed to post question")}},className:"max-w-md mx-auto",children:[(0,Vw.jsxs)("div",{className:"mb-4",children:[(0,Vw.jsx)("label",{className:"block mb-2",children:"Subject"}),(0,Vw.jsxs)("select",{value:e.subject,onChange:t=>n(u(u({},e),{},{subject:t.target.value})),className:"w-full border p-2 rounded",required:!0,children:[(0,Vw.jsx)("option",{value:"",children:"Select Subject"}),(0,Vw.jsx)("option",{value:"Math",children:"Math"}),(0,Vw.jsx)("option",{value:"Science",children:"Science"}),(0,Vw.jsx)("option",{value:"History",children:"History"}),(0,Vw.jsx)("option",{value:"English",children:"English"})]})]}),(0,Vw.jsxs)("div",{className:"mb-4",children:[(0,Vw.jsx)("label",{className:"block mb-2",children:"Question"}),(0,Vw.jsx)("textarea",{value:e.text,onChange:t=>n(u(u({},e),{},{text:t.target.value})),className:"w-full border p-2 rounded h-40",placeholder:"Type your question here...",required:!0})]}),(0,Vw.jsxs)("div",{className:"mb-4",children:[(0,Vw.jsx)("label",{className:"block mb-2",children:"Tags (Optional)"}),(0,Vw.jsx)("input",{type:"text",value:e.tags.join(", "),onChange:t=>n(u(u({},e),{},{tags:t.target.value.split(", ")})),className:"w-full border p-2 rounded",placeholder:"Enter tags separated by commas"})]}),(0,Vw.jsxs)("div",{className:"flex justify-between",children:[(0,Vw.jsx)("button",{type:"button",onClick:()=>r("/community"),className:"bg-gray-500 text-white px-4 py-2 rounded",children:"Cancel"}),(0,Vw.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Post Question"})]})]})]})},OO=()=>{const{questionId:e}=de(),[n,r]=(0,t.useState)(null),[i,s]=(0,t.useState)([]),[o,a]=(0,t.useState)(""),l=he();(0,t.useEffect)((()=>{(async()=>{try{const t=await nb($y(yb,"community_questions",e));t.exists()&&r(u({id:t.id},t.data()));const n=Uv(Xy(yb,"community_questions",e,"replies"),Hv("timestamp","desc")),i=(await ib(n)).docs.map((e=>u({id:e.id},e.data())));s(i)}catch(t){console.error("Error fetching question details:",t)}})()}),[e]);return n?(0,Vw.jsxs)("div",{className:"container mx-auto p-4",children:[(0,Vw.jsx)("button",{onClick:()=>l("/community"),className:"mb-4 text-blue-500 hover:underline",children:"\u2190 Back to Community"}),(0,Vw.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[(0,Vw.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Vw.jsxs)("div",{children:[(0,Vw.jsx)("h2",{className:"text-xl font-bold",children:n.authorName}),(0,Vw.jsx)("p",{className:"text-gray-500 text-sm",children:IO(n.timestamp.toDate(),new Date,{addSuffix:!0})})]}),(0,Vw.jsxs)("span",{className:"text-sm text-gray-600",children:["Subject: ",n.subject]})]}),(0,Vw.jsx)("p",{className:"mb-4",children:n.text}),n.tags&&n.tags.length>0&&(0,Vw.jsx)("div",{className:"flex space-x-2 mb-4",children:n.tags.map((e=>(0,Vw.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs",children:e},e)))})]}),(0,Vw.jsx)("form",{onSubmit:async t=>{t.preventDefault();const r=gb.currentUser;if(o.trim())try{const t=await ab(Xy(yb,"community_questions",e,"replies"),{text:o,author:r.uid,authorName:r.displayName||r.email.split("@")[0],timestamp:new Date,votes:0,isCorrect:!1});await ob($y(yb,"community_questions",e),{replyCount:(n.replyCount||0)+1}),s([{id:t.id,text:o,author:r.uid,authorName:r.displayName||r.email.split("@")[0],timestamp:new Date,votes:0,isCorrect:!1},...i]),a("")}catch(l){console.error("Error submitting reply:",l)}},className:"mb-6",children:(0,Vw.jsxs)("div",{className:"flex",children:[(0,Vw.jsx)("textarea",{value:o,onChange:e=>a(e.target.value),placeholder:"Write your reply...",className:"flex-grow border p-2 rounded-l h-24",required:!0}),(0,Vw.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-r",children:"Post Reply"})]})}),(0,Vw.jsxs)("div",{children:[(0,Vw.jsxs)("h3",{className:"text-lg font-bold mb-4",children:["Replies (",i.length,")"]}),0===i.length?(0,Vw.jsx)("div",{className:"text-center text-gray-500",children:"No replies yet. Be the first to respond!"}):i.map((t=>(0,Vw.jsxs)("div",{className:"border p-4 mb-4 rounded-lg shadow-sm",children:[(0,Vw.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Vw.jsxs)("div",{children:[(0,Vw.jsx)("h4",{className:"font-semibold",children:t.authorName}),(0,Vw.jsx)("p",{className:"text-gray-500 text-sm",children:IO(t.timestamp.toDate(),new Date,{addSuffix:!0})})]}),(0,Vw.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vw.jsxs)("button",{onClick:()=>(async(t,n)=>{try{const r=$y(yb,"community_questions",e,"replies",t),o=(await nb(r)).data().votes||0;await ob(r,{votes:n?o+1:o-1}),s(i.map((e=>e.id===t?u(u({},e),{},{votes:n?o+1:o-1}):e)))}catch(r){console.error("Error voting:",r)}})(t.id,!0),className:"flex items-center",children:["\ud83d\udc4d ",t.votes]}),t.isCorrect&&(0,Vw.jsx)("span",{className:"text-green-500",children:"\u2713 Correct Answer"})]})]}),(0,Vw.jsx)("p",{children:t.text})]},t.id)))]})]}):(0,Vw.jsx)("div",{children:"Loading..."})},LO=e=>{let{friend:n}=e;const[r,i]=(0,t.useState)(null),[s,o]=(0,t.useState)([]),[a,l]=(0,t.useState)(""),[c,h]=(0,t.useState)(null),d=(0,t.useRef)(null),f=(0,t.useRef)(null),p=gb.currentUser,m=(0,t.useCallback)((()=>[p.uid,n.id].sort().join("_")),[p.uid,n.id]);(0,t.useEffect)((()=>{const e=Uw("http://localhost:5000");i(e),e.emit("register_user",p.uid);return(async()=>{const e=m(),t=Uv(Xy(yb,"private_messages",e,"messages"),Hv("timestamp","asc"));try{const e=(await ib(t)).docs.map((e=>u({id:e.id},e.data())));o(e)}catch(n){console.error("Error fetching messages:",n)}})(),e.on("receive_private_message",(e=>{o((t=>[...t,e]))})),()=>{e.disconnect()}}),[n.id,p.uid,m]),(0,t.useEffect)((()=>{var e;null===(e=d.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[s]);const g=()=>{if(!a.trim())return;const e={senderId:p.uid,senderName:p.displayName||p.email.split("@")[0],receiverId:n.id,text:a,timestamp:new Date};r.emit("send_private_message",e),l("")},y=e=>{const t={senderId:p.uid,senderName:p.displayName||p.email.split("@")[0],receiverId:n.id,text:a,imageUrl:e,timestamp:new Date};r.emit("send_private_message",t),l(""),h(null),f.current.value=""};return(0,Vw.jsxs)("div",{className:"chat-container bg-white border rounded-lg shadow-md flex flex-col h-[600px]",children:[(0,Vw.jsx)("div",{className:"chat-header p-4 bg-blue-500 text-white rounded-t-lg",children:(0,Vw.jsxs)("h2",{children:["Chat with ",n.name]})}),(0,Vw.jsxs)("div",{className:"flex-grow overflow-y-auto p-4",children:[s.map(((e,t)=>(0,Vw.jsx)("div",{className:"mb-2 flex ".concat(e.senderId===p.uid?"justify-end":"justify-start"),children:(0,Vw.jsxs)("div",{className:"p-2 rounded-lg max-w-xs ".concat(e.senderId===p.uid?"bg-blue-100 text-right":"bg-gray-100"),children:[e.text&&(0,Vw.jsx)("p",{children:e.text}),e.imageUrl&&(0,Vw.jsx)("img",{src:e.imageUrl,alt:"Shared",className:"max-w-full rounded-lg mt-2"}),(0,Vw.jsx)("small",{className:"text-xs text-gray-500",children:e.senderName})]})},t))),(0,Vw.jsx)("div",{ref:d})]}),c&&(0,Vw.jsxs)("div",{className:"p-2 bg-gray-100 flex items-center",children:[(0,Vw.jsx)("img",{src:c,alt:"Preview",className:"h-20 w-20 object-cover rounded mr-2"}),(0,Vw.jsx)("button",{onClick:()=>{h(null),f.current.value=""},className:"text-red-500",children:"Remove"})]}),(0,Vw.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c?r.emit("upload_image",c,(e=>{e.success?y(e.imageUrl):alert("Image upload failed")})):g()},className:"p-4 border-t flex items-center",children:[(0,Vw.jsx)("input",{type:"file",ref:f,accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onloadend=()=>{h(e.result)},e.readAsDataURL(t)}},className:"hidden",id:"image-upload"}),(0,Vw.jsx)("label",{htmlFor:"image-upload",className:"mr-2 cursor-pointer",children:"\ud83d\udcf7"}),(0,Vw.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"Type a message...",className:"flex-grow p-2 border rounded-l"}),(0,Vw.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-r",children:"Send"})]})]})},MO=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(null),s=le();he();(0,t.useEffect)((()=>{var e;null!==(e=s.state)&&void 0!==e&&e.selectedFriend&&i(s.state.selectedFriend)}),[s.state]),(0,t.useEffect)((()=>{(async()=>{const e=gb.currentUser;if(e)try{const t=Uv(Xy(yb,"users",e.uid,"friends")),r=(await ib(t)).docs.map((e=>u({id:e.data().userId},e.data())));n(r)}catch(t){console.error("Error fetching friends:",t)}})()}),[]);return(0,Vw.jsxs)("div",{className:"container mx-auto p-4 flex",children:[(0,Vw.jsxs)("div",{className:"w-1/3 pr-4 border-r",children:[(0,Vw.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Friends"}),0===e.length?(0,Vw.jsx)("div",{className:"text-center text-gray-500",children:"No friends to chat with. Add friends first!"}):(0,Vw.jsx)("div",{className:"space-y-2",children:e.map((e=>(0,Vw.jsxs)("div",{onClick:()=>(e=>{i(e)})(e),className:"p-3 border rounded cursor-pointer hover:bg-gray-100 ".concat((null===r||void 0===r?void 0:r.id)===e.id?"bg-blue-100":""),children:[(0,Vw.jsx)("h3",{className:"font-bold",children:e.name}),(0,Vw.jsxs)("p",{className:"text-gray-500",children:["@",e.username]})]},e.id)))})]}),(0,Vw.jsx)("div",{className:"w-2/3 pl-4",children:r?(0,Vw.jsx)(LO,{friend:r}):(0,Vw.jsx)("div",{className:"text-center text-gray-500",children:"Select a friend to start chatting"})})]})},FO=()=>{const{friendId:e}=de(),[n,r]=(0,t.useState)(null),[i,s]=(0,t.useState)(!0),[o,a]=(0,t.useState)(!1),l=he();(0,t.useEffect)((()=>{(async()=>{try{const t=await nb($y(yb,"users",e));if(t.exists()){r(t.data());const n=gb.currentUser,i=Uv(Xy(yb,"users",n.uid,"friends"),Bv("userId","==",e)),s=await ib(i);a(!s.empty)}else console.log("No friend data found");s(!1)}catch(t){console.error("Error fetching friend profile:",t),s(!1)}})()}),[e]);return i?(0,Vw.jsx)("div",{className:"loading",children:"Loading friend profile..."}):n?(0,Vw.jsx)("div",{className:"friend-profile-container",children:(0,Vw.jsxs)("div",{className:"friend-profile-card",children:[(0,Vw.jsx)("div",{className:"friend-profile-header",children:(0,Vw.jsxs)("div",{className:"friend-profile-info",children:[(0,Vw.jsx)("h2",{className:"friend-profile-name",children:n.name}),(0,Vw.jsxs)("p",{className:"friend-profile-username",children:["@",n.username]})]})}),(0,Vw.jsxs)("div",{className:"friend-profile-details",children:[(0,Vw.jsxs)("p",{children:[(0,Vw.jsx)("strong",{children:"Class:"})," ",n.class]}),(0,Vw.jsxs)("p",{children:[(0,Vw.jsx)("strong",{children:"Age:"})," ",n.age]}),(0,Vw.jsxs)("p",{children:[(0,Vw.jsx)("strong",{children:"Email:"})," ",n.email]})]}),(0,Vw.jsxs)("div",{className:"friend-profile-buttons",children:[!o&&(0,Vw.jsx)("button",{onClick:async()=>{const t=gb.currentUser;try{await ab(Xy(yb,"users",t.uid,"friends"),{userId:e,name:n.name,username:n.username,addedAt:new Date}),await ab(Xy(yb,"users",e,"friends"),{userId:t.uid,name:t.displayName,username:t.email.split("@")[0],addedAt:new Date}),a(!0),alert("Friend added successfully!")}catch(r){console.error("Error adding friend:",r)}},className:"friend-profile-add-btn",children:"Add Friend"}),(0,Vw.jsx)("button",{onClick:()=>{l("/chats",{state:{selectedFriend:{id:e,name:n.name,username:n.username}}})},className:"friend-profile-chat-btn",disabled:!o,children:o?"Start Chat":"Add Friend to Chat"}),(0,Vw.jsx)("a",{href:"/profile",className:"friend-profile-back-btn",children:"Back"})]})]})}):(0,Vw.jsx)("div",{className:"not-found",children:"Friend profile not found"})},UO=KD("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),VO=KD("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),BO=KD("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),zO=KD("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),qO=()=>{const[e,n]=(0,t.useState)("list"),[r,i]=(0,t.useState)([]),[s,o]=(0,t.useState)(null),[a,l]=(0,t.useState)([]),[c,h]=(0,t.useState)(""),[d,f]=(0,t.useState)(""),[p,m]=(0,t.useState)({name:"",subject:"",class:"",type:"public"}),g=(0,t.useRef)(null),y=["Mathematics","Physics","Chemistry","Biology","Computer Science"],v=["9","10"];(0,t.useEffect)((()=>{"list"===e&&w()}),[e]),(0,t.useEffect)((()=>{if(s){const e=S(s.id);return()=>e()}}),[s]),(0,t.useEffect)((()=>{b()}),[a]);const b=()=>{var e;null===(e=g.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},w=async()=>{try{const e=Uv(Xy(yb,"study_rooms"),Bv("type","==","public"),Bv("class","==",gb.currentUser.class)),t=(await ib(e)).docs.map((e=>u({id:e.id},e.data())));i(t)}catch(e){console.error("Error fetching rooms:",e)}},x=async()=>{if(p.name&&p.subject&&p.class)try{const e=Math.random().toString(36).substring(2,8).toUpperCase(),t=u(u({},p),{},{creator:gb.currentUser.uid,creatorName:gb.currentUser.displayName,createdAt:hb(),members:[gb.currentUser.uid],memberNames:[gb.currentUser.displayName],roomCode:e}),r=u({id:(await ab(Xy(yb,"study_rooms"),t)).id},t);o(r),n("room")}catch(e){console.error("Error creating room:",e)}else alert("Please fill in all fields")},k=async()=>{if(d)try{const e=Uv(Xy(yb,"study_rooms"),Bv("roomCode","==",d.toUpperCase())),t=await ib(e);if(t.empty)return void alert("Room not found");const r=t.docs[0],i=r.data();if(i.members.includes(gb.currentUser.uid))return o(u({id:r.id},i)),void n("room");await ob($y(yb,"study_rooms",r.id),{members:[...i.members,gb.currentUser.uid],memberNames:[...i.memberNames,gb.currentUser.displayName]}),o(u({id:r.id},i)),n("room")}catch(e){console.error("Error joining room:",e)}else alert("Please enter a room code")},S=e=>lb(Uv(Xy(yb,"study_rooms/".concat(e,"/messages")),Hv("timestamp")),(e=>{const t=e.docs.map((e=>u({id:e.id},e.data())));l(t)})),E=async()=>{if(c.trim()&&s)try{await ab(Xy(yb,"study_rooms/".concat(s.id,"/messages")),{text:c.trim(),sender:gb.currentUser.uid,senderName:gb.currentUser.displayName,timestamp:hb()}),h("")}catch(e){console.error("Error sending message:",e)}},C=()=>(0,Vw.jsxs)("div",{className:"container mx-auto p-4",children:[(0,Vw.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Study Rooms"}),(0,Vw.jsxs)("div",{className:"flex space-x-4 mb-8",children:[(0,Vw.jsx)("button",{onClick:()=>n("create"),className:"bg-blue-500 text-white px-6 py-3 rounded-lg flex items-center space-x-2 hover:bg-blue-600 transition-colors",children:(0,Vw.jsx)("span",{children:"Create Room"})}),(0,Vw.jsx)("button",{onClick:()=>n("join"),className:"bg-green-500 text-white px-6 py-3 rounded-lg flex items-center space-x-2 hover:bg-green-600 transition-colors",children:(0,Vw.jsx)("span",{children:"Join Room"})}),(0,Vw.jsx)(zT,{})]}),(0,Vw.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Public Rooms"}),(0,Vw.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:r.map((e=>(0,Vw.jsxs)("div",{className:"border p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[(0,Vw.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Vw.jsx)("h4",{className:"font-bold text-lg",children:e.name}),(0,Vw.jsx)(UO,{className:"w-5 h-5 text-gray-500"})]}),(0,Vw.jsxs)("p",{className:"text-gray-600",children:["Subject: ",e.subject]}),(0,Vw.jsxs)("p",{className:"text-gray-600",children:["Class: ",e.class]}),(0,Vw.jsxs)("div",{className:"flex items-center text-gray-600 mt-2",children:[(0,Vw.jsx)(VO,{className:"w-4 h-4 mr-1"}),(0,Vw.jsxs)("span",{children:[e.memberNames.length," members"]})]}),(0,Vw.jsx)("button",{className:"mt-4 w-full bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition-colors",onClick:()=>(async e=>{try{e.members.includes(gb.currentUser.uid)||await ob($y(yb,"study_rooms",e.id),{members:[...e.members,gb.currentUser.uid],memberNames:[...e.memberNames,gb.currentUser.displayName]}),o(e),n("room")}catch(t){console.error("Error joining room:",t)}})(e),children:"Join Room"})]},e.id)))}),(0,Vw.jsx)(zT,{})]});switch(e){case"join":return(0,Vw.jsxs)("div",{className:"container mx-auto p-4 max-w-md",children:[(0,Vw.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Join Study Room"}),(0,Vw.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,Vw.jsxs)("div",{className:"mb-6",children:[(0,Vw.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Room Code"}),(0,Vw.jsx)("input",{type:"text",placeholder:"Enter room code",value:d,onChange:e=>f(e.target.value),className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Vw.jsxs)("div",{className:"flex space-x-4",children:[(0,Vw.jsx)("button",{onClick:k,className:"flex-1 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition-colors",children:"Join Private Room"}),(0,Vw.jsx)("button",{onClick:()=>n("list"),className:"flex-1 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors",children:"Browse Public Rooms"})]})]}),(0,Vw.jsx)(zT,{})]});case"create":return(0,Vw.jsxs)("div",{className:"container mx-auto p-4 max-w-md",children:[(0,Vw.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Create Study Room"}),(0,Vw.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,Vw.jsxs)("div",{className:"space-y-4",children:[(0,Vw.jsxs)("div",{children:[(0,Vw.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Room Name"}),(0,Vw.jsx)("input",{type:"text",placeholder:"Enter room name",value:p.name,onChange:e=>m(u(u({},p),{},{name:e.target.value})),className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Vw.jsxs)("div",{children:[(0,Vw.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Subject"}),(0,Vw.jsxs)("select",{value:p.subject,onChange:e=>m(u(u({},p),{},{subject:e.target.value})),className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Vw.jsx)("option",{value:"",children:"Select Subject"}),y.map((e=>(0,Vw.jsx)("option",{value:e,children:e},e)))]})]}),(0,Vw.jsxs)("div",{children:[(0,Vw.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Class"}),(0,Vw.jsxs)("select",{value:p.class,onChange:e=>m(u(u({},p),{},{class:e.target.value})),className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Vw.jsx)("option",{value:"",children:"Select Class"}),v.map((e=>(0,Vw.jsx)("option",{value:e,children:e},e)))]})]}),(0,Vw.jsxs)("div",{children:[(0,Vw.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Room Type"}),(0,Vw.jsxs)("div",{className:"flex space-x-4",children:[(0,Vw.jsxs)("button",{onClick:()=>m(u(u({},p),{},{type:"public"})),className:"flex-1 py-2 px-4 rounded flex items-center justify-center space-x-2 ".concat("public"===p.type?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"),children:[(0,Vw.jsx)(UO,{className:"w-4 h-4"}),(0,Vw.jsx)("span",{children:"Public"})]}),(0,Vw.jsxs)("button",{onClick:()=>m(u(u({},p),{},{type:"private"})),className:"flex-1 py-2 px-4 rounded flex items-center justify-center space-x-2 ".concat("private"===p.type?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"),children:[(0,Vw.jsx)(BO,{className:"w-4 h-4"}),(0,Vw.jsx)("span",{children:"Private"})]})]})]}),(0,Vw.jsx)(zT,{})]}),(0,Vw.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,Vw.jsx)("button",{onClick:x,className:"flex-1 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors",children:"Create Room"}),(0,Vw.jsx)("button",{onClick:()=>n("list"),className:"flex-1 bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 transition-colors",children:"Cancel"})]})]}),(0,Vw.jsx)(zT,{})]});case"room":return(0,Vw.jsx)("div",{className:"container mx-auto p-4",children:(0,Vw.jsxs)("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md",children:[(0,Vw.jsxs)("div",{className:"border-b p-4",children:[(0,Vw.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vw.jsxs)("div",{children:[(0,Vw.jsx)("h2",{className:"text-xl font-bold",children:s.name}),(0,Vw.jsxs)("p",{className:"text-gray-600",children:[s.subject," - Class ",s.class]})]}),(0,Vw.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vw.jsx)(VO,{className:"w-5 h-5 text-gray-500"}),(0,Vw.jsx)("span",{className:"text-gray-600",children:s.memberNames.length}),(0,Vw.jsx)("button",{onClick:()=>{o(null),n("list")},className:"ml-4 px-4 py-2 bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition-colors",children:"Leave Room"})]})]}),"private"===s.type&&(0,Vw.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 rounded flex items-center justify-between",children:[(0,Vw.jsxs)("span",{className:"text-sm text-gray-600",children:["Room Code: ",s.roomCode]}),(0,Vw.jsx)("button",{onClick:()=>navigator.clipboard.writeText(s.roomCode),className:"text-blue-500 text-sm hover:text-blue-600",children:"Copy Code"})]})]}),(0,Vw.jsxs)("div",{className:"border-b p-4",children:[(0,Vw.jsx)("h3",{className:"font-semibold mb-2",children:"Members"}),(0,Vw.jsx)("div",{className:"flex flex-wrap gap-2",children:s.memberNames.map(((e,t)=>(0,Vw.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:e},t)))})]}),(0,Vw.jsx)("div",{className:"h-96 overflow-y-auto p-4",children:(0,Vw.jsxs)("div",{className:"space-y-4",children:[a.map((e=>(0,Vw.jsx)("div",{className:"flex ".concat(e.sender===gb.currentUser.uid?"justify-end":"justify-start"),children:(0,Vw.jsxs)("div",{className:"max-w-[70%] rounded-lg p-3 ".concat(e.sender===gb.currentUser.uid?"bg-blue-500 text-white":"bg-gray-100 text-gray-800"),children:[(0,Vw.jsx)("div",{className:"text-sm mb-1",children:e.sender!==gb.currentUser.uid&&(0,Vw.jsx)("span",{className:"font-medium",children:e.senderName})}),(0,Vw.jsx)("p",{children:e.text}),e.timestamp&&(0,Vw.jsx)("div",{className:"text-xs mt-1 ".concat(e.sender===gb.currentUser.uid?"text-blue-100":"text-gray-500"),children:new Date(e.timestamp.toDate()).toLocaleTimeString()})]})},e.id))),(0,Vw.jsx)("div",{ref:g})]})}),(0,Vw.jsx)("div",{className:"border-t p-4",children:(0,Vw.jsxs)("div",{className:"flex space-x-2",children:[(0,Vw.jsx)("input",{type:"text",value:c,onChange:e=>h(e.target.value),onKeyPress:e=>"Enter"===e.key&&E(),placeholder:"Type your message...",className:"flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Vw.jsx)("button",{onClick:E,disabled:!c.trim(),className:"bg-blue-500 text-white p-2 rounded-lg hover:bg-blue-600 transition-colors disabled:bg-gray-300",children:(0,Vw.jsx)(zO,{className:"w-5 h-5"})})]})})]})});default:return C()}};class HO extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function WO(e){let{children:n,isPresent:r}=e;const i=(0,t.useId)(),s=(0,t.useRef)(null),o=(0,t.useRef)({width:0,height:0,top:0,left:0}),{nonce:a}=(0,t.useContext)(Ij);return(0,t.useInsertionEffect)((()=>{const{width:e,height:t,top:n,left:l}=o.current;if(r||!s.current||!e||!t)return;s.current.dataset.motionPopId=i;const c=document.createElement("style");return a&&(c.nonce=a),document.head.appendChild(c),c.sheet&&c.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(n,"px !important;\n            left: ").concat(l,"px !important;\n          }\n        ")),()=>{document.head.removeChild(c)}}),[r]),(0,Vw.jsx)(HO,{isPresent:r,childRef:s,sizeRef:o,children:t.cloneElement(n,{ref:s})})}const KO=e=>{let{children:n,initial:r,isPresent:i,onExitComplete:s,custom:o,presenceAffectsLayout:a,mode:l}=e;const c=tD(GO),u=(0,t.useId)(),h=(0,t.useCallback)((e=>{c.set(e,!0);for(const t of c.values())if(!t)return;s&&s()}),[c,s]),d=(0,t.useMemo)((()=>({id:u,initial:r,isPresent:i,custom:o,onExitComplete:h,register:e=>(c.set(e,!1),()=>c.delete(e))})),a?[Math.random(),h]:[i,h]);return(0,t.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[i]),t.useEffect((()=>{!i&&!c.size&&s&&s()}),[i]),"popLayout"===l&&(n=(0,Vw.jsx)(WO,{isPresent:i,children:n})),(0,Vw.jsx)(JP.Provider,{value:d,children:n})};function GO(){return new Map}const YO=e=>e.key||"";function QO(e){const n=[];return t.Children.forEach(e,(e=>{(0,t.isValidElement)(e)&&n.push(e)})),n}const XO=e=>{let{children:n,exitBeforeEnter:r,custom:i,initial:s=!0,onExitComplete:o,presenceAffectsLayout:a=!0,mode:l="sync"}=e;L_(!r,"Replace exitBeforeEnter with mode='wait'");const c=(0,t.useMemo)((()=>QO(n)),[n]),u=c.map(YO),h=(0,t.useRef)(!0),d=(0,t.useRef)(c),f=tD((()=>new Map)),[p,m]=(0,t.useState)(c),[g,y]=(0,t.useState)(c);jj((()=>{h.current=!1,d.current=c;for(let e=0;e<g.length;e++){const t=YO(g[e]);u.includes(t)?f.delete(t):!0!==f.get(t)&&f.set(t,!1)}}),[g,u.length,u.join("-")]);const v=[];if(c!==p){let e=[...c];for(let t=0;t<g.length;t++){const n=g[t],r=YO(n);u.includes(r)||(e.splice(t,0,n),v.push(n))}return"wait"===l&&v.length&&(e=v),y(QO(e)),void m(c)}const{forceRender:b}=(0,t.useContext)(ZP);return(0,Vw.jsx)(Vw.Fragment,{children:g.map((e=>{const t=YO(e),n=c===g||u.includes(t);return(0,Vw.jsx)(KO,{isPresent:n,initial:!(h.current&&!s)&&void 0,custom:n?void 0:i,presenceAffectsLayout:a,mode:l,onExitComplete:n?void 0:()=>{if(!f.has(t))return;f.set(t,!0);let e=!0;f.forEach((t=>{t||(e=!1)})),e&&(null===b||void 0===b||b(),y(d.current),o&&o())},children:e},t)}))})},$O=KD("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),JO=KD("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),ZO=KD("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),eL=KD("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),tL=KD("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),nL=KD("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function rL(e){let{friend:n,friends:r,setFriends:i,navigate:s}=e;const[o,a]=(0,t.useState)([]),[l,c]=(0,t.useState)(""),[h,d]=(0,t.useState)(null),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(""),[y,v]=(0,t.useState)([]),[b,w]=(0,t.useState)(0),x=(0,t.useRef)(null),k=(0,t.useRef)(null);(0,t.useEffect)((()=>{const e=iL(gb.currentUser.uid,n.userId),t=Uv(Xy(yb,"chats",e,"messages"),Hv("timestamp","asc"));nb($y(yb,"chats",e)).then((e=>{e.exists()&&v(e.data().pinnedMessages||[])}));const r=lb(t,(t=>{const n=t.docs.map((e=>u({id:e.id},e.data())));a(n),n.forEach((async t=>{if(t.sender!==gb.currentUser.uid&&!t.read){const n=$y(yb,"chats",e,"messages",t.id);await ob(n,{read:!0})}}))}));return()=>r()}),[n.userId]);const S=async e=>{try{const t=Math.round((new Date).getTime()/1e3),n={timestamp:t,public_id:"chat_images/".concat(gb.currentUser.uid,"_").concat(t),folder:"chat_images"},{signature:r}=await(async e=>{try{const t=await fetch("/api/generate-signature",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()}catch(t){throw console.error("Error generating signature:",t),t}})(n),i=new FormData;i.append("file",e),i.append("timestamp",t),i.append("public_id",n.public_id),i.append("folder",n.folder),i.append("api_key","372516621742566"),i.append("signature",r);const s=await fetch("https://api.cloudinary.com/v1_1/".concat("dfqyzvyuh","/image/upload"),{method:"POST",body:i});if(!s.ok)throw new Error("Upload failed");return(await s.json()).secure_url}catch(t){return console.error("Error uploading image:",t),alert("Failed to upload image"),null}},E=async e=>{const t=iL(gb.currentUser.uid,n.userId);await function(e){return cb(qy(e.firestore,ev),[new lp(e._key,Qf.none())])}($y(yb,"chats",t,"messages",e))};return(0,Vw.jsxs)("div",{className:"chat",children:[(0,Vw.jsxs)("div",{className:"chat-header",children:[(0,Vw.jsxs)("div",{className:"chat-header-info",children:[(0,Vw.jsx)("img",{src:n.photoURL||"/default-avatar.png",alt:""}),(0,Vw.jsxs)("div",{children:[(0,Vw.jsx)("h3",{children:n.nickname||n.name}),(0,Vw.jsxs)("p",{children:["@",n.username]})]}),(0,Vw.jsx)("div",{className:"unread-count",children:b>0&&(0,Vw.jsx)("span",{className:"unread-badge",children:b})})]}),(0,Vw.jsxs)("div",{className:"chat-header-actions",children:[(0,Vw.jsx)("button",{onClick:()=>p(!0),children:(0,Vw.jsx)(JO,{size:18})}),(0,Vw.jsx)("button",{onClick:()=>s("/friend-profile/".concat(n.userId)),children:(0,Vw.jsx)(tO,{size:18})})]})]}),y.length>0&&(0,Vw.jsxs)("div",{className:"pinned-messages",children:[(0,Vw.jsx)("h4",{children:"Pinned Messages"}),y.map((e=>(0,Vw.jsx)("div",{className:"pinned-message"},e.id)))]}),(0,Vw.jsxs)("div",{className:"messages",children:[(0,Vw.jsx)(XO,{children:o.map((e=>{var t;return(0,Vw.jsxs)(VD.div,{className:"message ".concat(e.sender===gb.currentUser.uid?"sent":"received"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},children:["image"===e.type?(0,Vw.jsx)("img",{src:e.imageUrl,alt:"Shared",className:"message-image"}):(0,Vw.jsx)("p",{children:e.text}),(0,Vw.jsxs)("div",{className:"message-footer",children:[(0,Vw.jsxs)("span",{className:"timestamp",children:[null===(t=e.timestamp)||void 0===t?void 0:t.toDate().toLocaleTimeString(),e.edited&&" (edited)",e.read&&e.sender===gb.currentUser.uid&&(0,Vw.jsx)(ZO,{size:14,className:"read-receipt"})]}),e.sender===gb.currentUser.uid&&"text"===e.type&&(0,Vw.jsxs)("div",{className:"message-actions",children:[(0,Vw.jsx)("button",{onClick:()=>(async e=>{try{const t=iL(gb.currentUser.uid,n.userId),r=$y(yb,"chats",t),i=o.find((t=>t.id===e));if(!i)return;const s=y.some((t=>t.id===e))?y.filter((t=>t.id!==e)):[...y,{id:e,text:i.text,type:i.type}];await ob(r,{pinnedMessages:s}),v(s),alert(s.length>y.length?"Message pinned!":"Message unpinned!")}catch(t){console.error("Error toggling pin:",t),alert("Failed to pin/unpin message")}})(e.id)}),(0,Vw.jsx)("button",{onClick:()=>{d(e),c(e.text)},children:(0,Vw.jsx)(JO,{size:14})}),(0,Vw.jsx)("button",{onClick:()=>E(e.id),children:(0,Vw.jsx)(eL,{size:14})})]}),"text"===e.type&&(0,Vw.jsx)("button",{onClick:()=>{return t=e.text,void navigator.clipboard.writeText(t);var t},children:(0,Vw.jsx)(tL,{size:14})})]})]},e.id)}))}),(0,Vw.jsx)("div",{ref:x})]}),(0,Vw.jsxs)("form",{onSubmit:async e=>{var t;if(e.preventDefault(),!l.trim())return;const r=iL(gb.currentUser.uid,n.userId),i=Xy(yb,"chats",r,"messages");if(h){const e=$y(yb,"chats",r,"messages",h.id);await ob(e,{text:l,edited:!0}),d(null)}else await ab(i,{type:"text",text:l,sender:gb.currentUser.uid,timestamp:hb(),read:!1});c(""),null===(t=x.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})},className:"message-input",children:[(0,Vw.jsx)("button",{type:"button",className:"upload-image-btn",onClick:()=>{var e;return null===(e=k.current)||void 0===e?void 0:e.click()},children:(0,Vw.jsx)(XD,{size:20})}),(0,Vw.jsx)("input",{type:"file",ref:k,onChange:async e=>{const t=e.target.files[0];if(!t)return;const r=await S(t);if(r){const e=iL(gb.currentUser.uid,n.userId),t=Xy(yb,"chats",e,"messages");await ab(t,{type:"image",imageUrl:r,sender:gb.currentUser.uid,timestamp:hb(),read:!1})}},accept:"image/*",style:{display:"none"}}),(0,Vw.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:h?"Edit message...":"Type a message..."}),(0,Vw.jsx)("button",{type:"submit",children:h?"Update":"Send"}),h&&(0,Vw.jsx)("button",{type:"button",className:"cancel-edit-btn",onClick:()=>{d(null),c("")},children:(0,Vw.jsx)(nL,{size:20})})]}),f&&(0,Vw.jsx)("div",{className:"modal",children:(0,Vw.jsxs)("div",{className:"modal-content",children:[(0,Vw.jsx)("h3",{children:"Change Nickname"}),(0,Vw.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"Enter new nickname"}),(0,Vw.jsxs)("div",{className:"modal-actions",children:[(0,Vw.jsx)("button",{onClick:async()=>{if(m.trim())try{const e=$y(yb,"users",gb.currentUser.uid),t=r.map((e=>e.userId===n.userId?u(u({},e),{},{nickname:m.trim()}):e));await ob(e,{friends:t}),i(t),p(!1),g(""),alert("Nickname updated successfully!")}catch(e){console.error("Error updating nickname:",e),alert("Failed to update nickname. Please try again.")}else alert("Nickname cannot be empty")},children:"Save"}),(0,Vw.jsx)("button",{onClick:()=>p(!1),children:"Cancel"})]})]})})]})}function iL(e,t){return[e,t].sort().join("_")}const sL=function(){const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)([]),[s,o]=(0,t.useState)([]),[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(""),[h,d]=(0,t.useState)(!1),[f,p]=(0,t.useState)(""),m=he();return(0,t.useEffect)((()=>{const e=lb($y(yb,"users",gb.currentUser.uid),(e=>{if(e.exists()){const t=e.data();i(t.friends||[]),o(t.friendRequests||[])}}));return()=>e()}),[]),(0,Vw.jsxs)("div",{className:"messages-container",children:[(0,Vw.jsxs)("div",{className:"sidebar",children:[(0,Vw.jsxs)("div",{className:"search-header",children:[(0,Vw.jsx)("div",{className:"search-bar",children:(0,Vw.jsx)("input",{type:"text",placeholder:"Search messages...",value:c,onChange:e=>u(e.target.value)})}),(0,Vw.jsx)("button",{className:"add-friend-btn",onClick:()=>d(!0),children:(0,Vw.jsx)($O,{size:20})})]}),h&&(0,Vw.jsx)("div",{className:"add-friend-modal",children:(0,Vw.jsxs)("div",{className:"modal-content",children:[(0,Vw.jsx)("h3",{children:"Add Friend by Username"}),(0,Vw.jsx)("input",{type:"text",placeholder:"Enter username",value:f,onChange:e=>p(e.target.value)}),(0,Vw.jsxs)("div",{className:"modal-actions",children:[(0,Vw.jsx)("button",{onClick:async()=>{if(f.trim())try{const e=Uv(Xy(yb,"users"),Bv("username","==",f.trim())),t=await ib(e);if(t.empty)return void alert("User not found");const n=t.docs[0],r=(n.data(),n.id);if(r===gb.currentUser.uid)return void alert("You cannot add yourself as a friend");const i=Uv(Xy(yb,"users",gb.currentUser.uid,"friends"),Bv("userId","==",r));if(!(await ib(i)).empty)return void alert("Already friends with this user");const s=$y(yb,"users",r);await ob(s,{friendRequests:db({userId:gb.currentUser.uid,username:gb.currentUser.displayName,name:gb.currentUser.displayName,email:gb.currentUser.email,photoURL:gb.currentUser.photoURL})}),alert("Friend request sent!"),p(""),d(!1)}catch(e){console.error("Error adding friend:",e),alert("Failed to send friend request")}},children:"Add"}),(0,Vw.jsx)("button",{onClick:()=>d(!1),children:"Cancel"})]})]})}),(0,Vw.jsxs)("div",{className:"tab-buttons",children:[(0,Vw.jsx)("button",{className:a?"":"active",onClick:()=>l(!1),children:"Messages"}),(0,Vw.jsxs)("button",{className:a?"active":"",onClick:()=>l(!0),children:["Requests (",s.length,")"]})]}),(0,Vw.jsx)(XO,{mode:"wait",children:a?(0,Vw.jsx)(VD.div,{className:"requests-list",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:s.map((e=>(0,Vw.jsxs)(VD.div,{className:"request-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[(0,Vw.jsx)("img",{src:e.photoURL||"/default-avatar.png",alt:""}),(0,Vw.jsxs)("div",{className:"request-info",children:[(0,Vw.jsx)("h3",{children:e.username}),(0,Vw.jsx)("p",{children:e.email})]}),(0,Vw.jsxs)("div",{className:"request-actions",children:[(0,Vw.jsx)("button",{onClick:()=>(async e=>{const t=gb.currentUser;try{const n=$y(yb,"users",t.uid),r=$y(yb,"users",e.userId);await ob(n,{friends:db({userId:e.userId,username:e.username,email:e.email,photoURL:e.photoURL}),friendRequests:fb(e)}),await ob(r,{friends:db({userId:t.uid,username:t.displayName,email:t.email,photoURL:t.photoURL})}),alert("Friend request accepted!")}catch(n){console.error("Error accepting friend request:",n),alert("Failed to accept friend request")}})(e),children:"Accept"}),(0,Vw.jsx)("button",{onClick:()=>(async e=>{const t=gb.currentUser;try{const n=$y(yb,"users",t.uid);await ob(n,{friendRequests:fb(e)}),alert("Friend request rejected")}catch(n){console.error("Error rejecting friend request:",n),alert("Failed to reject friend request")}})(e),children:"Reject"})]})]},e.userId)))}):(0,Vw.jsx)(VD.div,{className:"friends-list"})})]}),(0,Vw.jsx)("div",{className:"chat-area",children:e?(0,Vw.jsx)(rL,{friend:e,friends:r,setFriends:i,navigate:m}):(0,Vw.jsx)("div",{className:"no-chat-selected",children:(0,Vw.jsx)("h2",{children:"Select a conversation to start messaging"})})})]})},oL=()=>{const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(!1),[s,o]=(0,t.useState)(""),a=he();(0,t.useEffect)((()=>{const e=gb.onAuthStateChanged((async e=>{e&&(await e.reload(),e.emailVerified&&(n(!0),a("/home")))}));return()=>e()}),[a]);return(0,Vw.jsxs)("div",{style:{textAlign:"center",marginTop:"50px"},children:[(0,Vw.jsx)("h2",{children:"Email Verification"}),(0,Vw.jsx)("p",{children:"Please check your email and verify your account."}),(0,Vw.jsx)("p",{children:"If you did not receive the email, you can resend it below:"}),(0,Vw.jsx)("button",{onClick:async()=>{i(!0),o("");try{gb.currentUser?(await ls(gb.currentUser),o("Verification email sent! Please check your inbox.")):o("Unable to resend verification. Please log in again.")}catch(e){o("Error: ".concat(e.message))}i(!1)},disabled:r,style:{padding:"10px 20px",backgroundColor:r?"#ccc":"#007BFF",color:"#fff",border:"none",borderRadius:"5px",cursor:r?"not-allowed":"pointer",marginTop:"20px"},children:r?"Resending...":"Resend Verification Email"}),s&&(0,Vw.jsx)("p",{style:{marginTop:"20px",color:"green",fontWeight:"bold"},children:s})]})},aL=()=>{const{classId:e,subject:n}=de(),r=he(),[i,s]=(0,t.useState)([]);return(0,t.useEffect)((()=>{(async()=>{const t=$y(yb,"courses","".concat(e,"-").concat(n)),r=await nb(t);r.exists()&&s(r.data().chapters||[])})()}),[e,n]),(0,Vw.jsxs)("div",{className:"course-details",children:[(0,Vw.jsxs)("div",{className:"header",children:[(0,Vw.jsx)("button",{onClick:()=>r(-1),className:"back-button",children:"\u2190"}),(0,Vw.jsxs)("h1",{children:["Class ",e," - ",n]})]}),(0,Vw.jsx)("div",{className:"chapters-grid",children:i.map(((t,i)=>(0,Vw.jsxs)("div",{className:"chapter-card",onClick:()=>r("/class/".concat(e,"/").concat(n,"/chapter/").concat(t.id)),children:[(0,Vw.jsx)("h3",{children:t.title}),(0,Vw.jsx)("p",{children:t.description}),(0,Vw.jsx)("div",{className:"progress-bar",children:(0,Vw.jsx)("div",{className:"progress-fill",style:{width:"".concat(t.progress||0,"%")}})})]},i)))})]})},lL=()=>{const{classId:e,subject:n,chapterId:r}=de(),i=he(),[s,o]=(0,t.useState)([]),[a,l]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{(async()=>{try{const t=$y(yb,"chapters","".concat(e,"-").concat(n,"-").concat(r)),i=await nb(t);i.exists()&&o(i.data().sections||[]),l(!1)}catch(t){console.error("Error fetching sections:",t),l(!1)}})()}),[e,n,r]),a?(0,Vw.jsx)("div",{className:"loading-container",children:(0,Vw.jsx)("div",{className:"spinner"})}):(0,Vw.jsxs)("div",{className:"chapter-details",children:[(0,Vw.jsxs)("div",{className:"header",children:[(0,Vw.jsx)("button",{onClick:()=>i(-1),className:"back-button",children:"\u2190"}),(0,Vw.jsxs)("h1",{children:["Chapter ",r]})]}),(0,Vw.jsx)("div",{className:"sections-grid",children:s.map(((t,s)=>(0,Vw.jsxs)("div",{className:"section-card",onClick:()=>{const s="/class/".concat(e,"/").concat(n,"/chapter/").concat(r,"/section/").concat(t.id);console.log("Navigating to:",s),i(s)},children:[(0,Vw.jsx)("h3",{children:t.title}),(0,Vw.jsx)("p",{children:t.description}),t.completed&&(0,Vw.jsx)("span",{className:"completion-badge",children:"\u2713"})]},s)))})]})},cL=()=>{const{classId:e,subject:n,chapterId:r,sectionId:i}=de(),s=he(),[o,a]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{(async()=>{try{console.log("Fetching section:","".concat(e,"-").concat(n,"-").concat(r,"-").concat(i));const t=$y(yb,"sections","".concat(e,"-").concat(n,"-").concat(r,"-").concat(i)),s=await nb(t);s.exists()&&a(s.data().lessons||[]),c(!1)}catch(t){console.error("Error fetching lessons:",t),c(!1)}})()}),[e,n,r,i]),l?(0,Vw.jsx)("div",{className:"loading-container",children:(0,Vw.jsx)("div",{className:"spinner"})}):(0,Vw.jsxs)("div",{className:"section-learning",children:[(0,Vw.jsxs)("div",{className:"header",children:[(0,Vw.jsx)("button",{onClick:()=>s(-1),className:"back-button",children:"\u2190"}),(0,Vw.jsxs)("h1",{children:["Section ",i]})]}),(0,Vw.jsx)("div",{className:"lessons-container",children:o.map(((e,t)=>(0,Vw.jsxs)("div",{className:"lesson-circle",onClick:()=>s("lesson/".concat(e.id)),children:[(0,Vw.jsxs)("div",{className:"circle",children:[(0,Vw.jsxs)("svg",{viewBox:"0 0 100 100",children:[(0,Vw.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#e0e0e0",strokeWidth:"8"}),(0,Vw.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#4CAF50",strokeWidth:"8",strokeDasharray:"".concat(e.completedParts/e.totalParts*251.2," 251.2"),transform:"rotate(-90 50 50)"})]}),(0,Vw.jsx)("span",{className:"lesson-number",children:t+1})]}),(0,Vw.jsx)("p",{className:"lesson-title",children:e.title})]},t)))})]})},uL=e=>{let{onComplete:n}=e;const[r,i]=(0,t.useState)(null),[s,o]=(0,t.useState)(0);(0,t.useEffect)((()=>{i(Date.now());const e=setInterval((()=>{o(Math.floor((Date.now()-r)/1e3))}),1e3);return()=>clearInterval(e)}),[]);return(0,Vw.jsxs)("div",{className:"lesson-timer",children:[(0,Vw.jsx)("span",{className:"timer-icon",children:"\u23f1\ufe0f"}),(0,Vw.jsx)("span",{children:(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))})(s)})]})},hL=()=>{const{classId:e,subject:n,chapterId:r,sectionId:i,lessonId:s}=de(),o=he(),[a,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!0),[h,d]=(0,t.useState)(0),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(0),[y,v]=(0,t.useState)(0),[b,w]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(async()=>{try{const o=$y(yb,"sections","".concat(e,"-").concat(n,"-").concat(r,"-").concat(i)),a=await nb(o);if(a.exists()){var t;const e=null===(t=a.data().lessons)||void 0===t?void 0:t.find((e=>e.id===s));e&&(l(e),g(Date.now()))}u(!1)}catch(o){console.error("Error fetching lesson:",o),u(!1)}})()}),[e,n,r,i,s]),(0,t.useEffect)((()=>{const e=setInterval((()=>{v((e=>e+1))}),1e3);return()=>clearInterval(e)}),[]);const x=async(e,t)=>{t===e.correct?h+1>=a.content.parts.length?w(!0):d((e=>e+1)):alert("Incorrect! Try again.")};if(c)return(0,Vw.jsx)("div",{className:"loading-container",children:(0,Vw.jsx)("div",{className:"spinner"})});if(!a)return(0,Vw.jsxs)("div",{className:"error-container",children:[(0,Vw.jsx)("h2",{children:"Lesson not found"}),(0,Vw.jsx)("button",{onClick:()=>o(-1),children:"Go Back"})]});const{content:k}=a;return(0,Vw.jsxs)("div",{className:"lesson-container",children:[(0,Vw.jsxs)("div",{className:"lesson-header",children:[(0,Vw.jsx)("button",{onClick:()=>o(-1),className:"back-button",children:"\u2190"}),(0,Vw.jsx)("h1",{children:a.title}),(0,Vw.jsx)(uL,{elapsed:y})," "]}),(0,Vw.jsx)("div",{className:"lesson-content",children:k&&(0,Vw.jsxs)(Vw.Fragment,{children:[(C=k.theory,C?(0,Vw.jsxs)("div",{className:"theory-section",children:[(0,Vw.jsx)("h2",{children:"Theory"}),(0,Vw.jsx)("div",{className:"theory-content",children:C.split("\n").map(((e,t)=>(0,Vw.jsx)("p",{children:e},t)))})]}):null),(E=k.examples,E&&E.length?(0,Vw.jsxs)("div",{className:"examples-section",children:[(0,Vw.jsx)("h2",{children:"Examples"}),E.map(((e,t)=>(0,Vw.jsxs)("div",{className:"example-card",children:[e.equation&&(0,Vw.jsx)("div",{className:"equation",children:(0,Vw.jsx)("code",{children:e.equation})}),e.explanation&&(0,Vw.jsx)("div",{className:"explanation",children:(0,Vw.jsx)("p",{children:e.explanation})}),e.solution&&(0,Vw.jsxs)("div",{className:"solution",children:[(0,Vw.jsx)("strong",{children:"Solution:"}),(0,Vw.jsx)("p",{children:e.solution})]})]},t)))]}):null),(S=k.practice,S&&S.length?(0,Vw.jsxs)("div",{className:"practice-section",children:[(0,Vw.jsx)("h2",{children:"Practice"}),S.map(((e,t)=>(0,Vw.jsxs)("div",{className:"practice-question",children:[(0,Vw.jsx)("p",{className:"question",children:e.question}),(0,Vw.jsx)("div",{className:"options",children:e.options.map(((t,n)=>(0,Vw.jsx)("button",{className:"option-button",onClick:()=>x(e,n),children:t},n)))})]},t)))]}):null)]})}),b&&(0,Vw.jsxs)("div",{className:"completion-prompt",children:[(0,Vw.jsx)("h2",{children:"You've completed all parts of the lesson!"}),(0,Vw.jsx)("button",{onClick:async()=>{if(gb.currentUser)try{const e=Math.floor(y);await(async(e,t,n)=>{var r;const i=$y(yb,"userProgress",e),s=$y(yb,"lessons",t),o=(await nb(s)).data().xpReward;await ob(i,{totalXP:pb(o),["lessonHistory.".concat(t)]:{completed:!0,timeSpent:n,xpEarned:o,lastAttempt:new Date,attempts:pb(1)}});const a=null===(r=(await nb(i)).data().lastCompletedDate)||void 0===r?void 0:r.toDate(),l=new Date;a&&a.getDate()===l.getDate()-1?await ob(i,{streakDays:pb(1),lastCompletedDate:l}):a&&a.getDate()===l.getDate()||await ob(i,{streakDays:1,lastCompletedDate:l}),Ix.success("+".concat(o," XP!"))})(gb.currentUser.uid,s,e),p(!0)}catch(e){console.error("Error updating progress:",e)}},className:"complete-button",children:"Finish Lesson"})]}),f&&(0,Vw.jsx)("div",{className:"completion-modal",children:(0,Vw.jsxs)("div",{className:"modal-content",children:[(0,Vw.jsx)("h2",{children:"Lesson Complete! \ud83c\udf89"}),(0,Vw.jsxs)("p",{children:["You've earned ",a.xpReward," XP!"]}),(0,Vw.jsx)("button",{onClick:()=>o(-1),children:"Continue"})]})})]});var S,E,C};function dL(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new fL(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function fL(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return fL=function(e){this.s=e,this.n=e.next},fL.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new fL(e)}const pL=KD("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),mL=KD("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]),gL=KD("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),yL=e=>{let{isInChat:t,onMenuClick:n,onNewChat:r,onMoreOptionsClick:i}=e;return(0,Vw.jsxs)("nav",{className:"fixed top-0 left-0 right-0 h-14 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center px-4 z-50",children:[(0,Vw.jsx)("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:(0,Vw.jsx)(pL,{className:"w-5 h-5"})}),(0,Vw.jsx)("div",{className:"flex-1 flex justify-center",children:(0,Vw.jsx)("div",{className:"px-4 py-1 border border-gray-200 dark:border-gray-700 rounded-lg",children:(0,Vw.jsx)("span",{className:"text-lg font-semibold",children:"Lio"})})}),(0,Vw.jsxs)("div",{className:"flex items-center gap-2",children:[t&&(0,Vw.jsx)("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:(0,Vw.jsx)(mL,{className:"w-5 h-5"})}),(0,Vw.jsx)("button",{onClick:i,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:(0,Vw.jsx)(gL,{className:"w-5 h-5"})})]})]})},vL=KD("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),bL=e=>{let{isOpen:t,chats:n,onNewChat:r,onChatSelect:i,searchQuery:s,onSearchChange:o}=e;return(0,Vw.jsxs)("div",{className:"fixed left-0 top-0 h-full w-64 bg-gray-50 dark:bg-gray-900 transform transition-transform duration-300 ease-in-out ".concat(t?"translate-x-0":"-translate-x-full"," z-40 pt-14"),children:[(0,Vw.jsxs)("div",{className:"p-4",children:[(0,Vw.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Vw.jsxs)("div",{className:"flex-1 relative",children:[(0,Vw.jsx)(YD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Vw.jsx)("input",{type:"text",placeholder:"Search chats...",value:s,onChange:o,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),(0,Vw.jsx)("button",{onClick:r,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg",children:(0,Vw.jsx)(mL,{className:"w-4 h-4"})})]}),(0,Vw.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Chats"}),(0,Vw.jsx)("div",{className:"space-y-1 max-h-[calc(100vh-200px)] overflow-y-auto",children:n.map((e=>(0,Vw.jsx)("button",{onClick:()=>i(e.id),className:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700",children:e.title},e.id)))})]}),(0,Vw.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 dark:border-gray-700",children:(0,Vw.jsxs)("button",{className:"flex items-center gap-2 px-3 py-2 w-full rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700",children:[(0,Vw.jsx)(vL,{className:"w-4 h-4"}),(0,Vw.jsx)("span",{children:"Settings"})]})})]})},wL=KD("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),xL=KD("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),kL=e=>{let{isVoiceMode:n,onVoiceModeToggle:r,onMessageSend:i,onFileUpload:s,isListening:o}=e;const[a,l]=(0,t.useState)(""),c=(0,t.useRef)(null);return(0,Vw.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4",children:(0,Vw.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a.trim()&&(i(a),l(""))},className:"flex items-center gap-2 max-w-3xl mx-auto",children:[(0,Vw.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.click()},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:(0,Vw.jsx)(wL,{className:"w-5 h-5"})}),(0,Vw.jsx)("input",{type:"file",ref:c,onChange:s,className:"hidden",multiple:!0}),(0,Vw.jsxs)("div",{className:"flex-1 relative",children:[(0,Vw.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:n?"Listening...":"Message Lio...",disabled:n,className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"}),!a&&!n&&(0,Vw.jsx)("button",{type:"button",className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:(0,Vw.jsx)(QD,{className:"w-4 h-4"})})]}),a?(0,Vw.jsx)("button",{type:"submit",className:"p-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg",children:(0,Vw.jsx)(zO,{className:"w-5 h-5"})}):(0,Vw.jsx)("button",{type:"button",onClick:r,className:"p-2 ".concat(n?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600"," text-white rounded-lg"),children:(0,Vw.jsx)(xL,{className:"w-5 h-5"})})]})})},SL=e=>{let{isListening:t,transcript:n}=e;return(0,Vw.jsx)("div",{className:"fixed bottom-24 left-1/2 transform -translate-x-1/2 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 ".concat(t?"opacity-100":"opacity-0"," transition-opacity duration-200"),children:(0,Vw.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,Vw.jsx)("div",{className:"relative",children:(0,Vw.jsx)("div",{className:"w-16 h-16 rounded-full border-4 border-blue-500 flex items-center justify-center ".concat(t?"animate-pulse":""),children:(0,Vw.jsx)(QD,{className:"w-8 h-8 ".concat(t?"text-blue-500":"text-gray-400")})})}),(0,Vw.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t?"Listening...":"Click to start speaking"}),n&&(0,Vw.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 max-w-md text-center",children:n})]})})},EL=KD("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);function CL(e,t){this.v=e,this.k=t}function TL(e){return function(){return new _L(e.apply(this,arguments))}}function _L(e){var t,n;function r(t,n){try{var s=e[t](n),o=s.value,a=o instanceof CL;Promise.resolve(a?o.v:o).then((function(n){if(a){var l="return"===t?"return":"next";if(!o.k||n.done)return r(l,n);n=e[l](n).value}i(s.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(s,o){var a={key:e,arg:i,resolve:s,reject:o,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function AL(e){return new CL(e,0)}function NL(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new CL(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}_L.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},_L.prototype.next=function(e){return this._invoke("next",e)},_L.prototype.throw=function(e){return this._invoke("throw",e)},_L.prototype.return=function(e){return this._invoke("return",e)};const IL=["accessToken","endpointUrl"];var PL=Object.defineProperty,RL={};function jL(e,t){const n=Array.isArray(t)?t:[t],r=Object.keys(e).filter((e=>!function(e,t){return e.includes(t)}(n,e)));return function(e,t){return Object.assign({},...t.map((t=>{if(void 0!==e[t])return{[t]:e[t]}})))}(e,r)}function DL(e){return/^http(s?):/.test(e)||e.startsWith("/")}((e,t)=>{for(var n in t)PL(e,n,{get:t[n],enumerable:!0})})(RL,{audioClassification:()=>YL,audioToAudio:()=>$L,automaticSpeechRecognition:()=>QL,chatCompletion:()=>wM,chatCompletionStream:()=>xM,documentQuestionAnswering:()=>SM,featureExtraction:()=>oM,fillMask:()=>aM,imageClassification:()=>JL,imageSegmentation:()=>ZL,imageToImage:()=>iM,imageToText:()=>eM,objectDetection:()=>tM,questionAnswering:()=>lM,request:()=>qL,sentenceSimilarity:()=>cM,streamingRequest:()=>WL,summarization:()=>uM,tableQuestionAnswering:()=>hM,tabularClassification:()=>TM,tabularRegression:()=>CM,textClassification:()=>dM,textGeneration:()=>pM,textGenerationStream:()=>mM,textToImage:()=>nM,textToSpeech:()=>XL,tokenClassification:()=>yM,translation:()=>vM,visualQuestionAnswering:()=>EM,zeroShotClassification:()=>bM,zeroShotImageClassification:()=>sM});var OL=new Map,LL=6e5,ML=1e3,FL="https://huggingface.co";async function UL(e,t,n){if(DL(e))return null;const r="".concat(e,":").concat(t);let i=OL.get(r);if(i&&i.date<new Date(Date.now()-LL)&&(OL.delete(r),i=void 0),void 0===i){var s;const o=await(null!==(s=null===n||void 0===n?void 0:n.fetch)&&void 0!==s?s:fetch)("".concat(FL,"/api/models/").concat(e,"?expand[]=pipeline_tag"),{headers:t?{Authorization:"Bearer ".concat(t)}:{}}).then((e=>e.json())).then((e=>e.pipeline_tag)).catch((()=>null));if(!o)return null;i={task:o,date:new Date},OL.set(r,{task:o,date:new Date}),OL.size>ML&&OL.delete(OL.keys().next().value)}return i.task}var VL="https://api-inference.huggingface.co",BL=null;async function zL(e,t){const{accessToken:n,endpointUrl:r}=e,i=s(e,IL);let{model:o}=e;const{forceTask:a,includeCredentials:l,taskHint:c,wait_for_model:h,use_cache:d,dont_load_model:f,chatCompletion:p}=null!==t&&void 0!==t?t:{},m={};if(n&&(m.Authorization="Bearer ".concat(n)),!o&&!BL&&c){const e=await fetch("".concat(FL,"/api/tasks"));e.ok&&(BL=await e.json())}if(!o&&BL&&c){const e=BL[c];e&&(o=e.models[0].id)}if(!o)throw new Error("No model provided, and no default model found for this task");const g="data"in e&&!!e.data;g||(m["Content-Type"]="application/json"),h&&(m["X-Wait-For-Model"]="true"),!1===d&&(m["X-Use-Cache"]="false"),f&&(m["X-Load-Model"]="0");let y,v=(()=>{if(r&&DL(o))throw new TypeError("Both model and endpointUrl cannot be URLs");return DL(o)?(console.warn("Using a model URL is deprecated, please use the `endpointUrl` parameter instead"),o):r||(a?"".concat(VL,"/pipeline/").concat(a,"/").concat(o):"".concat(VL,"/models/").concat(o))})();p&&!v.endsWith("/chat/completions")&&(v+="/v1/chat/completions"),"string"===typeof l?y=l:!0===l&&(y="include");return{url:v,info:u(u({headers:m,method:"POST",body:g?e.data:JSON.stringify(u({},i.model&&DL(i.model)?jL(i,"model"):i))},y&&{credentials:y}),{},{signal:null===t||void 0===t?void 0:t.signal})}}async function qL(e,t){var n,r;const{url:i,info:s}=await zL(e,t),o=await(null!==(n=null===t||void 0===t?void 0:t.fetch)&&void 0!==n?n:fetch)(i,s);if(!1!==(null===t||void 0===t?void 0:t.retry_on_error)&&503===o.status&&(null===t||void 0===t||!t.wait_for_model))return qL(e,u(u({},t),{},{wait_for_model:!0}));if(!o.ok){var a;if(null!==(a=o.headers.get("Content-Type"))&&void 0!==a&&a.startsWith("application/json")){const n=await o.json();if([400,422,404,500].includes(o.status)&&null!==t&&void 0!==t&&t.chatCompletion)throw new Error("Server ".concat(e.model," does not seem to support chat completion. Error: ").concat(n.error));if(n.error)throw new Error(JSON.stringify(n.error))}throw new Error("An error occurred while fetching the blob")}return null!==(r=o.headers.get("Content-Type"))&&void 0!==r&&r.startsWith("application/json")?await o.json():await o.blob()}function HL(e){let t,n,r,i=!1;return function(s){void 0===t?(t=s,n=0,r=-1):t=function(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(t,s);const o=t.length;let a=0;for(;n<o;){i&&(10===t[n]&&(a=++n),i=!1);let s=-1;for(;n<o&&-1===s;++n)switch(t[n]){case 58:-1===r&&(r=n-a);break;case 13:i=!0;case 10:s=n}if(-1===s)break;e(t.subarray(a,s),r),a=n,r=-1}a===o?t=void 0:0!==a&&(t=t.subarray(a),n-=a)}}function WL(e,t){return KL.apply(this,arguments)}function KL(){return KL=TL((function*(e,t){var n,r;const{url:i,info:s}=yield AL(zL(u(u({},e),{},{stream:!0}),t)),o=yield AL((null!==(n=null===t||void 0===t?void 0:t.fetch)&&void 0!==n?n:fetch)(i,s));if(!1!==(null===t||void 0===t?void 0:t.retry_on_error)&&503===o.status&&(null===t||void 0===t||!t.wait_for_model))return yield*NL(dL(WL(e,u(u({},t),{},{wait_for_model:!0}))));if(!o.ok){var a;if(null!==(a=o.headers.get("Content-Type"))&&void 0!==a&&a.startsWith("application/json")){const n=yield AL(o.json());if([400,422,404,500].includes(o.status)&&null!==t&&void 0!==t&&t.chatCompletion)throw new Error("Server ".concat(e.model," does not seem to support chat completion. Error: ").concat(n.error));if(n.error)throw new Error(n.error)}throw new Error("Server response contains error: ".concat(o.status))}if(null===(r=o.headers.get("content-type"))||void 0===r||!r.startsWith("text/event-stream"))throw new Error("Server does not support event stream content type, it returned "+o.headers.get("content-type"));if(!o.body)return;const l=o.body.getReader();let c=[];const h=HL(function(e,t,n){let r={data:"",event:"",id:"",retry:void 0};const i=new TextDecoder;return function(s,o){if(0===s.length)null===n||void 0===n||n(r),r={data:"",event:"",id:"",retry:void 0};else if(o>0){const n=i.decode(s.subarray(0,o)),a=o+(32===s[o+1]?2:1),l=i.decode(s.subarray(a));switch(n){case"data":r.data=r.data?r.data+"\n"+l:l;break;case"event":r.event=l;break;case"id":e(r.id=l);break;case"retry":const n=parseInt(l,10);isNaN(n)||t(r.retry=n)}}}}((()=>{}),(()=>{}),(e=>{c.push(e)})));try{for(;;){const{done:e,value:t}=yield AL(l.read());if(e)return;h(t);for(const n of c)if(n.data.length>0){if("[DONE]"===n.data)return;const e=JSON.parse(n.data);if("object"===typeof e&&null!==e&&"error"in e)throw new Error(e.error);yield e}c=[]}}finally{l.releaseLock()}})),KL.apply(this,arguments)}var GL=class extends TypeError{constructor(e){super("Invalid inference output: ".concat(e,". Use the 'request' method with the same parameters to do a custom call with no type checking.")),this.name="InferenceOutputError"}};async function YL(e,t){const n=await qL(e,u(u({},t),{},{taskHint:"audio-classification"})),r=Array.isArray(n)&&n.every((e=>"string"===typeof e.label&&"number"===typeof e.score));if(!r)throw new GL("Expected Array<{label: string, score: number}>");return n}async function QL(e,t){const n=await qL(e,u(u({},t),{},{taskHint:"automatic-speech-recognition"}));if(!("string"===typeof(null===n||void 0===n?void 0:n.text)))throw new GL("Expected {text: string}");return n}async function XL(e,t){const n=await qL(e,u(u({},t),{},{taskHint:"text-to-speech"}));if(!(n&&n instanceof Blob))throw new GL("Expected Blob");return n}async function $L(e,t){const n=await qL(e,u(u({},t),{},{taskHint:"audio-to-audio"})),r=Array.isArray(n)&&n.every((e=>"string"===typeof e.label&&"string"===typeof e.blob&&"string"===typeof e["content-type"]));if(!r)throw new GL("Expected Array<{label: string, blob: string, content-type: string}>");return n}async function JL(e,t){const n=await qL(e,u(u({},t),{},{taskHint:"image-classification"})),r=Array.isArray(n)&&n.every((e=>"string"===typeof e.label&&"number"===typeof e.score));if(!r)throw new GL("Expected Array<{label: string, score: number}>");return n}async function ZL(e,t){const n=await qL(e,u(u({},t),{},{taskHint:"image-segmentation"})),r=Array.isArray(n)&&n.every((e=>"string"===typeof e.label&&"string"===typeof e.mask&&"number"===typeof e.score));if(!r)throw new GL("Expected Array<{label: string, mask: string, score: number}>");return n}async function eM(e,t){var n;const r=null===(n=await qL(e,u(u({},t),{},{taskHint:"image-to-text"})))||void 0===n?void 0:n[0];if("string"!==typeof(null===r||void 0===r?void 0:r.generated_text))throw new GL("Expected {generated_text: string}");return r}async function tM(e,t){const n=await qL(e,u(u({},t),{},{taskHint:"object-detection"})),r=Array.isArray(n)&&n.every((e=>"string"===typeof e.label&&"number"===typeof e.score&&"number"===typeof e.box.xmin&&"number"===typeof e.box.ymin&&"number"===typeof e.box.xmax&&"number"===typeof e.box.ymax));if(!r)throw new GL("Expected Array<{label:string; score:number; box:{xmin:number; ymin:number; xmax:number; ymax:number}}>");return n}async function nM(e,t){const n=await qL(e,u(u({},t),{},{taskHint:"text-to-image"}));if(!(n&&n instanceof Blob))throw new GL("Expected Blob");return n}function rM(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");{const t=[];return e.forEach((e=>{t.push(String.fromCharCode(e))})),globalThis.btoa(t.join(""))}}async function iM(e,t){let n;n=e.parameters?u(u({},e),{},{inputs:rM(new Uint8Array(e.inputs instanceof ArrayBuffer?e.inputs:await e.inputs.arrayBuffer()))}):{accessToken:e.accessToken,model:e.model,data:e.inputs};const r=await qL(n,u(u({},t),{},{taskHint:"image-to-image"}));if(!(r&&r instanceof Blob))throw new GL("Expected Blob");return r}async function sM(e,t){const n=u(u({},e),{},{inputs:{image:rM(new Uint8Array(e.inputs.image instanceof ArrayBuffer?e.inputs.image:await e.inputs.image.arrayBuffer()))}}),r=await qL(n,u(u({},t),{},{taskHint:"zero-shot-image-classification"})),i=Array.isArray(r)&&r.every((e=>"string"===typeof e.label&&"number"===typeof e.score));if(!i)throw new GL("Expected Array<{label: string, score: number}>");return r}async function oM(e,t){const n=e.model?await UL(e.model,e.accessToken,t):void 0,r=await qL(e,u(u({},t),{},{taskHint:"feature-extraction"},"sentence-similarity"===n&&{forceTask:"feature-extraction"}));let i=!0;const s=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return!(n>t)&&(e.every((e=>Array.isArray(e)))?e.every((e=>s(e,t,n+1))):e.every((e=>"number"===typeof e)))};if(i=Array.isArray(r)&&s(r,3,0),!i)throw new GL("Expected Array<number[][][] | number[][] | number[] | number>");return r}async function aM(e,t){const n=await qL(e,u(u({},t),{},{taskHint:"fill-mask"})),r=Array.isArray(n)&&n.every((e=>"number"===typeof e.score&&"string"===typeof e.sequence&&"number"===typeof e.token&&"string"===typeof e.token_str));if(!r)throw new GL("Expected Array<{score: number, sequence: string, token: number, token_str: string}>");return n}async function lM(e,t){const n=await qL(e,u(u({},t),{},{taskHint:"question-answering"}));if(!("object"===typeof n&&!!n&&"string"===typeof n.answer&&"number"===typeof n.end&&"number"===typeof n.score&&"number"===typeof n.start))throw new GL("Expected {answer: string, end: number, score: number, start: number}");return n}async function cM(e,t){const n=e.model?await UL(e.model,e.accessToken,t):void 0,r=await qL(e,u(u({},t),{},{taskHint:"sentence-similarity"},"feature-extraction"===n&&{forceTask:"sentence-similarity"})),i=Array.isArray(r)&&r.every((e=>"number"===typeof e));if(!i)throw new GL("Expected number[]");return r}async function uM(e,t){const n=await qL(e,u(u({},t),{},{taskHint:"summarization"})),r=Array.isArray(n)&&n.every((e=>"string"===typeof(null===e||void 0===e?void 0:e.summary_text)));if(!r)throw new GL("Expected Array<{summary_text: string}>");return null===n||void 0===n?void 0:n[0]}async function hM(e,t){const n=await qL(e,u(u({},t),{},{taskHint:"table-question-answering"})),r="string"===typeof(null===n||void 0===n?void 0:n.aggregator)&&"string"===typeof n.answer&&Array.isArray(n.cells)&&n.cells.every((e=>"string"===typeof e))&&Array.isArray(n.coordinates)&&n.coordinates.every((e=>Array.isArray(e)&&e.every((e=>"number"===typeof e))));if(!r)throw new GL("Expected {aggregator: string, answer: string, cells: string[], coordinates: number[][]}");return n}async function dM(e,t){var n;const r=null===(n=await qL(e,u(u({},t),{},{taskHint:"text-classification"})))||void 0===n?void 0:n[0],i=Array.isArray(r)&&r.every((e=>"string"===typeof(null===e||void 0===e?void 0:e.label)&&"number"===typeof e.score));if(!i)throw new GL("Expected Array<{label: string, score: number}>");return r}function fM(e){return Array.isArray(e)?e:[e]}async function pM(e,t){const n=fM(await qL(e,u(u({},t),{},{taskHint:"text-generation"}))),r=Array.isArray(n)&&n.every((e=>"string"===typeof(null===e||void 0===e?void 0:e.generated_text)));if(!r)throw new GL("Expected Array<{generated_text: string}>");return null===n||void 0===n?void 0:n[0]}function mM(e,t){return gM.apply(this,arguments)}function gM(){return gM=TL((function*(e,t){yield*NL(dL(WL(e,u(u({},t),{},{taskHint:"text-generation"}))))})),gM.apply(this,arguments)}async function yM(e,t){const n=fM(await qL(e,u(u({},t),{},{taskHint:"token-classification"}))),r=Array.isArray(n)&&n.every((e=>"number"===typeof e.end&&"string"===typeof e.entity_group&&"number"===typeof e.score&&"number"===typeof e.start&&"string"===typeof e.word));if(!r)throw new GL("Expected Array<{end: number, entity_group: string, score: number, start: number, word: string}>");return n}async function vM(e,t){const n=await qL(e,u(u({},t),{},{taskHint:"translation"})),r=Array.isArray(n)&&n.every((e=>"string"===typeof(null===e||void 0===e?void 0:e.translation_text)));if(!r)throw new GL("Expected type Array<{translation_text: string}>");return 1===(null===n||void 0===n?void 0:n.length)?null===n||void 0===n?void 0:n[0]:n}async function bM(e,t){const n=fM(await qL(e,u(u({},t),{},{taskHint:"zero-shot-classification"}))),r=Array.isArray(n)&&n.every((e=>Array.isArray(e.labels)&&e.labels.every((e=>"string"===typeof e))&&Array.isArray(e.scores)&&e.scores.every((e=>"number"===typeof e))&&"string"===typeof e.sequence));if(!r)throw new GL("Expected Array<{labels: string[], scores: number[], sequence: string}>");return n}async function wM(e,t){const n=await qL(e,u(u({},t),{},{taskHint:"text-generation",chatCompletion:!0}));if(!("object"===typeof n&&Array.isArray(null===n||void 0===n?void 0:n.choices)&&"number"===typeof(null===n||void 0===n?void 0:n.created)&&"string"===typeof(null===n||void 0===n?void 0:n.id)&&"string"===typeof(null===n||void 0===n?void 0:n.model)&&"string"===typeof(null===n||void 0===n?void 0:n.system_fingerprint)&&"object"===typeof(null===n||void 0===n?void 0:n.usage)))throw new GL("Expected ChatCompletionOutput");return n}function xM(e,t){return kM.apply(this,arguments)}function kM(){return kM=TL((function*(e,t){yield*NL(dL(WL(e,u(u({},t),{},{taskHint:"text-generation",chatCompletion:!0}))))})),kM.apply(this,arguments)}async function SM(e,t){var n;const r=u(u({},e),{},{inputs:{question:e.inputs.question,image:rM(new Uint8Array(e.inputs.image instanceof ArrayBuffer?e.inputs.image:await e.inputs.image.arrayBuffer()))}}),i=null===(n=fM(await qL(r,u(u({},t),{},{taskHint:"document-question-answering"}))))||void 0===n?void 0:n[0];if(!("string"===typeof(null===i||void 0===i?void 0:i.answer)&&("number"===typeof i.end||"undefined"===typeof i.end)&&("number"===typeof i.score||"undefined"===typeof i.score)&&("number"===typeof i.start||"undefined"===typeof i.start)))throw new GL("Expected Array<{answer: string, end?: number, score?: number, start?: number}>");return i}async function EM(e,t){var n;const r=u(u({},e),{},{inputs:{question:e.inputs.question,image:rM(new Uint8Array(e.inputs.image instanceof ArrayBuffer?e.inputs.image:await e.inputs.image.arrayBuffer()))}}),i=null===(n=await qL(r,u(u({},t),{},{taskHint:"visual-question-answering"})))||void 0===n?void 0:n[0];if(!("string"===typeof(null===i||void 0===i?void 0:i.answer)&&"number"===typeof i.score))throw new GL("Expected Array<{answer: string, score: number}>");return i}async function CM(e,t){const n=await qL(e,u(u({},t),{},{taskHint:"tabular-regression"})),r=Array.isArray(n)&&n.every((e=>"number"===typeof e));if(!r)throw new GL("Expected number[]");return n}async function TM(e,t){const n=await qL(e,u(u({},t),{},{taskHint:"tabular-classification"})),r=Array.isArray(n)&&n.every((e=>"number"===typeof e));if(!r)throw new GL("Expected number[]");return n}var _M=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,"accessToken",void 0),l(this,"defaultOptions",void 0),this.accessToken=e,this.defaultOptions=t;for(const[n,r]of Object.entries(RL))Object.defineProperty(this,n,{enumerable:!1,value:(n,i)=>r(u(u({},n),{},{accessToken:e}),u(u({},t),i))})}endpoint(e){return new AM(e,this.accessToken,this.defaultOptions)}},AM=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(const[r,i]of Object.entries(RL))Object.defineProperty(this,r,{enumerable:!1,value:(r,s)=>i(u(u({},r),{},{accessToken:t,endpointUrl:e}),u(u({},n),s))})}};const NM=()=>{const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(!1),[s,o]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(""),[h,d]=(0,t.useState)([]),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)(null),[y,v]=(0,t.useState)(""),[b,w]=(0,t.useState)(!1),x=(0,t.useRef)(null),k=window.speechSynthesis,S=(0,t.useRef)(null),E=(0,t.useRef)(null);(0,t.useEffect)((()=>{S.current=new _M("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")}),[]);const C=async e=>{if(!S.current)throw new Error("HuggingFace client not initialized");try{const a="".concat("You are Lio, a helpful and knowledgeable AI assistant. Provide clear, accurate, and relevant responses to questions. Keep responses concise and focused on the user's query.","\n\nUser: ").concat(e,"\nAssistant:");let l="",c="",u=!0,h=!1;const f=await S.current.textGenerationStream({model:"google/gemma-1.1-2b-it",inputs:a,parameters:{max_new_tokens:256,temperature:.7,top_p:.95,repetition_penalty:1.1,stream:!0}});var t,n=!1,r=!1;try{for(var i,s=dL(f);n=!(i=await s.next()).done;n=!1){const e=i.value;var o;if(h)break;if(null!==e&&void 0!==e&&null!==(o=e.token)&&void 0!==o&&o.text){let t=e.token.text;if(t.includes("<eos>")||t.includes("</s>")||t.includes("User:")){h=!0;continue}if(u&&(t=t.trimLeft(),u=!1),c+=t,c.match(/[\s\n]|[.,!?]$/)){const e=l+c;c="",l=e,d((t=>{const n=[...t],r=n[n.length-1];return"assistant"===(null===r||void 0===r?void 0:r.role)?r.content=e:n.push({role:"assistant",content:e}),n}))}}}}catch(DM){r=!0,t=DM}finally{try{n&&null!=s.return&&await s.return()}finally{if(r)throw t}}const p=l+c;return c&&d((e=>{const t=[...e],n=t[t.length-1];return"assistant"===(null===n||void 0===n?void 0:n.role)?n.content=p:t.push({role:"assistant",content:p}),t})),p||l}catch(a){throw console.error("Error generating response:",a),a}},T=(0,t.useCallback)((e=>{k.speaking&&k.cancel();const t=new SpeechSynthesisUtterance(e),n=k.getVoices(),i=n.find((e=>"en-US"===e.lang&&e.name.includes("Google")))||n.find((e=>"en-US"===e.lang))||n[0];t.voice=i,t.rate=1,t.pitch=1,t.volume=1,t.onstart=()=>{l(!0),x.current&&s&&x.current.stop()},t.onend=()=>{var e;(l(!1),r&&!s)&&(null===(e=x.current)||void 0===e||e.start())},k.speak(t)}),[r,s]),_=(0,t.useCallback)((async e=>{if(!e.trim())return;const t={role:"user",content:e};d((e=>[...e,t])),u(""),w(!0);try{const t=await C(e);r&&T(t)}catch(n){console.error("Error:",n);const e="Sorry, I encountered an error. Please try again.";d((t=>[...t,{role:"assistant",content:e}])),r&&T(e)}finally{w(!1)}}),[r,T]);(0,t.useEffect)((()=>{if("SpeechRecognition"in window||"webkitSpeechRecognition"in window){const e=window.SpeechRecognition||window.webkitSpeechRecognition;x.current=new e,x.current.continuous=!1,x.current.interimResults=!0,x.current.lang="en-US",x.current.onstart=()=>{o(!0)},x.current.onresult=e=>{const t=Array.from(e.results).map((e=>e[0].transcript)).join("");u(t),e.results[0].isFinal&&_(t)},x.current.onend=()=>{o(!1),r&&!a&&setTimeout((()=>{var e;null===(e=x.current)||void 0===e||e.start()}),1e3)},x.current.onerror=e=>{console.error("Speech recognition error:",e.error),o(!1)}}return()=>{x.current&&x.current.stop(),k.speaking&&k.cancel()}}),[r,a,_]),(0,t.useEffect)((()=>{var e;null===(e=E.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[h]);const A=()=>{const e={id:Date.now().toString(),title:"New Chat",messages:[]};p((t=>[...t,e])),g(e.id),d([])},N=h.filter((e=>e.content.toLowerCase().includes(y.toLowerCase())));return(0,Vw.jsxs)("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[(0,Vw.jsx)(yL,{isInChat:h.length>0,onMenuClick:()=>n(!e),onNewChat:A,onMoreOptionsClick:()=>{}}),(0,Vw.jsx)(bL,{isOpen:e,chats:f,onNewChat:A,onChatSelect:e=>g(e),searchQuery:y,onSearchChange:e=>v(e.target.value)}),(0,Vw.jsxs)("main",{className:"chat-container",children:[N.map(((e,t)=>(0,Vw.jsxs)("div",{className:"message ".concat("user"===e.role?"user":"assistant"),children:["assistant"===e.role&&(0,Vw.jsx)(EL,{className:"w-6 h-6 text-blue-500"}),(0,Vw.jsx)("div",{className:"message-content",children:e.content}),"user"===e.role&&(0,Vw.jsx)(tO,{className:"w-6 h-6 text-gray-500"})]},t))),(0,Vw.jsx)("div",{ref:E}),b&&(0,Vw.jsx)("div",{className:"flex justify-center py-4",children:(0,Vw.jsxs)("div",{className:"voice-indicator",children:[(0,Vw.jsx)("span",{}),(0,Vw.jsx)("span",{}),(0,Vw.jsx)("span",{})]})})]}),r&&(0,Vw.jsx)(SL,{isListening:s,transcript:c}),(0,Vw.jsx)(kL,{isVoiceMode:r,onVoiceModeToggle:()=>{r?(x.current&&x.current.stop(),k.speaking&&k.cancel(),i(!1),o(!1)):(i(!0),x.current&&x.current.start())},onMessageSend:async e=>{if(!e.trim())return;const t={role:"user",content:e};d((e=>[...e,t])),w(!0);try{const t=await C(e);r&&T(t)}catch(n){console.error("Error:",n);const e="Sorry, I encountered an error. Please try again.";d((t=>[...t,{role:"assistant",content:e}]))}finally{w(!1)}},onFileUpload:e=>{console.log("Files to upload:",e)},isListening:s})]})},IM=()=>{const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)("");return(0,Vw.jsxs)("div",{className:"upload-container",style:{padding:"20px"},children:[(0,Vw.jsx)("h1",{children:"Upload Chemistry Data"}),(0,Vw.jsx)("button",{onClick:async()=>{n(!0),i("Starting upload...");try{const e=await(async()=>{try{return console.log("Starting data upload..."),await sb($y(yb,"courses","10-chemistry"),{chapters:[{id:"1",title:"Chemical Reactions",description:"Understanding different types of chemical reactions and their characteristics",progress:0}]}),console.log("Course data uploaded"),await sb($y(yb,"chapters","10-chemistry-1"),{sections:[{id:"1",title:"Introduction to Chemical Reactions",description:"Basic concepts and chemical equations",completed:!1,xpReward:20},{id:"2",title:"Types of Chemical Reactions",description:"Combination, decomposition, and displacement reactions",completed:!1,xpReward:30},{id:"3",title:"Advanced Reaction Types",description:"Precipitation, energy-based reactions, oxidation, and reduction",completed:!1,xpReward:40}]}),console.log("Chapter data uploaded"),await sb($y(yb,"sections","10-chemistry-1-1"),{lessons:[{id:"1",title:"Chemical Equations",completedParts:0,totalParts:4,xpReward:10,estimatedTime:15,content:{theory:"A chemical equation is the symbolic representation of a chemical reaction where the reactants and products are expressed as formulas.\n\nKey Points:\n\u2022 Reactants are written on the left side\n\u2022 Products are written on the right side\n\u2022 An arrow (\u2192) separates reactants from products\n\u2022 Physical states are shown in parentheses: (s), (l), (g), (aq)"}},{id:"2",title:"Balanced Chemical Equations",completedParts:0,totalParts:5,xpReward:15,estimatedTime:20,content:{theory:"Balancing chemical equations ensures that the number of atoms of each element is equal on both sides.\n\nSteps for balancing:\n1. Count atoms of each element on both sides\n2. Add coefficients to make numbers equal\n3. Check the final equation"}}]}),console.log("Section 1 data uploaded"),await sb($y(yb,"sections","10-chemistry-1-2"),{lessons:[{id:"1",title:"Combination Reactions",completedParts:0,totalParts:3,xpReward:10,estimatedTime:15,content:{theory:"Combination reactions involve two or more reactants combining to form a single product.\nGeneral form: A + B \u2192 AB"}},{id:"2",title:"Decomposition Reactions",completedParts:0,totalParts:3,xpReward:10,estimatedTime:15,content:{theory:"Decomposition reactions involve breaking down a single compound into two or more simpler substances.\nGeneral form: AB \u2192 A + B"}},{id:"3",title:"Displacement Reactions",completedParts:0,totalParts:3,xpReward:10,estimatedTime:15,content:{theory:"Displacement reactions involve an element replacing another element in a compound.\nGeneral form: A + BC \u2192 AC + B"}},{id:"4",title:"Double Displacement Reactions",completedParts:0,totalParts:3,xpReward:10,estimatedTime:15,content:{theory:"Double displacement reactions involve the exchange of ions between two compounds to form new compounds.\nGeneral form: AB + CD \u2192 AD + CB"}}]}),console.log("Section 2 data uploaded"),await sb($y(yb,"sections","10-chemistry-1-3"),{lessons:[{id:"1",title:"Precipitation Reactions",completedParts:0,totalParts:3,xpReward:10,estimatedTime:15,content:{theory:"Precipitation reactions result in the formation of an insoluble product (precipitate) when two solutions are mixed."}},{id:"2",title:"Endothermic and Exothermic Reactions",completedParts:0,totalParts:3,xpReward:10,estimatedTime:15,content:{theory:"Endothermic reactions absorb energy, while exothermic reactions release energy."}},{id:"3",title:"Oxidation and Reduction",completedParts:0,totalParts:3,xpReward:10,estimatedTime:15,content:{theory:"Oxidation involves the loss of electrons, while reduction involves the gain of electrons. These reactions often occur together in redox processes."}}]}),console.log("Section 3 data uploaded"),console.log("All data uploaded successfully!"),!0}catch(e){return console.error("Error uploading data:",e),!1}})();i(e?"Data uploaded successfully!":"Upload failed. Check console for errors.")}catch(e){i("Error: ".concat(e.message))}finally{n(!1)}},disabled:e,style:{padding:"10px 20px",margin:"20px 0",backgroundColor:e?"#ccc":"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:e?"not-allowed":"pointer"},children:e?"Uploading...":"Upload Data"}),r&&(0,Vw.jsx)("div",{style:{marginTop:"20px",padding:"10px",backgroundColor:r.includes("Error")?"#ffe6e6":"#e6ffe6",borderRadius:"5px"},children:r})]})},PM=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[s,o]=(0,t.useState)("");return(0,Vw.jsxs)("div",{className:"forgot-password-container",children:[(0,Vw.jsxs)("div",{className:"forgot-password-header",children:[(0,Vw.jsx)("h1",{children:"Forgot Password"}),(0,Vw.jsx)("p",{children:"Enter your email to reset your password"})]}),(0,Vw.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(""),o("");try{await async function(e,t,n){var r;const i=Ai(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Ci(i,s,"getOobCode",!0);n&&os(i,e,n),await Mi(i,e)}else n&&os(i,s,n),await Mi(i,s).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await Ci(i,s,"getOobCode",!0);n&&os(i,e,n),await Mi(i,e)}}))}(gb,e),i("Password reset email has been sent. Please check your inbox.")}catch(DM){"auth/user-not-found"===DM.code?o("This email is not registered."):o(DM.message)}},children:[(0,Vw.jsx)("div",{className:"form-group",children:(0,Vw.jsx)("input",{type:"email",className:"form-input",placeholder:"Email Address",value:e,onChange:e=>n(e.target.value),required:!0})}),r&&(0,Vw.jsx)("div",{className:"message-alert",children:r}),s&&(0,Vw.jsx)("div",{className:"error-alert",children:s}),(0,Vw.jsx)("button",{type:"submit",className:"submit-button",children:"Send Reset Email"})]}),(0,Vw.jsx)("div",{className:"additional-options",children:(0,Vw.jsx)("a",{href:"/login",children:"Back to Login"})})]})};const RM=function(){const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{const e=function(e,t,n,r){return qt(e).onAuthStateChanged(t,n,r)}(gb,(e=>{n(e||null),i(!1)}));return()=>e()}),[]),r?(0,Vw.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,Vw.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):(0,Vw.jsx)(zw,{children:(0,Vw.jsx)(ut,{children:(0,Vw.jsxs)(Ie,{children:[(0,Vw.jsx)(Ae,{path:"/",element:e?(0,Vw.jsx)(qT,{}):(0,Vw.jsx)(_e,{to:"/login"})}),(0,Vw.jsx)(Ae,{path:"/admin/upload",element:(0,Vw.jsx)(IM,{})}),(0,Vw.jsx)(Ae,{path:"/register",element:(0,Vw.jsx)(qw,{})}),(0,Vw.jsx)(Ae,{path:"/forgot-password",element:(0,Vw.jsx)(PM,{})}),(0,Vw.jsx)(Ae,{path:"/login",element:(0,Vw.jsx)(Hw,{})}),(0,Vw.jsx)(Ae,{path:"/home",element:e?(0,Vw.jsx)(qT,{}):(0,Vw.jsx)(_e,{to:"/login"})}),(0,Vw.jsx)(Ae,{path:"/profile",element:e?(0,Vw.jsx)(HT,{}):(0,Vw.jsx)(_e,{to:"/login"})}),(0,Vw.jsx)(Ae,{path:"/community",element:e?(0,Vw.jsx)(jO,{}):(0,Vw.jsx)(_e,{to:"/login"})}),(0,Vw.jsx)(Ae,{path:"/verify-email",element:(0,Vw.jsx)(oL,{})}),(0,Vw.jsx)(Ae,{path:"/messages",element:(0,Vw.jsx)(sL,{})}),(0,Vw.jsx)(Ae,{path:"/lio",element:(0,Vw.jsx)(NM,{})}),(0,Vw.jsx)(Ae,{path:"/class/:classId/:subject",element:(0,Vw.jsx)(aL,{})}),(0,Vw.jsx)(Ae,{path:"/class/:classId/:subject/chapter/:chapterId",element:(0,Vw.jsx)(lL,{})}),(0,Vw.jsx)(Ae,{path:"/class/:classId/:subject/chapter/:chapterId/section/:sectionId",element:(0,Vw.jsx)(cL,{})}),(0,Vw.jsx)(Ae,{path:"/class/:classId/:subject/chapter/:chapterId/section/:sectionId/lesson/:lessonId",element:(0,Vw.jsx)(hL,{})}),(0,Vw.jsx)(Ae,{path:"/ask-question",element:e?(0,Vw.jsx)(DO,{}):(0,Vw.jsx)(_e,{to:"/login"})}),(0,Vw.jsx)(Ae,{path:"/question/:questionId",element:e?(0,Vw.jsx)(OO,{}):(0,Vw.jsx)(_e,{to:"/login"})}),(0,Vw.jsx)(Ae,{path:"/chats",element:e?(0,Vw.jsx)(MO,{}):(0,Vw.jsx)(_e,{to:"/login"})}),(0,Vw.jsx)(Ae,{path:"/friend-profile/:friendId",element:e?(0,Vw.jsx)(FO,{}):(0,Vw.jsx)(_e,{to:"/login"})}),(0,Vw.jsx)(Ae,{path:"/studyroom",element:e?(0,Vw.jsx)(qO,{}):(0,Vw.jsx)(_e,{to:"/login"})})]})})})},jM=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,Vw.jsx)(t.StrictMode,{children:(0,Vw.jsx)(RM,{})})),jM()})()})();
//# sourceMappingURL=main.498f9cc1.js.map